[INFO ] 2021-07-14 17:44:11 [main] INFO  r.n.c.CloudServiceAppApplication - Starting CloudServiceAppApplication using Java 14.0.1 on MBP-Maksim.Dlink with PID 12021 (/Users/maksim/Desktop/CloudService/CloudServiceBackend/target/classes started by maksim in /Users/maksim/Desktop/CloudService/CloudServiceBackend)
[INFO ] 2021-07-14 17:44:11 [main] INFO  r.n.c.CloudServiceAppApplication - No active profile set, falling back to default profiles: default
[WARN ] 2021-07-14 17:44:11 [background-preinit] WARN  o.s.h.c.j.Jackson2ObjectMapperBuilder - For Jackson Kotlin classes support please add "com.fasterxml.jackson.module:jackson-module-kotlin" to the classpath
[INFO ] 2021-07-14 17:44:12 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-07-14 17:44:12 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 56 ms. Found 2 JPA repository interfaces.
[INFO ] 2021-07-14 17:44:12 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@432f521f' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[INFO ] 2021-07-14 17:44:12 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[INFO ] 2021-07-14 17:44:12 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8888 (http)
[INFO ] 2021-07-14 17:44:12 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
[INFO ] 2021-07-14 17:44:12 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.46]
[INFO ] 2021-07-14 17:44:12 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
[INFO ] 2021-07-14 17:44:12 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1442 ms
[INFO ] 2021-07-14 17:44:12 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
[INFO ] 2021-07-14 17:44:13 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
[INFO ] 2021-07-14 17:44:13 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
[INFO ] 2021-07-14 17:44:13 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
[INFO ] 2021-07-14 17:44:13 [main] INFO  liquibase.lockservice - Successfully released change log lock
[INFO ] 2021-07-14 17:44:13 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
[WARN ] 2021-07-14 17:44:13 [main] WARN  liquibase.hub - Skipping auto-registration
[INFO ] 2021-07-14 17:44:13 [main] INFO  liquibase.lockservice - Successfully released change log lock
[INFO ] 2021-07-14 17:44:13 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-07-14 17:44:13 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.31.Final
[INFO ] 2021-07-14 17:44:14 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-07-14 17:44:14 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
[INFO ] 2021-07-14 17:44:14 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-07-14 17:44:14 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-07-14 17:44:15 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-07-14 17:44:15 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.web.filter.CorsFilter@13d1653, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3533d790, org.springframework.security.web.context.SecurityContextPersistenceFilter@3445ddf2, org.springframework.security.web.header.HeaderWriterFilter@6a9f8c2f, org.springframework.web.filter.CorsFilter@23e1f610, org.springframework.security.web.authentication.logout.LogoutFilter@b867869, ru.netology.cloud_service_app.security.jwt.JwtUsernamePasswordAuthenticationFilter@73dc7db0, ru.netology.cloud_service_app.security.jwt.JwtTokenVerifier@1a3a6216, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@21abd3a3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@255482cb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@319ea996, org.springframework.security.web.session.SessionManagementFilter@3a678e40, org.springframework.security.web.access.ExceptionTranslationFilter@6d96a895, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1a61f634]
[INFO ] 2021-07-14 17:44:15 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8888 (http) with context path ''
[INFO ] 2021-07-14 17:44:15 [main] INFO  r.n.c.CloudServiceAppApplication - Started CloudServiceAppApplication in 4.653 seconds (JVM running for 5.398)
[INFO ] 2021-07-14 17:44:15 [main] INFO  o.s.b.a.ApplicationAvailabilityBean - Application availability state LivenessState changed to CORRECT
[INFO ] 2021-07-14 17:44:15 [main] INFO  o.s.b.a.ApplicationAvailabilityBean - Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
[INFO ] 2021-07-14 17:44:20 [http-nio-8888-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
[INFO ] 2021-07-14 17:44:20 [http-nio-8888-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
[INFO ] 2021-07-14 17:44:20 [http-nio-8888-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
[INFO ] 2021-07-14 17:44:20 [http-nio-8888-exec-2] INFO  r.n.c.aspects.LoggingAspect - Принят запрос от пользоваетеля max@mail.ru на просмотр всех файлов
[INFO ] 2021-07-14 17:44:20 [http-nio-8888-exec-2] INFO  r.n.c.aspects.LoggingAspect - Пользователь max@mail.ru получил список файлов: [FileData(fileName=1.jpeg, size=282426)]
[INFO ] 2021-07-14 17:44:23 [http-nio-8888-exec-4] INFO  r.n.c.aspects.LoggingAspect - Принят запрос от пользоваетеля max@mail.ru на удаление файла 1.jpeg
[INFO ] 2021-07-14 17:44:23 [http-nio-8888-exec-4] INFO  r.n.c.aspects.LoggingAspect - Пользоваетель max@mail.ru успешно удалил файл 1.jpeg
[INFO ] 2021-07-14 17:44:25 [http-nio-8888-exec-5] INFO  r.n.c.aspects.LoggingAspect - Принят запрос от пользоваетеля max@mail.ru на просмотр всех файлов
[INFO ] 2021-07-14 17:44:25 [http-nio-8888-exec-5] INFO  r.n.c.aspects.LoggingAspect - Пользователь max@mail.ru получил список файлов: []
[INFO ] 2021-07-14 17:44:28 [http-nio-8888-exec-7] INFO  r.n.c.aspects.LoggingAspect - Принят запрос от пользоваетеля max@mail.ru на сохранение файла
[INFO ] 2021-07-14 17:44:28 [http-nio-8888-exec-7] INFO  r.n.c.aspects.LoggingAspect - Осуществляется проверка, возможно ли восстановить удаленный файл
[INFO ] 2021-07-14 17:44:28 [http-nio-8888-exec-7] INFO  r.n.c.aspects.LoggingAspect - Файл восстановлен, его статус обновился
[INFO ] 2021-07-14 17:44:29 [http-nio-8888-exec-7] INFO  r.n.c.aspects.LoggingAspect - Пользователь max@mail.ru успешно сохранил файл
[INFO ] 2021-07-14 17:44:31 [http-nio-8888-exec-9] INFO  r.n.c.aspects.LoggingAspect - Принят запрос от пользоваетеля max@mail.ru на просмотр всех файлов
[INFO ] 2021-07-14 17:44:31 [http-nio-8888-exec-9] INFO  r.n.c.aspects.LoggingAspect - Пользователь max@mail.ru получил список файлов: [FileData(fileName=1.jpeg, size=282426)]
[INFO ] 2021-07-14 17:54:22 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest]: no resource found for suffixes {-context.xml, Context.groovy}.
[INFO ] 2021-07-14 17:54:22 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest]: CloudServiceIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
[INFO ] 2021-07-14 17:54:23 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration ru.netology.cloud_service_app.CloudServiceAppApplication for test class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest
[INFO ] 2021-07-14 17:54:23 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
[INFO ] 2021-07-14 17:54:23 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@696f0212, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5733f295, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@1c3146bc, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@56c698e3, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@47a86fbb, org.springframework.test.context.support.DirtiesContextTestExecutionListener@f478a81, org.springframework.test.context.transaction.TransactionalTestExecutionListener@19553973, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7bb6ab3a, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@7fe7c640, org.springframework.test.context.event.EventPublishingTestExecutionListener@4c4748bf, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@7ce97ee5, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@32c8e539, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@73dce0e6, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@5a85c92, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@32811494, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@4795ded0, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@53dacd14]
[INFO ] 2021-07-14 17:54:23 [testcontainers-lifecycle-0] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
[INFO ] 2021-07-14 17:54:24 [testcontainers-lifecycle-0] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
[INFO ] 2021-07-14 17:54:24 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Docker host IP address is localhost
[INFO ] 2021-07-14 17:54:24 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Connected to docker: 
  Server Version: 20.10.7
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 1987 MB
[INFO ] 2021-07-14 17:54:24 [testcontainers-lifecycle-0] INFO  o.t.utility.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
[INFO ] 2021-07-14 17:54:28 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
[INFO ] 2021-07-14 17:54:28 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Checking the system...
[INFO ] 2021-07-14 17:54:28 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - ✔︎ Docker server version should be at least 1.6.0
[INFO ] 2021-07-14 17:54:28 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - ✔︎ Docker environment should have more than 2GB free disk space
[INFO ] 2021-07-14 17:54:28 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Creating container for image: postgres:13.2
[INFO ] 2021-07-14 17:54:32 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Starting container with ID: 8127fd46df8da60d3c059f7eb7eb980f2a28640d424132da39ae8abe58ad327f
[INFO ] 2021-07-14 17:54:36 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Container postgres:13.2 is starting: 8127fd46df8da60d3c059f7eb7eb980f2a28640d424132da39ae8abe58ad327f
[INFO ] 2021-07-14 17:54:39 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Container postgres:13.2 started in PT10.793053S
[INFO ] 2021-07-14 17:54:39 [main] INFO  🐳 [cloud_service_app:1.0] - Creating container for image: cloud_service_app:1.0
[INFO ] 2021-07-14 17:54:39 [main] INFO  🐳 [cloud_service_app:1.0] - Starting container with ID: c13ac6ab65c3326a1707aa01d7b34787b995d8a49fc52a7bb340ddb6f1b29b55
[INFO ] 2021-07-14 17:54:43 [main] INFO  🐳 [cloud_service_app:1.0] - Container cloud_service_app:1.0 is starting: c13ac6ab65c3326a1707aa01d7b34787b995d8a49fc52a7bb340ddb6f1b29b55
[INFO ] 2021-07-14 17:55:05 [main] INFO  🐳 [cloud_service_app:1.0] - Container cloud_service_app:1.0 started in PT25.928124S
[INFO ] 2021-07-14 17:55:05 [main] INFO  r.n.c.i.CloudServiceIntegrationTest - Starting CloudServiceIntegrationTest using Java 14.0.1 on MBP-Maksim.Dlink with PID 14027 (started by maksim in /Users/maksim/Desktop/CloudService/CloudServiceBackend)
[INFO ] 2021-07-14 17:55:05 [main] INFO  r.n.c.i.CloudServiceIntegrationTest - No active profile set, falling back to default profiles: default
[WARN ] 2021-07-14 17:55:05 [background-preinit] WARN  o.s.h.c.j.Jackson2ObjectMapperBuilder - For Jackson Kotlin classes support please add "com.fasterxml.jackson.module:jackson-module-kotlin" to the classpath
[INFO ] 2021-07-14 17:55:06 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-07-14 17:55:06 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 71 ms. Found 2 JPA repository interfaces.
[INFO ] 2021-07-14 17:55:07 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@62c3f556' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[INFO ] 2021-07-14 17:55:07 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[INFO ] 2021-07-14 17:55:07 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
[INFO ] 2021-07-14 17:55:07 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
[INFO ] 2021-07-14 17:55:07 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.46]
[INFO ] 2021-07-14 17:55:07 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
[INFO ] 2021-07-14 17:55:07 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2242 ms
[INFO ] 2021-07-14 17:55:08 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
[INFO ] 2021-07-14 17:55:08 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
[INFO ] 2021-07-14 17:55:08 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
[INFO ] 2021-07-14 17:55:09 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
[INFO ] 2021-07-14 17:55:09 [main] INFO  liquibase.lockservice - Successfully released change log lock
[INFO ] 2021-07-14 17:55:09 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
[WARN ] 2021-07-14 17:55:09 [main] WARN  liquibase.hub - Skipping auto-registration
[INFO ] 2021-07-14 17:55:09 [main] INFO  liquibase.lockservice - Successfully released change log lock
[INFO ] 2021-07-14 17:55:09 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-07-14 17:55:09 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.31.Final
[INFO ] 2021-07-14 17:55:10 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-07-14 17:55:10 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
[INFO ] 2021-07-14 17:55:11 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-07-14 17:55:11 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-07-14 17:55:12 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-07-14 17:55:12 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.web.filter.CorsFilter@387bbd7a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@22cf6c9c, org.springframework.security.web.context.SecurityContextPersistenceFilter@c32908c, org.springframework.security.web.header.HeaderWriterFilter@17524c36, org.springframework.web.filter.CorsFilter@4569b6a9, org.springframework.security.web.authentication.logout.LogoutFilter@132f1d85, ru.netology.cloud_service_app.security.jwt.JwtUsernamePasswordAuthenticationFilter@15932faf, ru.netology.cloud_service_app.security.jwt.JwtTokenVerifier@7066c00a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@349469db, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@62f8b2f4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2914f916, org.springframework.security.web.session.SessionManagementFilter@2f29046b, org.springframework.security.web.access.ExceptionTranslationFilter@24e0bdb, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2d6a6887]
[INFO ] 2021-07-14 17:55:13 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 62970 (http) with context path ''
[INFO ] 2021-07-14 17:55:13 [main] INFO  r.n.c.i.CloudServiceIntegrationTest - Started CloudServiceIntegrationTest in 7.963 seconds (JVM running for 51.829)
[INFO ] 2021-07-14 17:55:13 [main] INFO  o.s.b.a.ApplicationAvailabilityBean - Application availability state LivenessState changed to CORRECT
[INFO ] 2021-07-14 17:55:13 [main] INFO  o.s.b.a.ApplicationAvailabilityBean - Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
[INFO ] 2021-07-14 17:55:53 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest]: no resource found for suffixes {-context.xml, Context.groovy}.
[INFO ] 2021-07-14 17:55:53 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest]: CloudServiceIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
[INFO ] 2021-07-14 17:55:53 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration ru.netology.cloud_service_app.CloudServiceAppApplication for test class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest
[INFO ] 2021-07-14 17:55:53 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
[INFO ] 2021-07-14 17:55:53 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2eced48b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@47c4ecdc, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@42f33b5d, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@5c8504fd, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@4b7e96a, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6475472c, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3f07b12c, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@4bd1f8dd, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@7096b474, org.springframework.test.context.event.EventPublishingTestExecutionListener@3e14c16d, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@3c989952, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@784b990c, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@3d3ba765, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@25bc0606, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@5d1659ea, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@793138bd, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@1951b871]
[INFO ] 2021-07-14 17:55:53 [testcontainers-lifecycle-0] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
[INFO ] 2021-07-14 17:55:54 [testcontainers-lifecycle-0] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
[INFO ] 2021-07-14 17:55:54 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Docker host IP address is localhost
[INFO ] 2021-07-14 17:55:54 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Connected to docker: 
  Server Version: 20.10.7
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 1987 MB
[INFO ] 2021-07-14 17:55:54 [testcontainers-lifecycle-0] INFO  o.t.utility.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
[INFO ] 2021-07-14 17:55:56 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
[INFO ] 2021-07-14 17:55:56 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Checking the system...
[INFO ] 2021-07-14 17:55:56 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - ✔︎ Docker server version should be at least 1.6.0
[INFO ] 2021-07-14 17:55:57 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - ✔︎ Docker environment should have more than 2GB free disk space
[INFO ] 2021-07-14 17:55:57 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Creating container for image: postgres:13.2
[INFO ] 2021-07-14 17:56:01 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Starting container with ID: 8da7877fd10df6729b659fab9ebd7d2a3184527b3ac356a8f8bb0046592a776c
[INFO ] 2021-07-14 17:56:04 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Container postgres:13.2 is starting: 8da7877fd10df6729b659fab9ebd7d2a3184527b3ac356a8f8bb0046592a776c
[INFO ] 2021-07-14 17:56:06 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Container postgres:13.2 started in PT9.601216S
[INFO ] 2021-07-14 17:56:06 [main] INFO  🐳 [cloud_service_app:1.0] - Creating container for image: cloud_service_app:1.0
[INFO ] 2021-07-14 17:56:06 [main] INFO  🐳 [cloud_service_app:1.0] - Starting container with ID: 402126e3d09b14386de2f1c0b4534c83cae0eef819958f55771584f073ead9ab
[INFO ] 2021-07-14 17:56:10 [main] INFO  🐳 [cloud_service_app:1.0] - Container cloud_service_app:1.0 is starting: 402126e3d09b14386de2f1c0b4534c83cae0eef819958f55771584f073ead9ab
[INFO ] 2021-07-14 17:56:30 [main] INFO  🐳 [cloud_service_app:1.0] - Container cloud_service_app:1.0 started in PT24.348618S
[INFO ] 2021-07-14 17:56:31 [main] INFO  r.n.c.i.CloudServiceIntegrationTest - Starting CloudServiceIntegrationTest using Java 14.0.1 on MBP-Maksim.Dlink with PID 14244 (started by maksim in /Users/maksim/Desktop/CloudService/CloudServiceBackend)
[INFO ] 2021-07-14 17:56:31 [main] INFO  r.n.c.i.CloudServiceIntegrationTest - No active profile set, falling back to default profiles: default
[WARN ] 2021-07-14 17:56:31 [background-preinit] WARN  o.s.h.c.j.Jackson2ObjectMapperBuilder - For Jackson Kotlin classes support please add "com.fasterxml.jackson.module:jackson-module-kotlin" to the classpath
[INFO ] 2021-07-14 17:56:32 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-07-14 17:56:32 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 75 ms. Found 2 JPA repository interfaces.
[INFO ] 2021-07-14 17:56:33 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@67e0fd6d' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[INFO ] 2021-07-14 17:56:33 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[INFO ] 2021-07-14 17:56:33 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
[INFO ] 2021-07-14 17:56:33 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
[INFO ] 2021-07-14 17:56:33 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.46]
[INFO ] 2021-07-14 17:56:33 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
[INFO ] 2021-07-14 17:56:33 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2166 ms
[INFO ] 2021-07-14 17:56:33 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
[INFO ] 2021-07-14 17:56:34 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
[INFO ] 2021-07-14 17:56:34 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
[INFO ] 2021-07-14 17:56:35 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
[INFO ] 2021-07-14 17:56:35 [main] INFO  liquibase.lockservice - Successfully released change log lock
[INFO ] 2021-07-14 17:56:35 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
[WARN ] 2021-07-14 17:56:35 [main] WARN  liquibase.hub - Skipping auto-registration
[INFO ] 2021-07-14 17:56:35 [main] INFO  liquibase.lockservice - Successfully released change log lock
[INFO ] 2021-07-14 17:56:35 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-07-14 17:56:35 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.31.Final
[INFO ] 2021-07-14 17:56:35 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-07-14 17:56:35 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
[INFO ] 2021-07-14 17:56:36 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-07-14 17:56:36 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-07-14 17:56:38 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-07-14 17:56:38 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.web.filter.CorsFilter@4e41b993, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@915c47b, org.springframework.security.web.context.SecurityContextPersistenceFilter@311819e8, org.springframework.security.web.header.HeaderWriterFilter@6d9bcf19, org.springframework.web.filter.CorsFilter@7108b12d, org.springframework.security.web.authentication.logout.LogoutFilter@597f2d3f, ru.netology.cloud_service_app.security.jwt.JwtUsernamePasswordAuthenticationFilter@7a80b2e6, ru.netology.cloud_service_app.security.jwt.JwtTokenVerifier@394e0104, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@62099f75, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@57ac220f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1e5f3c4a, org.springframework.security.web.session.SessionManagementFilter@56f8ab05, org.springframework.security.web.access.ExceptionTranslationFilter@6bd5aa8b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3726fc3b]
[INFO ] 2021-07-14 17:56:39 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 63337 (http) with context path ''
[INFO ] 2021-07-14 17:56:39 [main] INFO  r.n.c.i.CloudServiceIntegrationTest - Started CloudServiceIntegrationTest in 8.616 seconds (JVM running for 47.648)
[INFO ] 2021-07-14 17:56:39 [main] INFO  o.s.b.a.ApplicationAvailabilityBean - Application availability state LivenessState changed to CORRECT
[INFO ] 2021-07-14 17:56:39 [main] INFO  o.s.b.a.ApplicationAvailabilityBean - Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
[INFO ] 2021-07-14 22:19:10 [main] INFO  r.n.c.CloudServiceAppApplication - Starting CloudServiceAppApplication using Java 14.0.1 on MBP-Maksim.Dlink with PID 24025 (/Users/maksim/Desktop/CloudService/CloudServiceBackend/target/classes started by maksim in /Users/maksim/Desktop/CloudService/CloudServiceBackend)
[INFO ] 2021-07-14 22:19:10 [main] INFO  r.n.c.CloudServiceAppApplication - No active profile set, falling back to default profiles: default
[WARN ] 2021-07-14 22:19:10 [background-preinit] WARN  o.s.h.c.j.Jackson2ObjectMapperBuilder - For Jackson Kotlin classes support please add "com.fasterxml.jackson.module:jackson-module-kotlin" to the classpath
[INFO ] 2021-07-14 22:19:11 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-07-14 22:19:11 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 67 ms. Found 2 JPA repository interfaces.
[INFO ] 2021-07-14 22:19:11 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@527fc8e' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[INFO ] 2021-07-14 22:19:11 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[INFO ] 2021-07-14 22:19:11 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8888 (http)
[INFO ] 2021-07-14 22:19:11 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
[INFO ] 2021-07-14 22:19:11 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.46]
[INFO ] 2021-07-14 22:19:12 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
[INFO ] 2021-07-14 22:19:12 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1779 ms
[INFO ] 2021-07-14 22:19:12 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
[INFO ] 2021-07-14 22:19:12 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
[INFO ] 2021-07-14 22:19:12 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
[INFO ] 2021-07-14 22:19:13 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
[INFO ] 2021-07-14 22:19:13 [main] INFO  liquibase.lockservice - Successfully released change log lock
[INFO ] 2021-07-14 22:19:13 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
[WARN ] 2021-07-14 22:19:13 [main] WARN  liquibase.hub - Skipping auto-registration
[INFO ] 2021-07-14 22:19:13 [main] INFO  liquibase.lockservice - Successfully released change log lock
[INFO ] 2021-07-14 22:19:13 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-07-14 22:19:13 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.31.Final
[INFO ] 2021-07-14 22:19:13 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-07-14 22:19:13 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
[INFO ] 2021-07-14 22:19:14 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-07-14 22:19:14 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-07-14 22:19:14 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-07-14 22:19:15 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.web.filter.CorsFilter@3abb6aa, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@34074149, org.springframework.security.web.context.SecurityContextPersistenceFilter@2723b0d0, org.springframework.security.web.header.HeaderWriterFilter@54d9b23a, org.springframework.web.filter.CorsFilter@3f7bf0f6, org.springframework.security.web.authentication.logout.LogoutFilter@12d8e6b6, ru.netology.cloud_service_app.security.jwt.JwtUsernamePasswordAuthenticationFilter@45430a27, ru.netology.cloud_service_app.security.jwt.JwtTokenVerifier@1b83fac3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@47d0195b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6d96a895, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1500edf3, org.springframework.security.web.session.SessionManagementFilter@428e9be2, org.springframework.security.web.access.ExceptionTranslationFilter@53b83897, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@28f081ad]
[INFO ] 2021-07-14 22:19:15 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8888 (http) with context path ''
[INFO ] 2021-07-14 22:19:15 [main] INFO  r.n.c.CloudServiceAppApplication - Started CloudServiceAppApplication in 5.947 seconds (JVM running for 7.106)
[INFO ] 2021-07-14 22:19:15 [main] INFO  o.s.b.a.ApplicationAvailabilityBean - Application availability state LivenessState changed to CORRECT
[INFO ] 2021-07-14 22:19:15 [main] INFO  o.s.b.a.ApplicationAvailabilityBean - Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
[INFO ] 2021-07-14 22:19:19 [http-nio-8888-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
[INFO ] 2021-07-14 22:19:19 [http-nio-8888-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
[INFO ] 2021-07-14 22:19:19 [http-nio-8888-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
[INFO ] 2021-07-14 22:19:19 [http-nio-8888-exec-2] INFO  r.n.c.aspects.LoggingAspect - Принят запрос от пользоваетеля max@mail.ru на просмотр всех файлов
[INFO ] 2021-07-14 22:19:19 [http-nio-8888-exec-2] INFO  r.n.c.aspects.LoggingAspect - Пользователь max@mail.ru получил список файлов: [FileData(fileName=1.jpeg, size=282426)]
[INFO ] 2021-07-14 22:19:22 [http-nio-8888-exec-4] INFO  r.n.c.aspects.LoggingAspect - Принят запрос от пользоваетеля max@mail.ru на удаление файла 1.jpeg
[INFO ] 2021-07-14 22:19:22 [http-nio-8888-exec-4] INFO  r.n.c.aspects.LoggingAspect - Пользоваетель max@mail.ru успешно удалил файл 1.jpeg
[INFO ] 2021-07-14 22:19:25 [http-nio-8888-exec-6] INFO  r.n.c.aspects.LoggingAspect - Принят запрос от пользоваетеля max@mail.ru на просмотр всех файлов
[INFO ] 2021-07-14 22:19:25 [http-nio-8888-exec-6] INFO  r.n.c.aspects.LoggingAspect - Пользователь max@mail.ru получил список файлов: []
[INFO ] 2021-07-14 22:19:28 [http-nio-8888-exec-8] INFO  r.n.c.aspects.LoggingAspect - Принят запрос от пользоваетеля max@mail.ru на сохранение файла
[INFO ] 2021-07-14 22:19:28 [http-nio-8888-exec-8] INFO  r.n.c.aspects.LoggingAspect - Осуществляется проверка, возможно ли восстановить удаленный файл
[INFO ] 2021-07-14 22:19:28 [http-nio-8888-exec-8] INFO  r.n.c.aspects.LoggingAspect - Файл восстановлен, его статус обновился
[INFO ] 2021-07-14 22:19:28 [http-nio-8888-exec-8] INFO  r.n.c.aspects.LoggingAspect - Пользователь max@mail.ru успешно сохранил файл
[INFO ] 2021-07-14 22:19:30 [http-nio-8888-exec-10] INFO  r.n.c.aspects.LoggingAspect - Принят запрос от пользоваетеля max@mail.ru на просмотр всех файлов
[INFO ] 2021-07-14 22:19:30 [http-nio-8888-exec-10] INFO  r.n.c.aspects.LoggingAspect - Пользователь max@mail.ru получил список файлов: [FileData(fileName=1.jpeg, size=282426)]
[INFO ] 2021-07-14 22:26:57 [main] INFO  r.n.c.CloudServiceAppApplication - Starting CloudServiceAppApplication using Java 14.0.1 on MBP-Maksim.Dlink with PID 25601 (/Users/maksim/Desktop/CloudService/CloudServiceBackend/target/classes started by maksim in /Users/maksim/Desktop/CloudService/CloudServiceBackend)
[INFO ] 2021-07-14 22:26:57 [main] INFO  r.n.c.CloudServiceAppApplication - No active profile set, falling back to default profiles: default
[WARN ] 2021-07-14 22:26:58 [background-preinit] WARN  o.s.h.c.j.Jackson2ObjectMapperBuilder - For Jackson Kotlin classes support please add "com.fasterxml.jackson.module:jackson-module-kotlin" to the classpath
[INFO ] 2021-07-14 22:26:58 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-07-14 22:26:58 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 70 ms. Found 2 JPA repository interfaces.
[INFO ] 2021-07-14 22:26:59 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@2da66a44' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[INFO ] 2021-07-14 22:26:59 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[INFO ] 2021-07-14 22:26:59 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8888 (http)
[INFO ] 2021-07-14 22:26:59 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
[INFO ] 2021-07-14 22:26:59 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.46]
[INFO ] 2021-07-14 22:26:59 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
[INFO ] 2021-07-14 22:26:59 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1657 ms
[INFO ] 2021-07-14 22:26:59 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
[INFO ] 2021-07-14 22:26:59 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
[INFO ] 2021-07-14 22:27:00 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
[INFO ] 2021-07-14 22:27:00 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
[INFO ] 2021-07-14 22:27:00 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
[INFO ] 2021-07-14 22:27:00 [main] INFO  liquibase.lockservice - Successfully released change log lock
[INFO ] 2021-07-14 22:27:00 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
[WARN ] 2021-07-14 22:27:00 [main] WARN  liquibase.hub - Skipping auto-registration
[INFO ] 2021-07-14 22:27:00 [main] INFO  liquibase.changelog - SQL in file 001-create-users-table.sql executed
[INFO ] 2021-07-14 22:27:00 [main] INFO  liquibase.changelog - ChangeSet db/changelog/migrations/001/001-create-users-table.xml::001::Maxim ran successfully in 40ms
[INFO ] 2021-07-14 22:27:00 [main] INFO  liquibase.changelog - SQL in file 002-create-roles-table.sql executed
[INFO ] 2021-07-14 22:27:00 [main] INFO  liquibase.changelog - ChangeSet db/changelog/migrations/002/002-create-roles-table.xml::002::Maxim ran successfully in 13ms
[INFO ] 2021-07-14 22:27:00 [main] INFO  liquibase.changelog - SQL in file 003-create-authorities-table.sql executed
[INFO ] 2021-07-14 22:27:00 [main] INFO  liquibase.changelog - ChangeSet db/changelog/migrations/003/003-create-authorities-table.xml::003::Maxim ran successfully in 15ms
[INFO ] 2021-07-14 22:27:00 [main] INFO  liquibase.changelog - SQL in file 004-create-users-roles-table.sql executed
[INFO ] 2021-07-14 22:27:00 [main] INFO  liquibase.changelog - ChangeSet db/changelog/migrations/004/004-create-users-roles-table.xml::004::Maxim ran successfully in 22ms
[INFO ] 2021-07-14 22:27:00 [main] INFO  liquibase.changelog - SQL in file 005-create-roles-authorities-table.sql executed
[INFO ] 2021-07-14 22:27:00 [main] INFO  liquibase.changelog - ChangeSet db/changelog/migrations/005/005-create-roles-authorities-table.xml::005::Maxim ran successfully in 17ms
[INFO ] 2021-07-14 22:27:01 [main] INFO  liquibase.changelog - SQL in file 006-fill-tables-for-test.sql executed
[INFO ] 2021-07-14 22:27:01 [main] INFO  liquibase.changelog - ChangeSet db/changelog/migrations/006/006-fill-tables-for-test.xml::006::Maxim ran successfully in 524ms
[INFO ] 2021-07-14 22:27:01 [main] INFO  liquibase.changelog - SQL in file 007-add-roles-and-authorities.sql executed
[INFO ] 2021-07-14 22:27:01 [main] INFO  liquibase.changelog - ChangeSet db/changelog/migrations/007/007-add-roles-and-authorities.xml::007::Maxim ran successfully in 37ms
[INFO ] 2021-07-14 22:27:01 [main] INFO  liquibase.changelog - SQL in file 008-add-files-table.sql executed
[INFO ] 2021-07-14 22:27:01 [main] INFO  liquibase.changelog - ChangeSet db/changelog/migrations/008/008-add-files-table.xml::008::Maxim ran successfully in 19ms
[INFO ] 2021-07-14 22:27:01 [main] INFO  liquibase.lockservice - Successfully released change log lock
[INFO ] 2021-07-14 22:27:01 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-07-14 22:27:01 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.31.Final
[INFO ] 2021-07-14 22:27:01 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-07-14 22:27:01 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
[INFO ] 2021-07-14 22:27:02 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-07-14 22:27:02 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-07-14 22:27:02 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-07-14 22:27:03 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.web.filter.CorsFilter@5c8e7687, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2d093067, org.springframework.security.web.context.SecurityContextPersistenceFilter@4bd1b07d, org.springframework.security.web.header.HeaderWriterFilter@52b7c1d9, org.springframework.web.filter.CorsFilter@6c056020, org.springframework.security.web.authentication.logout.LogoutFilter@4a467ada, ru.netology.cloud_service_app.security.jwt.JwtUsernamePasswordAuthenticationFilter@7cc842b0, ru.netology.cloud_service_app.security.jwt.JwtTokenVerifier@53dd29e0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5fafd099, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2e60d4f4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3733b1f4, org.springframework.security.web.session.SessionManagementFilter@5d1eb214, org.springframework.security.web.access.ExceptionTranslationFilter@55465bfc, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@33a58fcb]
[INFO ] 2021-07-14 22:27:03 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8888 (http) with context path ''
[INFO ] 2021-07-14 22:27:03 [main] INFO  r.n.c.CloudServiceAppApplication - Started CloudServiceAppApplication in 6.012 seconds (JVM running for 6.865)
[INFO ] 2021-07-14 22:27:03 [main] INFO  o.s.b.a.ApplicationAvailabilityBean - Application availability state LivenessState changed to CORRECT
[INFO ] 2021-07-14 22:27:03 [main] INFO  o.s.b.a.ApplicationAvailabilityBean - Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
[INFO ] 2021-07-14 22:27:25 [http-nio-8888-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
[INFO ] 2021-07-14 22:27:25 [http-nio-8888-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
[INFO ] 2021-07-14 22:27:25 [http-nio-8888-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
[INFO ] 2021-07-14 22:27:25 [http-nio-8888-exec-2] INFO  r.n.c.aspects.LoggingAspect - Принят запрос от пользоваетеля max@mail.ru на просмотр всех файлов
[INFO ] 2021-07-14 22:27:26 [http-nio-8888-exec-2] INFO  r.n.c.aspects.LoggingAspect - Пользователь max@mail.ru получил список файлов: []
[INFO ] 2021-07-14 22:27:37 [http-nio-8888-exec-8] INFO  r.n.c.aspects.LoggingAspect - Принят запрос от пользоваетеля max@mail.ru на просмотр всех файлов
[INFO ] 2021-07-14 22:27:37 [http-nio-8888-exec-8] INFO  r.n.c.aspects.LoggingAspect - Пользователь max@mail.ru получил список файлов: []
[INFO ] 2021-07-14 22:27:45 [http-nio-8888-exec-10] INFO  r.n.c.aspects.LoggingAspect - Принят запрос от пользоваетеля max@mail.ru на сохранение файла
[INFO ] 2021-07-14 22:27:45 [http-nio-8888-exec-10] INFO  r.n.c.aspects.LoggingAspect - Осуществляется проверка, возможно ли восстановить удаленный файл
[INFO ] 2021-07-14 22:27:45 [http-nio-8888-exec-10] INFO  r.n.c.aspects.LoggingAspect - В БД не обнаружено файлов, пригодных для восстановления
[INFO ] 2021-07-14 22:27:45 [http-nio-8888-exec-10] INFO  r.n.c.aspects.LoggingAspect - Пользователь max@mail.ru успешно сохранил файл
[INFO ] 2021-07-14 22:27:47 [http-nio-8888-exec-2] INFO  r.n.c.aspects.LoggingAspect - Принят запрос от пользоваетеля max@mail.ru на просмотр всех файлов
[INFO ] 2021-07-14 22:27:47 [http-nio-8888-exec-2] INFO  r.n.c.aspects.LoggingAspect - Пользователь max@mail.ru получил список файлов: [FileData(fileName=1.jpeg, size=282426)]
[INFO ] 2021-07-14 22:27:49 [http-nio-8888-exec-4] INFO  r.n.c.aspects.LoggingAspect - Принят запрос от пользователя max@mail.ru на изменение названия файла 1.jpeg, на новое: 529.jpeg
[INFO ] 2021-07-14 22:27:49 [http-nio-8888-exec-4] INFO  r.n.c.aspects.LoggingAspect - Пользоваетель max@mail.ru успешно изменил файл 1.jpeg, новое название файла: 529.jpeg
[INFO ] 2021-07-14 22:27:55 [http-nio-8888-exec-6] INFO  r.n.c.aspects.LoggingAspect - Принят запрос от пользоваетеля max@mail.ru на удаление файла 529.jpeg
[INFO ] 2021-07-14 22:27:55 [http-nio-8888-exec-6] INFO  r.n.c.aspects.LoggingAspect - Пользоваетель max@mail.ru успешно удалил файл 529.jpeg
[INFO ] 2021-07-14 22:27:57 [http-nio-8888-exec-8] INFO  r.n.c.aspects.LoggingAspect - Принят запрос от пользоваетеля max@mail.ru на просмотр всех файлов
[INFO ] 2021-07-14 22:27:57 [http-nio-8888-exec-8] INFO  r.n.c.aspects.LoggingAspect - Пользователь max@mail.ru получил список файлов: []
