[INFO ] 2021-08-30 11:46:59 [main] INFO  r.n.c.CloudServiceAppApplication - Starting CloudServiceAppApplication using Java 14.0.1 on MBP-Maksim.Dlink with PID 5488 (/Users/maksim/Desktop/CloudService/CloudServiceBackend/target/classes started by maksim in /Users/maksim/Desktop/CloudService/CloudServiceBackend)
[INFO ] 2021-08-30 11:46:59 [main] INFO  r.n.c.CloudServiceAppApplication - No active profile set, falling back to default profiles: default
[WARN ] 2021-08-30 11:46:59 [background-preinit] WARN  o.s.h.c.j.Jackson2ObjectMapperBuilder - For Jackson Kotlin classes support please add "com.fasterxml.jackson.module:jackson-module-kotlin" to the classpath
[INFO ] 2021-08-30 11:47:00 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-08-30 11:47:00 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 76 ms. Found 2 JPA repository interfaces.
[INFO ] 2021-08-30 11:47:00 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@70887727' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[INFO ] 2021-08-30 11:47:00 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[INFO ] 2021-08-30 11:47:01 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8888 (http)
[INFO ] 2021-08-30 11:47:01 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
[INFO ] 2021-08-30 11:47:01 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.46]
[INFO ] 2021-08-30 11:47:01 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
[INFO ] 2021-08-30 11:47:01 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2050 ms
[INFO ] 2021-08-30 11:47:01 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
[INFO ] 2021-08-30 11:47:01 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
[INFO ] 2021-08-30 11:47:02 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
[INFO ] 2021-08-30 11:47:02 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
[INFO ] 2021-08-30 11:47:02 [main] INFO  liquibase.lockservice - Successfully released change log lock
[INFO ] 2021-08-30 11:47:02 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
[WARN ] 2021-08-30 11:47:02 [main] WARN  liquibase.hub - Skipping auto-registration
[INFO ] 2021-08-30 11:47:02 [main] INFO  liquibase.lockservice - Successfully released change log lock
[INFO ] 2021-08-30 11:47:02 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-08-30 11:47:02 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.31.Final
[INFO ] 2021-08-30 11:47:02 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-08-30 11:47:03 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
[INFO ] 2021-08-30 11:47:03 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-08-30 11:47:03 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-08-30 11:47:04 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-08-30 11:47:04 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.web.filter.CorsFilter@395c21ee, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1e733bb5, org.springframework.security.web.context.SecurityContextPersistenceFilter@5183131d, org.springframework.security.web.header.HeaderWriterFilter@f31b991, org.springframework.web.filter.CorsFilter@669e730d, org.springframework.security.web.authentication.logout.LogoutFilter@6f53295e, ru.netology.cloud_service_app.security.jwt.JwtUsernamePasswordAuthenticationFilter@4b3e4253, ru.netology.cloud_service_app.security.jwt.JwtTokenVerifier@13b5598b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6b3da23f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3bdc8975, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@141c66db, org.springframework.security.web.session.SessionManagementFilter@46bff388, org.springframework.security.web.access.ExceptionTranslationFilter@496004e3, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4552e288]
[INFO ] 2021-08-30 11:47:05 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8888 (http) with context path ''
[INFO ] 2021-08-30 11:47:05 [main] INFO  r.n.c.CloudServiceAppApplication - Started CloudServiceAppApplication in 6.831 seconds (JVM running for 10.122)
[INFO ] 2021-08-30 11:47:05 [main] INFO  o.s.b.a.ApplicationAvailabilityBean - Application availability state LivenessState changed to CORRECT
[INFO ] 2021-08-30 11:47:05 [main] INFO  o.s.b.a.ApplicationAvailabilityBean - Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
[INFO ] 2021-08-30 11:47:16 [http-nio-8888-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
[INFO ] 2021-08-30 11:47:16 [http-nio-8888-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
[INFO ] 2021-08-30 11:47:16 [http-nio-8888-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
[INFO ] 2021-08-30 11:47:17 [http-nio-8888-exec-4] INFO  r.n.c.controllers.FileController - Принят запрос от пользоваетеля max@mail.ru на просмотр всех файлов
[INFO ] 2021-08-30 11:47:17 [http-nio-8888-exec-4] INFO  r.n.c.controllers.FileController - Пользователь max@mail.ru получил список файлов: [FileData(fileName=1.jpeg, size=282426), FileData(fileName=Снимок экрана 2021-07-29 в 12.10.22.png, size=724356)]
[INFO ] 2021-08-30 11:47:24 [http-nio-8888-exec-6] INFO  r.n.c.controllers.FileController - Принят запрос от пользователя max@mail.ru на изменение названия файла 1.jpeg, на новое: 53.jpeg
[INFO ] 2021-08-30 11:47:24 [http-nio-8888-exec-6] INFO  r.n.c.controllers.FileController - Пользоваетель max@mail.ru успешно изменил файл 1.jpeg, новое название файла: 53.jpeg
[INFO ] 2021-08-30 11:47:31 [http-nio-8888-exec-8] INFO  r.n.c.controllers.FileController - Принят запрос от пользователя max@mail.ru на изменение названия файла 53.jpeg, на новое: 496.jpeg
[INFO ] 2021-08-30 11:47:31 [http-nio-8888-exec-8] INFO  r.n.c.controllers.FileController - Пользоваетель max@mail.ru успешно изменил файл 53.jpeg, новое название файла: 496.jpeg
[INFO ] 2021-08-30 11:47:35 [http-nio-8888-exec-10] INFO  r.n.c.controllers.FileController - Принят запрос от пользоваетеля max@mail.ru на удаление файла 496.jpeg
[INFO ] 2021-08-30 11:47:35 [http-nio-8888-exec-10] INFO  r.n.c.controllers.FileController - Пользоваетель max@mail.ru успешно удалил файл 496.jpeg
[INFO ] 2021-08-30 11:47:37 [http-nio-8888-exec-2] INFO  r.n.c.controllers.FileController - Принят запрос от пользоваетеля max@mail.ru на просмотр всех файлов
[INFO ] 2021-08-30 11:47:37 [http-nio-8888-exec-2] INFO  r.n.c.controllers.FileController - Пользователь max@mail.ru получил список файлов: [FileData(fileName=Снимок экрана 2021-07-29 в 12.10.22.png, size=724356)]
[INFO ] 2021-08-30 11:47:38 [http-nio-8888-exec-4] INFO  r.n.c.controllers.FileController - Принят запрос от пользоваетеля max@mail.ru на удаление файла Снимок экрана 2021-07-29 в 12.10.22.png
[INFO ] 2021-08-30 11:47:39 [http-nio-8888-exec-4] INFO  r.n.c.controllers.FileController - Пользоваетель max@mail.ru успешно удалил файл Снимок экрана 2021-07-29 в 12.10.22.png
[INFO ] 2021-08-30 11:47:41 [http-nio-8888-exec-5] INFO  r.n.c.controllers.FileController - Принят запрос от пользоваетеля max@mail.ru на просмотр всех файлов
[INFO ] 2021-08-30 11:47:41 [http-nio-8888-exec-5] INFO  r.n.c.controllers.FileController - Пользователь max@mail.ru получил список файлов: []
[INFO ] 2021-08-30 11:47:45 [http-nio-8888-exec-7] INFO  r.n.c.controllers.FileController - Принят запрос от пользоваетеля max@mail.ru на сохранение файла 1.jpeg
[INFO ] 2021-08-30 11:49:26 [http-nio-8888-exec-7] INFO  r.n.c.services.FileServiceImpl - Осуществляется проверка на наличие дупликата или возможности восстановить файл
[INFO ] 2021-08-30 11:49:26 [http-nio-8888-exec-7] INFO  r.n.c.services.FileServiceImpl - В БД не обнаружено файлов, пригодных для восстановления
[INFO ] 2021-08-30 11:49:26 [http-nio-8888-exec-7] INFO  r.n.c.controllers.FileController - Пользователь max@mail.ru успешно сохранил файл
[INFO ] 2021-08-30 11:49:29 [http-nio-8888-exec-10] INFO  r.n.c.controllers.FileController - Принят запрос от пользоваетеля max@mail.ru на просмотр всех файлов
[INFO ] 2021-08-30 11:49:29 [http-nio-8888-exec-10] INFO  r.n.c.controllers.FileController - Пользователь max@mail.ru получил список файлов: [FileData(fileName=1.jpeg, size=282426)]
[INFO ] 2021-08-30 11:52:40 [main] INFO  r.n.c.CloudServiceAppApplication - Starting CloudServiceAppApplication using Java 14.0.1 on MBP-Maksim.Dlink with PID 6575 (/Users/maksim/Desktop/CloudService/CloudServiceBackend/target/classes started by maksim in /Users/maksim/Desktop/CloudService/CloudServiceBackend)
[INFO ] 2021-08-30 11:52:40 [main] INFO  r.n.c.CloudServiceAppApplication - No active profile set, falling back to default profiles: default
[WARN ] 2021-08-30 11:52:40 [background-preinit] WARN  o.s.h.c.j.Jackson2ObjectMapperBuilder - For Jackson Kotlin classes support please add "com.fasterxml.jackson.module:jackson-module-kotlin" to the classpath
[INFO ] 2021-08-30 11:52:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-08-30 11:52:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 51 ms. Found 2 JPA repository interfaces.
[INFO ] 2021-08-30 11:52:41 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@13d9261f' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[INFO ] 2021-08-30 11:52:41 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[INFO ] 2021-08-30 11:52:42 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8888 (http)
[INFO ] 2021-08-30 11:52:42 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
[INFO ] 2021-08-30 11:52:42 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.46]
[INFO ] 2021-08-30 11:52:42 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
[INFO ] 2021-08-30 11:52:42 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1472 ms
[INFO ] 2021-08-30 11:52:42 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
[INFO ] 2021-08-30 11:52:42 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
[INFO ] 2021-08-30 11:52:42 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
[INFO ] 2021-08-30 11:52:43 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
[INFO ] 2021-08-30 11:52:43 [main] INFO  liquibase.lockservice - Successfully released change log lock
[INFO ] 2021-08-30 11:52:43 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
[WARN ] 2021-08-30 11:52:43 [main] WARN  liquibase.hub - Skipping auto-registration
[INFO ] 2021-08-30 11:52:43 [main] INFO  liquibase.lockservice - Successfully released change log lock
[INFO ] 2021-08-30 11:52:43 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-08-30 11:52:43 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.31.Final
[INFO ] 2021-08-30 11:52:43 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-08-30 11:52:43 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
[INFO ] 2021-08-30 11:52:44 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-08-30 11:52:44 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-08-30 11:52:44 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-08-30 11:52:44 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.web.filter.CorsFilter@10ffe32f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@13868c41, org.springframework.security.web.context.SecurityContextPersistenceFilter@3a5b1af7, org.springframework.security.web.header.HeaderWriterFilter@8942ece, org.springframework.web.filter.CorsFilter@67d55a46, org.springframework.security.web.authentication.logout.LogoutFilter@28551755, ru.netology.cloud_service_app.security.jwt.JwtUsernamePasswordAuthenticationFilter@72115c48, ru.netology.cloud_service_app.security.jwt.JwtTokenVerifier@1d982fbe, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7603cfc2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b55ea4d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3adb4cc8, org.springframework.security.web.session.SessionManagementFilter@15254569, org.springframework.security.web.access.ExceptionTranslationFilter@14745c3c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1dbfbd94]
[INFO ] 2021-08-30 11:52:45 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8888 (http) with context path ''
[INFO ] 2021-08-30 11:52:45 [main] INFO  r.n.c.CloudServiceAppApplication - Started CloudServiceAppApplication in 4.966 seconds (JVM running for 5.64)
[INFO ] 2021-08-30 11:52:45 [main] INFO  o.s.b.a.ApplicationAvailabilityBean - Application availability state LivenessState changed to CORRECT
[INFO ] 2021-08-30 11:52:45 [main] INFO  o.s.b.a.ApplicationAvailabilityBean - Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
[INFO ] 2021-08-30 11:53:16 [http-nio-8888-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
[INFO ] 2021-08-30 11:53:16 [http-nio-8888-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
[INFO ] 2021-08-30 11:53:16 [http-nio-8888-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 4 ms
[INFO ] 2021-08-30 11:53:16 [http-nio-8888-exec-2] INFO  r.n.c.controllers.FileController - Принят запрос от пользоваетеля max@mail.ru на просмотр всех файлов
[INFO ] 2021-08-30 11:53:16 [http-nio-8888-exec-2] INFO  r.n.c.controllers.FileController - Пользователь max@mail.ru получил список файлов: []
[INFO ] 2021-08-30 11:53:20 [http-nio-8888-exec-4] INFO  r.n.c.controllers.FileController - Принят запрос от пользоваетеля max@mail.ru на сохранение файла 1.jpeg
[INFO ] 2021-08-30 11:53:20 [http-nio-8888-exec-4] INFO  r.n.c.services.FileServiceImpl - Осуществляется проверка на наличие дупликата или возможности восстановить файл
[INFO ] 2021-08-30 11:53:20 [http-nio-8888-exec-4] INFO  r.n.c.services.FileServiceImpl - В БД не обнаружено файлов, пригодных для восстановления
[INFO ] 2021-08-30 11:53:20 [http-nio-8888-exec-4] INFO  r.n.c.controllers.FileController - Пользователь max@mail.ru успешно сохранил файл
[INFO ] 2021-08-30 11:53:22 [http-nio-8888-exec-6] INFO  r.n.c.controllers.FileController - Принят запрос от пользоваетеля max@mail.ru на просмотр всех файлов
[INFO ] 2021-08-30 11:53:22 [http-nio-8888-exec-6] INFO  r.n.c.controllers.FileController - Пользователь max@mail.ru получил список файлов: [FileData(fileName=1.jpeg, size=282426)]
[INFO ] 2021-08-30 11:53:24 [http-nio-8888-exec-8] INFO  r.n.c.controllers.FileController - Принят запрос от пользователя max@mail.ru на изменение названия файла 1.jpeg, на новое: 960.jpeg
[INFO ] 2021-08-30 11:53:24 [http-nio-8888-exec-8] INFO  r.n.c.controllers.FileController - Пользоваетель max@mail.ru успешно изменил файл 1.jpeg, новое название файла: 960.jpeg
[INFO ] 2021-08-30 11:53:27 [http-nio-8888-exec-10] INFO  r.n.c.controllers.FileController - Принят запрос от пользоваетеля max@mail.ru на удаление файла 960.jpeg
[INFO ] 2021-08-30 11:53:27 [http-nio-8888-exec-10] INFO  r.n.c.controllers.FileController - Пользоваетель max@mail.ru успешно удалил файл 960.jpeg
[INFO ] 2021-08-30 11:53:29 [http-nio-8888-exec-2] INFO  r.n.c.controllers.FileController - Принят запрос от пользоваетеля max@mail.ru на просмотр всех файлов
[INFO ] 2021-08-30 11:53:29 [http-nio-8888-exec-2] INFO  r.n.c.controllers.FileController - Пользователь max@mail.ru получил список файлов: []
[INFO ] 2021-08-30 11:53:41 [http-nio-8888-exec-4] INFO  r.n.c.controllers.FileController - Принят запрос от пользоваетеля max@mail.ru на сохранение файла 1.jpeg
[INFO ] 2021-08-30 11:53:41 [http-nio-8888-exec-4] INFO  r.n.c.services.FileServiceImpl - Осуществляется проверка на наличие дупликата или возможности восстановить файл
[INFO ] 2021-08-30 11:53:41 [http-nio-8888-exec-4] INFO  r.n.c.services.FileServiceImpl - В БД не обнаружено файлов, пригодных для восстановления
[INFO ] 2021-08-30 11:53:41 [http-nio-8888-exec-4] INFO  r.n.c.controllers.FileController - Пользователь max@mail.ru успешно сохранил файл
[INFO ] 2021-08-30 11:53:44 [http-nio-8888-exec-6] INFO  r.n.c.controllers.FileController - Принят запрос от пользоваетеля max@mail.ru на просмотр всех файлов
[INFO ] 2021-08-30 11:53:44 [http-nio-8888-exec-6] INFO  r.n.c.controllers.FileController - Пользователь max@mail.ru получил список файлов: [FileData(fileName=1.jpeg, size=282426)]
[INFO ] 2021-08-30 11:54:11 [http-nio-8888-exec-8] INFO  r.n.c.controllers.FileController - Принят запрос от пользоваетеля max@mail.ru на удаление файла 1.jpeg
[INFO ] 2021-08-30 11:54:11 [http-nio-8888-exec-8] INFO  r.n.c.controllers.FileController - Пользоваетель max@mail.ru успешно удалил файл 1.jpeg
[INFO ] 2021-08-30 11:54:13 [http-nio-8888-exec-10] INFO  r.n.c.controllers.FileController - Принят запрос от пользоваетеля max@mail.ru на просмотр всех файлов
[INFO ] 2021-08-30 11:54:13 [http-nio-8888-exec-10] INFO  r.n.c.controllers.FileController - Пользователь max@mail.ru получил список файлов: []
[INFO ] 2021-08-30 11:54:16 [http-nio-8888-exec-2] INFO  r.n.c.controllers.FileController - Принят запрос от пользоваетеля max@mail.ru на сохранение файла 1.jpeg
[INFO ] 2021-08-30 11:54:16 [http-nio-8888-exec-2] INFO  r.n.c.services.FileServiceImpl - Осуществляется проверка на наличие дупликата или возможности восстановить файл
[INFO ] 2021-08-30 11:54:17 [http-nio-8888-exec-2] INFO  r.n.c.services.FileServiceImpl - Файл пригоден для восстановления
[INFO ] 2021-08-30 11:54:17 [http-nio-8888-exec-2] INFO  r.n.c.services.FileServiceImpl - Файл восстановлен, его статус обновился
[INFO ] 2021-08-30 11:54:17 [http-nio-8888-exec-2] INFO  r.n.c.controllers.FileController - Пользователь max@mail.ru успешно сохранил файл
[INFO ] 2021-08-30 11:54:19 [http-nio-8888-exec-4] INFO  r.n.c.controllers.FileController - Принят запрос от пользоваетеля max@mail.ru на просмотр всех файлов
[INFO ] 2021-08-30 11:54:19 [http-nio-8888-exec-4] INFO  r.n.c.controllers.FileController - Пользователь max@mail.ru получил список файлов: [FileData(fileName=1.jpeg, size=282426)]
[INFO ] 2021-08-30 11:54:24 [SpringContextShutdownHook] INFO  o.s.b.a.ApplicationAvailabilityBean - Application availability state ReadinessState changed from ACCEPTING_TRAFFIC to REFUSING_TRAFFIC
[INFO ] 2021-08-30 11:55:58 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [ru.netology.cloud_service_app.controllers.FileControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
[INFO ] 2021-08-30 11:55:58 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration ru.netology.cloud_service_app.CloudServiceAppApplication for test class ru.netology.cloud_service_app.controllers.FileControllerTest
[INFO ] 2021-08-30 11:55:58 [main] INFO  o.s.b.t.a.w.s.WebMvcTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
[INFO ] 2021-08-30 11:55:58 [main] INFO  o.s.b.t.a.w.s.WebMvcTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@17a1e4ca, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@10ded6a9, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@c5dc4a2, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@4a194c39, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@52066604, org.springframework.test.context.support.DirtiesContextTestExecutionListener@340b9973, org.springframework.test.context.transaction.TransactionalTestExecutionListener@56113384, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5669c5fb, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@373ebf74, org.springframework.test.context.event.EventPublishingTestExecutionListener@5f9678e1, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@c4ed84, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@189aa67a, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@5a9d6f02, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@362045c0, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@112f364d, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5ccbeb64, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@6d9f7a80]
[INFO ] 2021-08-30 11:55:59 [main] INFO  r.n.c.controllers.FileControllerTest - Starting FileControllerTest using Java 14.0.1 on MBP-Maksim.Dlink with PID 7220 (started by maksim in /Users/maksim/Desktop/CloudService/CloudServiceBackend)
[INFO ] 2021-08-30 11:55:59 [main] INFO  r.n.c.controllers.FileControllerTest - No active profile set, falling back to default profiles: default
[WARN ] 2021-08-30 11:55:59 [background-preinit] WARN  o.s.h.c.j.Jackson2ObjectMapperBuilder - For Jackson Kotlin classes support please add "com.fasterxml.jackson.module:jackson-module-kotlin" to the classpath
[INFO ] 2021-08-30 11:56:01 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@5329f6b3' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[INFO ] 2021-08-30 11:56:01 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[INFO ] 2021-08-30 11:56:02 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.web.filter.CorsFilter@35e07e19, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@a1e912f, org.springframework.security.web.context.SecurityContextPersistenceFilter@e521067, org.springframework.security.web.header.HeaderWriterFilter@48632f69, org.springframework.web.filter.CorsFilter@2036f83, org.springframework.security.web.authentication.logout.LogoutFilter@6ace919c, ru.netology.cloud_service_app.security.jwt.JwtUsernamePasswordAuthenticationFilter@68b3248a, ru.netology.cloud_service_app.security.jwt.JwtTokenVerifier@5e158f33, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1d7c9811, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@18b40fe6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@20fcea37, org.springframework.security.web.session.SessionManagementFilter@984de01, org.springframework.security.web.access.ExceptionTranslationFilter@5ed65e4b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@52d9d817]
[INFO ] 2021-08-30 11:56:03 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
[INFO ] 2021-08-30 11:56:03 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
[INFO ] 2021-08-30 11:56:03 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
[INFO ] 2021-08-30 11:56:03 [main] INFO  r.n.c.controllers.FileControllerTest - Started FileControllerTest in 3.942 seconds (JVM running for 5.708)
[INFO ] 2021-08-30 11:56:03 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
[INFO ] 2021-08-30 11:56:03 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
[INFO ] 2021-08-30 11:56:03 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
[INFO ] 2021-08-30 11:56:03 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
[INFO ] 2021-08-30 11:56:03 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
[INFO ] 2021-08-30 11:56:03 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
[ERROR] 2021-08-30 11:56:03 [main] ERROR r.n.c.security.jwt.JwtTokenHandler - JWT strings must contain exactly 2 period characters. Found: 0
[ERROR] 2021-08-30 11:56:03 [main] ERROR r.n.c.s.j.JwtAuthenticationEntryPoint - Full authentication is required to access this resource
[INFO ] 2021-08-30 11:56:03 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
[INFO ] 2021-08-30 11:56:03 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
[INFO ] 2021-08-30 11:56:03 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
[ERROR] 2021-08-30 11:56:03 [main] ERROR r.n.c.security.jwt.JwtTokenHandler - JWT strings must contain exactly 2 period characters. Found: 0
[ERROR] 2021-08-30 11:56:03 [main] ERROR r.n.c.s.j.JwtAuthenticationEntryPoint - Full authentication is required to access this resource
[INFO ] 2021-08-30 11:56:03 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
[INFO ] 2021-08-30 11:56:03 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
[INFO ] 2021-08-30 11:56:03 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
[INFO ] 2021-08-30 11:56:03 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
[INFO ] 2021-08-30 11:56:03 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
[INFO ] 2021-08-30 11:56:03 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
[INFO ] 2021-08-30 11:56:03 [main] INFO  r.n.c.controllers.FileController - Принят запрос от пользоваетеля max@mail.ru на сохранение файла 111.jpeg
[INFO ] 2021-08-30 11:56:03 [main] INFO  r.n.c.controllers.FileController - Пользователь max@mail.ru успешно сохранил файл
[INFO ] 2021-08-30 11:56:03 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
[INFO ] 2021-08-30 11:56:03 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
[INFO ] 2021-08-30 11:56:03 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 2 ms
[INFO ] 2021-08-30 11:56:03 [main] INFO  r.n.c.controllers.FileController - Принят запрос от пользоваетеля max@mail.ru на просмотр всех файлов
[INFO ] 2021-08-30 11:56:03 [main] INFO  r.n.c.controllers.FileController - Пользователь max@mail.ru получил список файлов: []
[INFO ] 2021-08-30 11:56:03 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
[INFO ] 2021-08-30 11:56:03 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
[INFO ] 2021-08-30 11:56:03 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
[INFO ] 2021-08-30 11:56:03 [main] INFO  r.n.c.controllers.FileController - Принят запрос от пользователя max@mail.ru на изменение названия файла 111.jpeg, на новое: 222.jpeg
[INFO ] 2021-08-30 11:56:03 [main] INFO  r.n.c.controllers.FileController - Пользоваетель max@mail.ru успешно изменил файл 111.jpeg, новое название файла: 222.jpeg
[INFO ] 2021-08-30 11:56:03 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
[INFO ] 2021-08-30 11:56:03 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
[INFO ] 2021-08-30 11:56:03 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
[INFO ] 2021-08-30 11:56:03 [main] INFO  r.n.c.controllers.FileController - Принят запрос от пользователя max@mail.ru на скачивание файла 111.jpeg
[INFO ] 2021-08-30 11:56:03 [main] INFO  r.n.c.controllers.FileController - Пользователь max@mail.ru успешно скачал файл 111.jpeg
[INFO ] 2021-08-30 11:56:03 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
[INFO ] 2021-08-30 11:56:03 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
[INFO ] 2021-08-30 11:56:03 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
[ERROR] 2021-08-30 11:56:03 [main] ERROR r.n.c.security.jwt.JwtTokenHandler - JWT strings must contain exactly 2 period characters. Found: 0
[ERROR] 2021-08-30 11:56:03 [main] ERROR r.n.c.s.j.JwtAuthenticationEntryPoint - Full authentication is required to access this resource
[INFO ] 2021-08-30 11:56:03 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
[INFO ] 2021-08-30 11:56:03 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
[INFO ] 2021-08-30 11:56:03 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
[ERROR] 2021-08-30 11:56:03 [main] ERROR r.n.c.security.jwt.JwtTokenHandler - JWT strings must contain exactly 2 period characters. Found: 0
[ERROR] 2021-08-30 11:56:03 [main] ERROR r.n.c.s.j.JwtAuthenticationEntryPoint - Full authentication is required to access this resource
[INFO ] 2021-08-30 11:56:03 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
[INFO ] 2021-08-30 11:56:03 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
[INFO ] 2021-08-30 11:56:03 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
[INFO ] 2021-08-30 11:56:03 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
[INFO ] 2021-08-30 11:56:03 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
[INFO ] 2021-08-30 11:56:03 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
[WARN ] 2021-08-30 11:56:03 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MissingServletRequestParameterException: Required request parameter 'filename' for method parameter type String is not present]
[INFO ] 2021-08-30 11:56:03 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
[INFO ] 2021-08-30 11:56:03 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
[INFO ] 2021-08-30 11:56:03 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
[ERROR] 2021-08-30 11:56:03 [main] ERROR r.n.c.security.jwt.JwtTokenHandler - JWT strings must contain exactly 2 period characters. Found: 0
[ERROR] 2021-08-30 11:56:03 [main] ERROR r.n.c.s.j.JwtAuthenticationEntryPoint - Full authentication is required to access this resource
[INFO ] 2021-08-30 11:56:03 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
[INFO ] 2021-08-30 11:56:03 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
[INFO ] 2021-08-30 11:56:03 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
[INFO ] 2021-08-30 11:56:03 [main] INFO  r.n.c.controllers.FileController - Принят запрос от пользоваетеля max@mail.ru на удаление файла 111.jpeg
[INFO ] 2021-08-30 11:56:03 [main] INFO  r.n.c.controllers.FileController - Пользоваетель max@mail.ru успешно удалил файл 111.jpeg
[INFO ] 2021-08-30 11:56:03 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
[INFO ] 2021-08-30 11:56:03 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
[INFO ] 2021-08-30 11:56:03 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
[INFO ] 2021-08-30 12:15:44 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
[INFO ] 2021-08-30 12:15:44 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6e005dc9, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7ceb3185, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@436c81a3, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@3561c410, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@59e32960, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7c214cc0, org.springframework.test.context.transaction.TransactionalTestExecutionListener@5b67bb7e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@609db546, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@20f5281c, org.springframework.test.context.event.EventPublishingTestExecutionListener@56c4278e, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@301eda63, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@3d246ea3, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@341814d3, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@4397ad89, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@59cba5a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@1bd39d3c, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@6f19ac19]
[ERROR] 2021-08-30 12:15:45 [main] ERROR r.n.c.services.FileServiceImpl - Невалидные данные
[INFO ] 2021-08-30 12:17:59 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
[INFO ] 2021-08-30 12:17:59 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@436c81a3, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3561c410, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@59e32960, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@7c214cc0, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5b67bb7e, org.springframework.test.context.support.DirtiesContextTestExecutionListener@609db546, org.springframework.test.context.transaction.TransactionalTestExecutionListener@20f5281c, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@56c4278e, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@301eda63, org.springframework.test.context.event.EventPublishingTestExecutionListener@3d246ea3, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@341814d3, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@4397ad89, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@59cba5a, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@1bd39d3c, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6f19ac19, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@119cbf96, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@71329995]
[ERROR] 2021-08-30 12:18:01 [main] ERROR r.n.c.services.FileServiceImpl - Ошибка загрузки файла 111.jpeg
[ERROR] 2021-08-30 12:18:01 [main] ERROR r.n.c.services.FileServiceImpl - Ошибка удаления файла 111.jpeg
[ERROR] 2021-08-30 12:18:01 [main] ERROR r.n.c.services.FileServiceImpl - Невалидные данные
[ERROR] 2021-08-30 12:18:01 [main] ERROR r.n.c.services.FileServiceImpl - Ошибка изменения файла 111.jpeg
[INFO ] 2021-08-30 12:20:14 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest]: no resource found for suffixes {-context.xml, Context.groovy}.
[INFO ] 2021-08-30 12:20:14 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest]: CloudServiceIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
[INFO ] 2021-08-30 12:20:14 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration ru.netology.cloud_service_app.CloudServiceAppApplication for test class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest
[INFO ] 2021-08-30 12:20:14 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
[INFO ] 2021-08-30 12:20:14 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4b7e96a, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@6475472c, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@3f07b12c, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@4bd1f8dd, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@7096b474, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3e14c16d, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3c989952, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@784b990c, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@3d3ba765, org.springframework.test.context.event.EventPublishingTestExecutionListener@25bc0606, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@5d1659ea, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@793138bd, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1951b871, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@5c18016b, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@33aeca0b, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@43aaf813, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@57ac5227]
[INFO ] 2021-08-30 12:20:14 [testcontainers-lifecycle-0] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
[INFO ] 2021-08-30 12:20:15 [testcontainers-lifecycle-0] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
[INFO ] 2021-08-30 12:20:15 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Docker host IP address is localhost
[INFO ] 2021-08-30 12:20:15 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Connected to docker: 
  Server Version: 20.10.7
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 1987 MB
[INFO ] 2021-08-30 12:20:15 [testcontainers-lifecycle-0] INFO  o.t.utility.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
[INFO ] 2021-08-30 12:20:18 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
[INFO ] 2021-08-30 12:20:18 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Checking the system...
[INFO ] 2021-08-30 12:20:18 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - ✔︎ Docker server version should be at least 1.6.0
[INFO ] 2021-08-30 12:20:18 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - ✔︎ Docker environment should have more than 2GB free disk space
[INFO ] 2021-08-30 12:20:18 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Creating container for image: postgres:13.2
[INFO ] 2021-08-30 12:20:22 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Starting container with ID: 232f282dd9a50bd3cd4fb1433b042fa7f988acdd88b82a5bcddb369b37f377d9
[INFO ] 2021-08-30 12:20:25 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Container postgres:13.2 is starting: 232f282dd9a50bd3cd4fb1433b042fa7f988acdd88b82a5bcddb369b37f377d9
[INFO ] 2021-08-30 12:20:27 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Container postgres:13.2 started in PT8.799353S
[INFO ] 2021-08-30 12:20:27 [main] INFO  🐳 [cloud_service_app:1.1] - Creating container for image: cloud_service_app:1.1
[INFO ] 2021-08-30 12:20:27 [main] INFO  🐳 [cloud_service_app:1.1] - Starting container with ID: ab243fd35e2a1a1865b9dfda8063bf62aa2091e1052ac1c3bfecc4554db4ba30
[INFO ] 2021-08-30 12:20:30 [main] INFO  🐳 [cloud_service_app:1.1] - Container cloud_service_app:1.1 is starting: ab243fd35e2a1a1865b9dfda8063bf62aa2091e1052ac1c3bfecc4554db4ba30
[INFO ] 2021-08-30 12:21:49 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [ru.netology.cloud_service_app.controllers.FileControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
[INFO ] 2021-08-30 12:21:49 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration ru.netology.cloud_service_app.CloudServiceAppApplication for test class ru.netology.cloud_service_app.controllers.FileControllerTest
[INFO ] 2021-08-30 12:21:49 [main] INFO  o.s.b.t.a.w.s.WebMvcTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
[INFO ] 2021-08-30 12:21:49 [main] INFO  o.s.b.t.a.w.s.WebMvcTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@48d5f34e, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@fc258b1, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@6ff65192, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@2dd80673, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@4af0df05, org.springframework.test.context.support.DirtiesContextTestExecutionListener@57ea113a, org.springframework.test.context.transaction.TransactionalTestExecutionListener@acdb094, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@674bd420, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@2b0f373b, org.springframework.test.context.event.EventPublishingTestExecutionListener@2ceb80a1, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@4b45dcb8, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7216fb24, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@2072acb2, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@50ecde95, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@35a9782c, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@70a36a66, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@45815ffc]
[INFO ] 2021-08-30 12:21:50 [main] INFO  r.n.c.controllers.FileControllerTest - Starting FileControllerTest using Java 14.0.1 on MBP-Maksim.Dlink with PID 12182 (started by maksim in /Users/maksim/Desktop/CloudService/CloudServiceBackend)
[INFO ] 2021-08-30 12:21:50 [main] INFO  r.n.c.controllers.FileControllerTest - No active profile set, falling back to default profiles: default
[WARN ] 2021-08-30 12:21:50 [background-preinit] WARN  o.s.h.c.j.Jackson2ObjectMapperBuilder - For Jackson Kotlin classes support please add "com.fasterxml.jackson.module:jackson-module-kotlin" to the classpath
[INFO ] 2021-08-30 12:21:52 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@9b367c8' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[INFO ] 2021-08-30 12:21:52 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[INFO ] 2021-08-30 12:21:53 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.web.filter.CorsFilter@71ad959b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1d7c9811, org.springframework.security.web.context.SecurityContextPersistenceFilter@6335f04a, org.springframework.security.web.header.HeaderWriterFilter@1410d645, org.springframework.web.filter.CorsFilter@3b362f1, org.springframework.security.web.authentication.logout.LogoutFilter@194911c1, ru.netology.cloud_service_app.security.jwt.JwtUsernamePasswordAuthenticationFilter@6451a288, ru.netology.cloud_service_app.security.jwt.JwtTokenVerifier@79cdf2d4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2f60cbf2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5a13f1f7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@8851ec, org.springframework.security.web.session.SessionManagementFilter@1a0d313, org.springframework.security.web.access.ExceptionTranslationFilter@2bfa17b0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@984de01]
[INFO ] 2021-08-30 12:21:54 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
[INFO ] 2021-08-30 12:21:54 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
[INFO ] 2021-08-30 12:21:54 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
[INFO ] 2021-08-30 12:21:54 [main] INFO  r.n.c.controllers.FileControllerTest - Started FileControllerTest in 3.822 seconds (JVM running for 5.326)
[INFO ] 2021-08-30 12:21:54 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
[INFO ] 2021-08-30 12:21:54 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
[INFO ] 2021-08-30 12:21:54 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
[INFO ] 2021-08-30 12:21:54 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
[INFO ] 2021-08-30 12:21:54 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
[INFO ] 2021-08-30 12:21:54 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
[ERROR] 2021-08-30 12:21:54 [main] ERROR r.n.c.security.jwt.JwtTokenHandler - JWT strings must contain exactly 2 period characters. Found: 0
[ERROR] 2021-08-30 12:21:54 [main] ERROR r.n.c.s.j.JwtAuthenticationEntryPoint - Full authentication is required to access this resource
[INFO ] 2021-08-30 12:21:54 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
[INFO ] 2021-08-30 12:21:54 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
[INFO ] 2021-08-30 12:21:54 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
[ERROR] 2021-08-30 12:21:54 [main] ERROR r.n.c.security.jwt.JwtTokenHandler - JWT strings must contain exactly 2 period characters. Found: 0
[ERROR] 2021-08-30 12:21:54 [main] ERROR r.n.c.s.j.JwtAuthenticationEntryPoint - Full authentication is required to access this resource
[INFO ] 2021-08-30 12:21:54 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
[INFO ] 2021-08-30 12:21:54 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
[INFO ] 2021-08-30 12:21:54 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
[INFO ] 2021-08-30 12:21:54 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
[INFO ] 2021-08-30 12:21:54 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
[INFO ] 2021-08-30 12:21:54 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
[INFO ] 2021-08-30 12:21:54 [main] INFO  r.n.c.controllers.FileController - Принят запрос от пользоваетеля max@mail.ru на сохранение файла 111.jpeg
[INFO ] 2021-08-30 12:21:54 [main] INFO  r.n.c.controllers.FileController - Пользователь max@mail.ru успешно сохранил файл
[INFO ] 2021-08-30 12:21:54 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
[INFO ] 2021-08-30 12:21:54 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
[INFO ] 2021-08-30 12:21:54 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
[INFO ] 2021-08-30 12:21:54 [main] INFO  r.n.c.controllers.FileController - Принят запрос от пользоваетеля max@mail.ru на просмотр всех файлов
[INFO ] 2021-08-30 12:21:54 [main] INFO  r.n.c.controllers.FileController - Пользователь max@mail.ru получил список файлов: []
[INFO ] 2021-08-30 12:21:54 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
[INFO ] 2021-08-30 12:21:54 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
[INFO ] 2021-08-30 12:21:54 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
[INFO ] 2021-08-30 12:21:54 [main] INFO  r.n.c.controllers.FileController - Принят запрос от пользователя max@mail.ru на изменение названия файла 111.jpeg, на новое: 222.jpeg
[INFO ] 2021-08-30 12:21:54 [main] INFO  r.n.c.controllers.FileController - Пользоваетель max@mail.ru успешно изменил файл 111.jpeg, новое название файла: 222.jpeg
[INFO ] 2021-08-30 12:21:54 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
[INFO ] 2021-08-30 12:21:54 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
[INFO ] 2021-08-30 12:21:54 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
[INFO ] 2021-08-30 12:21:54 [main] INFO  r.n.c.controllers.FileController - Принят запрос от пользователя max@mail.ru на скачивание файла 111.jpeg
[INFO ] 2021-08-30 12:21:54 [main] INFO  r.n.c.controllers.FileController - Пользователь max@mail.ru успешно скачал файл 111.jpeg
[INFO ] 2021-08-30 12:21:54 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
[INFO ] 2021-08-30 12:21:54 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
[INFO ] 2021-08-30 12:21:54 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
[ERROR] 2021-08-30 12:21:54 [main] ERROR r.n.c.security.jwt.JwtTokenHandler - JWT strings must contain exactly 2 period characters. Found: 0
[ERROR] 2021-08-30 12:21:54 [main] ERROR r.n.c.s.j.JwtAuthenticationEntryPoint - Full authentication is required to access this resource
[INFO ] 2021-08-30 12:21:54 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
[INFO ] 2021-08-30 12:21:54 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
[INFO ] 2021-08-30 12:21:54 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
[ERROR] 2021-08-30 12:21:54 [main] ERROR r.n.c.security.jwt.JwtTokenHandler - JWT strings must contain exactly 2 period characters. Found: 0
[ERROR] 2021-08-30 12:21:54 [main] ERROR r.n.c.s.j.JwtAuthenticationEntryPoint - Full authentication is required to access this resource
[INFO ] 2021-08-30 12:21:54 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
[INFO ] 2021-08-30 12:21:54 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
[INFO ] 2021-08-30 12:21:54 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
[INFO ] 2021-08-30 12:21:54 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
[INFO ] 2021-08-30 12:21:54 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
[INFO ] 2021-08-30 12:21:54 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
[WARN ] 2021-08-30 12:21:54 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MissingServletRequestParameterException: Required request parameter 'filename' for method parameter type String is not present]
[INFO ] 2021-08-30 12:21:54 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
[INFO ] 2021-08-30 12:21:54 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
[INFO ] 2021-08-30 12:21:54 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
[ERROR] 2021-08-30 12:21:54 [main] ERROR r.n.c.security.jwt.JwtTokenHandler - JWT strings must contain exactly 2 period characters. Found: 0
[ERROR] 2021-08-30 12:21:54 [main] ERROR r.n.c.s.j.JwtAuthenticationEntryPoint - Full authentication is required to access this resource
[INFO ] 2021-08-30 12:21:54 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
[INFO ] 2021-08-30 12:21:54 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
[INFO ] 2021-08-30 12:21:54 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
[INFO ] 2021-08-30 12:21:54 [main] INFO  r.n.c.controllers.FileController - Принят запрос от пользоваетеля max@mail.ru на удаление файла 111.jpeg
[INFO ] 2021-08-30 12:21:54 [main] INFO  r.n.c.controllers.FileController - Пользоваетель max@mail.ru успешно удалил файл 111.jpeg
[INFO ] 2021-08-30 12:21:54 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
[INFO ] 2021-08-30 12:21:54 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
[INFO ] 2021-08-30 12:21:54 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
[INFO ] 2021-08-30 12:21:54 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
[INFO ] 2021-08-30 12:21:54 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@1700d089, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@77e6053, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@7097d921, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@2a21cbe7, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@3bb4c2b2, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4fbc516f, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1acc768, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@25765a49, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@38caad07, org.springframework.test.context.event.EventPublishingTestExecutionListener@15d0b458, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@72a0a60d, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@65930e02, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@85c3522, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@18be3205, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6fd97fd1, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@12c78f36, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@7bdb4d69]
[ERROR] 2021-08-30 12:21:54 [main] ERROR r.n.c.services.FileServiceImpl - Ошибка загрузки файла 111.jpeg
[ERROR] 2021-08-30 12:21:54 [main] ERROR r.n.c.services.FileServiceImpl - Ошибка удаления файла 111.jpeg
[ERROR] 2021-08-30 12:21:54 [main] ERROR r.n.c.services.FileServiceImpl - Невалидные данные
[ERROR] 2021-08-30 12:21:54 [main] ERROR r.n.c.services.FileServiceImpl - Ошибка изменения файла 111.jpeg
[INFO ] 2021-08-30 12:23:18 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest]: no resource found for suffixes {-context.xml, Context.groovy}.
[INFO ] 2021-08-30 12:23:18 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest]: CloudServiceIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
[INFO ] 2021-08-30 12:23:18 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration ru.netology.cloud_service_app.CloudServiceAppApplication for test class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest
[INFO ] 2021-08-30 12:23:18 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
[INFO ] 2021-08-30 12:23:18 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4b7e96a, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@6475472c, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@3f07b12c, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@4bd1f8dd, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@7096b474, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3e14c16d, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3c989952, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@784b990c, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@3d3ba765, org.springframework.test.context.event.EventPublishingTestExecutionListener@25bc0606, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@5d1659ea, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@793138bd, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1951b871, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@5c18016b, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@33aeca0b, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@43aaf813, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@57ac5227]
[INFO ] 2021-08-30 12:23:19 [testcontainers-lifecycle-0] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
[INFO ] 2021-08-30 12:23:20 [testcontainers-lifecycle-0] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
[INFO ] 2021-08-30 12:23:20 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Docker host IP address is localhost
[INFO ] 2021-08-30 12:23:20 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Connected to docker: 
  Server Version: 20.10.7
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 1987 MB
[INFO ] 2021-08-30 12:23:20 [testcontainers-lifecycle-0] INFO  o.t.utility.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
[INFO ] 2021-08-30 12:23:22 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
[INFO ] 2021-08-30 12:23:22 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Checking the system...
[INFO ] 2021-08-30 12:23:22 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - ✔︎ Docker server version should be at least 1.6.0
[INFO ] 2021-08-30 12:23:22 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - ✔︎ Docker environment should have more than 2GB free disk space
[INFO ] 2021-08-30 12:23:22 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Creating container for image: postgres:13.2
[INFO ] 2021-08-30 12:23:26 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Starting container with ID: f06b4b37eddc8d080325b1e22527977d7d86b15a83e30e7d50ab4aec9d3763cd
[INFO ] 2021-08-30 12:23:29 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Container postgres:13.2 is starting: f06b4b37eddc8d080325b1e22527977d7d86b15a83e30e7d50ab4aec9d3763cd
[INFO ] 2021-08-30 12:23:30 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Container postgres:13.2 started in PT8.254596S
[INFO ] 2021-08-30 12:23:30 [main] INFO  🐳 [cloud_service_app:1.1] - Creating container for image: cloud_service_app:1.1
[INFO ] 2021-08-30 12:23:30 [main] INFO  🐳 [cloud_service_app:1.1] - Starting container with ID: be9bac8376255d6d9ac124eeb79c582165e7f456ea871c8aa5473c8e2b79fada
[INFO ] 2021-08-30 12:23:33 [main] INFO  🐳 [cloud_service_app:1.1] - Container cloud_service_app:1.1 is starting: be9bac8376255d6d9ac124eeb79c582165e7f456ea871c8aa5473c8e2b79fada
[INFO ] 2021-08-30 12:23:46 [main] INFO  🐳 [cloud_service_app:1.1] - Container cloud_service_app:1.1 started in PT16.281189S
[INFO ] 2021-08-30 12:23:46 [main] INFO  🐳 [front_app:1.0] - Creating container for image: front_app:1.0
[INFO ] 2021-08-30 12:23:47 [main] INFO  🐳 [front_app:1.0] - Starting container with ID: 9df1b32fba686442b232bf1f0b1ffc77334948a847b78578ce2647034f625dbd
[INFO ] 2021-08-30 12:23:50 [main] INFO  🐳 [front_app:1.0] - Container front_app:1.0 is starting: 9df1b32fba686442b232bf1f0b1ffc77334948a847b78578ce2647034f625dbd
[INFO ] 2021-08-30 12:23:57 [main] INFO  🐳 [front_app:1.0] - Container front_app:1.0 started in PT10.633471S
[INFO ] 2021-08-30 12:23:58 [main] INFO  r.n.c.i.CloudServiceIntegrationTest - Starting CloudServiceIntegrationTest using Java 14.0.1 on MBP-Maksim.Dlink with PID 12491 (started by maksim in /Users/maksim/Desktop/CloudService/CloudServiceBackend)
[INFO ] 2021-08-30 12:23:58 [main] INFO  r.n.c.i.CloudServiceIntegrationTest - No active profile set, falling back to default profiles: default
[WARN ] 2021-08-30 12:23:58 [background-preinit] WARN  o.s.h.c.j.Jackson2ObjectMapperBuilder - For Jackson Kotlin classes support please add "com.fasterxml.jackson.module:jackson-module-kotlin" to the classpath
[INFO ] 2021-08-30 12:23:58 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-08-30 12:23:58 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 81 ms. Found 2 JPA repository interfaces.
[INFO ] 2021-08-30 12:23:59 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@202898d7' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[INFO ] 2021-08-30 12:23:59 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[INFO ] 2021-08-30 12:24:00 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
[INFO ] 2021-08-30 12:24:00 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
[INFO ] 2021-08-30 12:24:00 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.46]
[INFO ] 2021-08-30 12:24:00 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
[INFO ] 2021-08-30 12:24:00 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2171 ms
[INFO ] 2021-08-30 12:24:00 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
[INFO ] 2021-08-30 12:24:00 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
[INFO ] 2021-08-30 12:24:01 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
[INFO ] 2021-08-30 12:24:02 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
[INFO ] 2021-08-30 12:24:02 [main] INFO  liquibase.lockservice - Successfully released change log lock
[INFO ] 2021-08-30 12:24:02 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
[WARN ] 2021-08-30 12:24:02 [main] WARN  liquibase.hub - Skipping auto-registration
[INFO ] 2021-08-30 12:24:02 [main] INFO  liquibase.lockservice - Successfully released change log lock
[INFO ] 2021-08-30 12:24:02 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-08-30 12:24:02 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.31.Final
[INFO ] 2021-08-30 12:24:02 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-08-30 12:24:02 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
[INFO ] 2021-08-30 12:24:03 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-08-30 12:24:03 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-08-30 12:24:04 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-08-30 12:24:04 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.web.filter.CorsFilter@b7b26c6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2db07651, org.springframework.security.web.context.SecurityContextPersistenceFilter@31c17fd4, org.springframework.security.web.header.HeaderWriterFilter@68312b85, org.springframework.web.filter.CorsFilter@718b9d56, org.springframework.security.web.authentication.logout.LogoutFilter@35bcf3a6, ru.netology.cloud_service_app.security.jwt.JwtUsernamePasswordAuthenticationFilter@36a59d8, ru.netology.cloud_service_app.security.jwt.JwtTokenVerifier@51751265, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@36b86248, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4ac1544f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7f59f4e4, org.springframework.security.web.session.SessionManagementFilter@7594d189, org.springframework.security.web.access.ExceptionTranslationFilter@45b37003, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@118cbb26]
[INFO ] 2021-08-30 12:24:05 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 59307 (http) with context path ''
[INFO ] 2021-08-30 12:24:05 [main] INFO  r.n.c.i.CloudServiceIntegrationTest - Started CloudServiceIntegrationTest in 8.07 seconds (JVM running for 48.363)
[INFO ] 2021-08-30 12:24:05 [main] INFO  o.s.b.a.ApplicationAvailabilityBean - Application availability state LivenessState changed to CORRECT
[INFO ] 2021-08-30 12:24:05 [main] INFO  o.s.b.a.ApplicationAvailabilityBean - Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
[WARN ] 2021-08-30 12:24:06 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23502
[ERROR] 2021-08-30 12:24:06 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: null value in column "full_file_hash" of relation "files" violates not-null constraint
  Подробности: Failing row contains (1, 111.jpeg, image/jpeg, 100, 2021-08-30 12:24:06.361418, \x00000000000000000000000000000000000000000000000000000000000000..., e8ded5573c3d250cc66ea1487da883b7, null, ACTIVE, null, max@mail.ru).
[WARN ] 2021-08-30 12:24:06 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23502
[ERROR] 2021-08-30 12:24:06 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: null value in column "full_file_hash" of relation "files" violates not-null constraint
  Подробности: Failing row contains (2, 111.jpeg, image/jpeg, 100, 2021-08-30 12:24:06.626744, \x00000000000000000000000000000000000000000000000000000000000000..., e8ded5573c3d250cc66ea1487da883b7, null, ACTIVE, null, max@mail.ru).
[WARN ] 2021-08-30 12:24:09 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23502
[ERROR] 2021-08-30 12:24:09 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: null value in column "full_file_hash" of relation "files" violates not-null constraint
  Подробности: Failing row contains (4, 111.jpeg, image/jpeg, 100, 2021-08-30 12:24:09.803774, \x00000000000000000000000000000000000000000000000000000000000000..., e8ded5573c3d250cc66ea1487da883b7, null, ACTIVE, null, max@mail.ru).
[WARN ] 2021-08-30 12:24:09 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23502
[ERROR] 2021-08-30 12:24:09 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: null value in column "full_file_hash" of relation "files" violates not-null constraint
  Подробности: Failing row contains (5, 111.jpeg, image/jpeg, 100, 2021-08-30 12:24:09.883051, \x00000000000000000000000000000000000000000000000000000000000000..., e8ded5573c3d250cc66ea1487da883b7, null, ACTIVE, null, max@mail.ru).
[INFO ] 2021-08-30 12:27:29 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest]: no resource found for suffixes {-context.xml, Context.groovy}.
[INFO ] 2021-08-30 12:27:29 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest]: CloudServiceIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
[INFO ] 2021-08-30 12:27:29 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration ru.netology.cloud_service_app.CloudServiceAppApplication for test class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest
[INFO ] 2021-08-30 12:27:29 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
[INFO ] 2021-08-30 12:27:30 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@1506f20f, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@47a5b70d, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@424fd310, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@1a45193b, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@38f116f6, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5286c33a, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6e6d5d29, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5c530d1e, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@6c25e6c4, org.springframework.test.context.event.EventPublishingTestExecutionListener@85e6769, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@c5ee75e, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@48a12036, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@bf1ec20, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@70efb718, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@b70da4c, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@4a11eb84, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@4e858e0a]
[INFO ] 2021-08-30 12:27:30 [testcontainers-lifecycle-0] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
[INFO ] 2021-08-30 12:27:31 [testcontainers-lifecycle-0] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
[INFO ] 2021-08-30 12:27:31 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Docker host IP address is localhost
[INFO ] 2021-08-30 12:27:31 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Connected to docker: 
  Server Version: 20.10.7
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 1987 MB
[INFO ] 2021-08-30 12:27:31 [testcontainers-lifecycle-0] INFO  o.t.utility.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
[INFO ] 2021-08-30 12:27:33 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
[INFO ] 2021-08-30 12:27:33 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Checking the system...
[INFO ] 2021-08-30 12:27:33 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - ✔︎ Docker server version should be at least 1.6.0
[INFO ] 2021-08-30 12:27:33 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - ✔︎ Docker environment should have more than 2GB free disk space
[INFO ] 2021-08-30 12:27:33 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Creating container for image: postgres:13.2
[INFO ] 2021-08-30 12:27:37 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Starting container with ID: f09244d4db45e30e7c43eaaafdc2405f752c1b1d384247ad7c84a6bed5a1bfc0
[INFO ] 2021-08-30 12:27:40 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Container postgres:13.2 is starting: f09244d4db45e30e7c43eaaafdc2405f752c1b1d384247ad7c84a6bed5a1bfc0
[INFO ] 2021-08-30 12:27:42 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Container postgres:13.2 started in PT8.49502S
[INFO ] 2021-08-30 12:27:42 [main] INFO  🐳 [cloud_service_app:1.1] - Creating container for image: cloud_service_app:1.1
[INFO ] 2021-08-30 12:27:42 [main] INFO  🐳 [cloud_service_app:1.1] - Starting container with ID: 6002bc96f65d0f3e44fe3751a2dc03bb939e7958c788961458314d5348704181
[INFO ] 2021-08-30 12:27:45 [main] INFO  🐳 [cloud_service_app:1.1] - Container cloud_service_app:1.1 is starting: 6002bc96f65d0f3e44fe3751a2dc03bb939e7958c788961458314d5348704181
[INFO ] 2021-08-30 12:27:59 [main] INFO  🐳 [cloud_service_app:1.1] - Container cloud_service_app:1.1 started in PT17.396166S
[INFO ] 2021-08-30 12:27:59 [main] INFO  🐳 [front_app:1.0] - Creating container for image: front_app:1.0
[INFO ] 2021-08-30 12:27:59 [main] INFO  🐳 [front_app:1.0] - Starting container with ID: 79dc2a40604d19067d625b8a3abec7a5748d4fc4e2bfd62d20554ce8a9cdbb76
[INFO ] 2021-08-30 12:28:02 [main] INFO  🐳 [front_app:1.0] - Container front_app:1.0 is starting: 79dc2a40604d19067d625b8a3abec7a5748d4fc4e2bfd62d20554ce8a9cdbb76
[INFO ] 2021-08-30 12:28:08 [main] INFO  🐳 [front_app:1.0] - Container front_app:1.0 started in PT9.164837S
[INFO ] 2021-08-30 12:28:09 [main] INFO  r.n.c.i.CloudServiceIntegrationTest - Starting CloudServiceIntegrationTest using Java 14.0.1 on MBP-Maksim.Dlink with PID 13275 (started by maksim in /Users/maksim/Desktop/CloudService/CloudServiceBackend)
[INFO ] 2021-08-30 12:28:09 [main] INFO  r.n.c.i.CloudServiceIntegrationTest - No active profile set, falling back to default profiles: default
[WARN ] 2021-08-30 12:28:09 [background-preinit] WARN  o.s.h.c.j.Jackson2ObjectMapperBuilder - For Jackson Kotlin classes support please add "com.fasterxml.jackson.module:jackson-module-kotlin" to the classpath
[INFO ] 2021-08-30 12:28:10 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-08-30 12:28:10 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 75 ms. Found 2 JPA repository interfaces.
[INFO ] 2021-08-30 12:28:10 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@20801cbb' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[INFO ] 2021-08-30 12:28:10 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[INFO ] 2021-08-30 12:28:11 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
[INFO ] 2021-08-30 12:28:11 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
[INFO ] 2021-08-30 12:28:11 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.46]
[INFO ] 2021-08-30 12:28:11 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
[INFO ] 2021-08-30 12:28:11 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1918 ms
[INFO ] 2021-08-30 12:28:11 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
[INFO ] 2021-08-30 12:28:11 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
[INFO ] 2021-08-30 12:28:12 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
[INFO ] 2021-08-30 12:28:13 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
[INFO ] 2021-08-30 12:28:13 [main] INFO  liquibase.lockservice - Successfully released change log lock
[INFO ] 2021-08-30 12:28:13 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
[WARN ] 2021-08-30 12:28:13 [main] WARN  liquibase.hub - Skipping auto-registration
[INFO ] 2021-08-30 12:28:13 [main] INFO  liquibase.lockservice - Successfully released change log lock
[INFO ] 2021-08-30 12:28:13 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-08-30 12:28:13 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.31.Final
[INFO ] 2021-08-30 12:28:13 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-08-30 12:28:13 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
[INFO ] 2021-08-30 12:28:14 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-08-30 12:28:14 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-08-30 12:28:15 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-08-30 12:28:15 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.web.filter.CorsFilter@3fc064cb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4bacabc4, org.springframework.security.web.context.SecurityContextPersistenceFilter@209baf91, org.springframework.security.web.header.HeaderWriterFilter@10806dbe, org.springframework.web.filter.CorsFilter@508de524, org.springframework.security.web.authentication.logout.LogoutFilter@58e0f079, ru.netology.cloud_service_app.security.jwt.JwtUsernamePasswordAuthenticationFilter@617d697, ru.netology.cloud_service_app.security.jwt.JwtTokenVerifier@3a4d0ca2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7306836f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5a1ddc7c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@149162a4, org.springframework.security.web.session.SessionManagementFilter@3095c449, org.springframework.security.web.access.ExceptionTranslationFilter@4b094115, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7bfedff3]
[INFO ] 2021-08-30 12:28:16 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 60351 (http) with context path ''
[INFO ] 2021-08-30 12:28:16 [main] INFO  r.n.c.i.CloudServiceIntegrationTest - Started CloudServiceIntegrationTest in 7.788 seconds (JVM running for 47.808)
[INFO ] 2021-08-30 12:28:16 [main] INFO  o.s.b.a.ApplicationAvailabilityBean - Application availability state LivenessState changed to CORRECT
[INFO ] 2021-08-30 12:28:16 [main] INFO  o.s.b.a.ApplicationAvailabilityBean - Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
[WARN ] 2021-08-30 12:28:19 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23505
[ERROR] 2021-08-30 12:28:19 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: duplicate key value violates unique constraint "files_name_content_type_user_name_hash_key"
  Подробности: Key (name, content_type, user_name, hash)=(111.jpeg, image/jpeg, max@mail.ru, 73e27fea30ba0d84a194d3cd09d16b69) already exists.
[WARN ] 2021-08-30 12:28:19 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23505
[ERROR] 2021-08-30 12:28:19 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: duplicate key value violates unique constraint "files_name_content_type_user_name_hash_key"
  Подробности: Key (name, content_type, user_name, hash)=(111.jpeg, image/jpeg, max@mail.ru, 73e27fea30ba0d84a194d3cd09d16b69) already exists.
[WARN ] 2021-08-30 12:28:19 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23505
[ERROR] 2021-08-30 12:28:19 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: duplicate key value violates unique constraint "files_name_content_type_user_name_hash_key"
  Подробности: Key (name, content_type, user_name, hash)=(111.jpeg, image/jpeg, max@mail.ru, 73e27fea30ba0d84a194d3cd09d16b69) already exists.
[INFO ] 2021-08-30 12:32:25 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest]: no resource found for suffixes {-context.xml, Context.groovy}.
[INFO ] 2021-08-30 12:32:25 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest]: CloudServiceIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
[INFO ] 2021-08-30 12:32:25 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration ru.netology.cloud_service_app.CloudServiceAppApplication for test class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest
[INFO ] 2021-08-30 12:32:25 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
[INFO ] 2021-08-30 12:32:25 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@485e36bc, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@781f10f2, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@2a79d4b1, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@2e9fda69, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@17cdf2d0, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1755e85b, org.springframework.test.context.transaction.TransactionalTestExecutionListener@736d6a5c, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2371aaca, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@5b529706, org.springframework.test.context.event.EventPublishingTestExecutionListener@63fdab07, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@7b5a12ae, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@5553d0f5, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1af687fe, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@14dda234, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@3f390d63, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@74a6a609, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@5a411614]
[INFO ] 2021-08-30 12:32:26 [testcontainers-lifecycle-0] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
[INFO ] 2021-08-30 12:32:26 [testcontainers-lifecycle-0] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
[INFO ] 2021-08-30 12:32:26 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Docker host IP address is localhost
[INFO ] 2021-08-30 12:32:26 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Connected to docker: 
  Server Version: 20.10.7
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 1987 MB
[INFO ] 2021-08-30 12:32:26 [testcontainers-lifecycle-0] INFO  o.t.utility.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
[INFO ] 2021-08-30 12:32:29 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
[INFO ] 2021-08-30 12:32:29 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Checking the system...
[INFO ] 2021-08-30 12:32:29 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - ✔︎ Docker server version should be at least 1.6.0
[INFO ] 2021-08-30 12:32:29 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - ✔︎ Docker environment should have more than 2GB free disk space
[INFO ] 2021-08-30 12:32:29 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Creating container for image: postgres:13.2
[INFO ] 2021-08-30 12:32:33 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Starting container with ID: 7123e9a29f2142d916e7e6c145dded0cbe8d0b35a93b1c84a9bbdc6987cdd1c9
[INFO ] 2021-08-30 12:32:37 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Container postgres:13.2 is starting: 7123e9a29f2142d916e7e6c145dded0cbe8d0b35a93b1c84a9bbdc6987cdd1c9
[INFO ] 2021-08-30 12:32:38 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Container postgres:13.2 started in PT8.987482S
[INFO ] 2021-08-30 12:32:38 [main] INFO  🐳 [cloud_service_app:1.1] - Creating container for image: cloud_service_app:1.1
[INFO ] 2021-08-30 12:32:38 [main] INFO  🐳 [cloud_service_app:1.1] - Starting container with ID: acb95b018c905d3469b164a4e4ea6bf56af92e7158cf79b79c4f78d2ed36d7c0
[INFO ] 2021-08-30 12:32:42 [main] INFO  🐳 [cloud_service_app:1.1] - Container cloud_service_app:1.1 is starting: acb95b018c905d3469b164a4e4ea6bf56af92e7158cf79b79c4f78d2ed36d7c0
[INFO ] 2021-08-30 12:32:57 [main] INFO  🐳 [cloud_service_app:1.1] - Container cloud_service_app:1.1 started in PT19.033602S
[INFO ] 2021-08-30 12:32:57 [main] INFO  🐳 [front_app:1.0] - Creating container for image: front_app:1.0
[INFO ] 2021-08-30 12:32:57 [main] INFO  🐳 [front_app:1.0] - Starting container with ID: c489ba97818fc94e0de9341bf734b9c7aad941c763b5b8e085cb0ddb8eccf9fe
[INFO ] 2021-08-30 12:33:01 [main] INFO  🐳 [front_app:1.0] - Container front_app:1.0 is starting: c489ba97818fc94e0de9341bf734b9c7aad941c763b5b8e085cb0ddb8eccf9fe
[INFO ] 2021-08-30 12:33:10 [main] INFO  🐳 [front_app:1.0] - Container front_app:1.0 started in PT12.824782S
[INFO ] 2021-08-30 12:33:11 [main] INFO  r.n.c.i.CloudServiceIntegrationTest - Starting CloudServiceIntegrationTest using Java 14.0.1 on MBP-Maksim.Dlink with PID 14190 (started by maksim in /Users/maksim/Desktop/CloudService/CloudServiceBackend)
[INFO ] 2021-08-30 12:33:11 [main] INFO  r.n.c.i.CloudServiceIntegrationTest - No active profile set, falling back to default profiles: default
[WARN ] 2021-08-30 12:33:11 [background-preinit] WARN  o.s.h.c.j.Jackson2ObjectMapperBuilder - For Jackson Kotlin classes support please add "com.fasterxml.jackson.module:jackson-module-kotlin" to the classpath
[INFO ] 2021-08-30 12:33:12 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-08-30 12:33:12 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 100 ms. Found 2 JPA repository interfaces.
[INFO ] 2021-08-30 12:33:13 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@33f2cfda' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[INFO ] 2021-08-30 12:33:13 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[INFO ] 2021-08-30 12:33:14 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
[INFO ] 2021-08-30 12:33:14 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
[INFO ] 2021-08-30 12:33:14 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.46]
[INFO ] 2021-08-30 12:33:14 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
[INFO ] 2021-08-30 12:33:14 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3054 ms
[INFO ] 2021-08-30 12:33:15 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
[INFO ] 2021-08-30 12:33:15 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
[INFO ] 2021-08-30 12:33:16 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
[INFO ] 2021-08-30 12:33:17 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
[INFO ] 2021-08-30 12:33:17 [main] INFO  liquibase.lockservice - Successfully released change log lock
[INFO ] 2021-08-30 12:33:17 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
[WARN ] 2021-08-30 12:33:17 [main] WARN  liquibase.hub - Skipping auto-registration
[INFO ] 2021-08-30 12:33:17 [main] INFO  liquibase.lockservice - Successfully released change log lock
[INFO ] 2021-08-30 12:33:17 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-08-30 12:33:17 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.31.Final
[INFO ] 2021-08-30 12:33:18 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-08-30 12:33:18 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
[INFO ] 2021-08-30 12:33:19 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-08-30 12:33:19 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-08-30 12:33:20 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-08-30 12:33:20 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.web.filter.CorsFilter@126ae0ca, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@59e24c62, org.springframework.security.web.context.SecurityContextPersistenceFilter@736af6f3, org.springframework.security.web.header.HeaderWriterFilter@55e75ce0, org.springframework.web.filter.CorsFilter@5379488c, org.springframework.security.web.authentication.logout.LogoutFilter@4d0b8b8b, ru.netology.cloud_service_app.security.jwt.JwtUsernamePasswordAuthenticationFilter@744c16fb, ru.netology.cloud_service_app.security.jwt.JwtTokenVerifier@31e5d408, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6ec9f664, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6e49863e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7aaf0f0a, org.springframework.security.web.session.SessionManagementFilter@5d51203b, org.springframework.security.web.access.ExceptionTranslationFilter@455591ad, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@71dac63f]
[INFO ] 2021-08-30 12:33:21 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 61792 (http) with context path ''
[INFO ] 2021-08-30 12:33:21 [main] INFO  r.n.c.i.CloudServiceIntegrationTest - Started CloudServiceIntegrationTest in 11.068 seconds (JVM running for 58.268)
[INFO ] 2021-08-30 12:33:21 [main] INFO  o.s.b.a.ApplicationAvailabilityBean - Application availability state LivenessState changed to CORRECT
[INFO ] 2021-08-30 12:33:21 [main] INFO  o.s.b.a.ApplicationAvailabilityBean - Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
[WARN ] 2021-08-30 12:33:24 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23505
[ERROR] 2021-08-30 12:33:24 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: duplicate key value violates unique constraint "files_name_content_type_user_name_hash_key"
  Подробности: Key (name, content_type, user_name, hash)=(111.jpeg, image/jpeg, max@mail.ru, 73e27fea30ba0d84a194d3cd09d16b69) already exists.
[INFO ] 2021-08-30 12:37:35 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest]: no resource found for suffixes {-context.xml, Context.groovy}.
[INFO ] 2021-08-30 12:37:35 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest]: CloudServiceIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
[INFO ] 2021-08-30 12:37:35 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration ru.netology.cloud_service_app.CloudServiceAppApplication for test class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest
[INFO ] 2021-08-30 12:37:35 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
[INFO ] 2021-08-30 12:37:35 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5a411614, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2374d36a, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@54d18072, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@1506f20f, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@47a5b70d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@424fd310, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1a45193b, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@38f116f6, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@5286c33a, org.springframework.test.context.event.EventPublishingTestExecutionListener@6e6d5d29, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@5c530d1e, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@6c25e6c4, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@85e6769, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@c5ee75e, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@48a12036, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@bf1ec20, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@70efb718]
[INFO ] 2021-08-30 12:37:35 [testcontainers-lifecycle-0] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
[INFO ] 2021-08-30 12:37:36 [testcontainers-lifecycle-0] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
[INFO ] 2021-08-30 12:37:36 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Docker host IP address is localhost
[INFO ] 2021-08-30 12:37:36 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Connected to docker: 
  Server Version: 20.10.7
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 1987 MB
[INFO ] 2021-08-30 12:37:36 [testcontainers-lifecycle-0] INFO  o.t.utility.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
[INFO ] 2021-08-30 12:37:39 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
[INFO ] 2021-08-30 12:37:39 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Checking the system...
[INFO ] 2021-08-30 12:37:39 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - ✔︎ Docker server version should be at least 1.6.0
[INFO ] 2021-08-30 12:37:39 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - ✔︎ Docker environment should have more than 2GB free disk space
[INFO ] 2021-08-30 12:37:39 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Creating container for image: postgres:13.2
[INFO ] 2021-08-30 12:37:43 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Starting container with ID: cb15d5bcaa45b34c6219585b07deafd71b6e51c91489e641a5f8ab6557d9c193
[INFO ] 2021-08-30 12:37:47 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Container postgres:13.2 is starting: cb15d5bcaa45b34c6219585b07deafd71b6e51c91489e641a5f8ab6557d9c193
[INFO ] 2021-08-30 12:37:49 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Container postgres:13.2 started in PT10.353824S
[INFO ] 2021-08-30 12:37:49 [main] INFO  🐳 [cloud_service_app:1.1] - Creating container for image: cloud_service_app:1.1
[INFO ] 2021-08-30 12:37:49 [main] INFO  🐳 [cloud_service_app:1.1] - Starting container with ID: 322a5d1a52cbe5fd61d19c14e074c0cf61a84001d2084f4ea8f18c5b6b8f34a0
[INFO ] 2021-08-30 12:37:53 [main] INFO  🐳 [cloud_service_app:1.1] - Container cloud_service_app:1.1 is starting: 322a5d1a52cbe5fd61d19c14e074c0cf61a84001d2084f4ea8f18c5b6b8f34a0
[INFO ] 2021-08-30 12:38:10 [main] INFO  🐳 [cloud_service_app:1.1] - Container cloud_service_app:1.1 started in PT20.574644S
[INFO ] 2021-08-30 12:38:10 [main] INFO  🐳 [front_app:1.0] - Creating container for image: front_app:1.0
[INFO ] 2021-08-30 12:38:10 [main] INFO  🐳 [front_app:1.0] - Starting container with ID: 478364190ec0cad4a07f784a7f6f99741b92a4cd6d3bbaf78b5407a499f4d685
[INFO ] 2021-08-30 12:38:13 [main] INFO  🐳 [front_app:1.0] - Container front_app:1.0 is starting: 478364190ec0cad4a07f784a7f6f99741b92a4cd6d3bbaf78b5407a499f4d685
[INFO ] 2021-08-30 12:38:19 [main] INFO  🐳 [front_app:1.0] - Container front_app:1.0 started in PT9.272513S
[INFO ] 2021-08-30 12:38:20 [main] INFO  r.n.c.i.CloudServiceIntegrationTest - Starting CloudServiceIntegrationTest using Java 14.0.1 on MBP-Maksim.Dlink with PID 15074 (started by maksim in /Users/maksim/Desktop/CloudService/CloudServiceBackend)
[INFO ] 2021-08-30 12:38:20 [main] INFO  r.n.c.i.CloudServiceIntegrationTest - No active profile set, falling back to default profiles: default
[WARN ] 2021-08-30 12:38:20 [background-preinit] WARN  o.s.h.c.j.Jackson2ObjectMapperBuilder - For Jackson Kotlin classes support please add "com.fasterxml.jackson.module:jackson-module-kotlin" to the classpath
[INFO ] 2021-08-30 12:38:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-08-30 12:38:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 80 ms. Found 2 JPA repository interfaces.
[INFO ] 2021-08-30 12:38:21 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@3592c1c4' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[INFO ] 2021-08-30 12:38:21 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[INFO ] 2021-08-30 12:38:22 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
[INFO ] 2021-08-30 12:38:22 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
[INFO ] 2021-08-30 12:38:22 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.46]
[INFO ] 2021-08-30 12:38:22 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
[INFO ] 2021-08-30 12:38:22 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2363 ms
[INFO ] 2021-08-30 12:38:22 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
[INFO ] 2021-08-30 12:38:23 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
[INFO ] 2021-08-30 12:38:23 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
[INFO ] 2021-08-30 12:38:24 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
[INFO ] 2021-08-30 12:38:24 [main] INFO  liquibase.lockservice - Successfully released change log lock
[INFO ] 2021-08-30 12:38:24 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
[WARN ] 2021-08-30 12:38:24 [main] WARN  liquibase.hub - Skipping auto-registration
[INFO ] 2021-08-30 12:38:24 [main] INFO  liquibase.lockservice - Successfully released change log lock
[INFO ] 2021-08-30 12:38:24 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-08-30 12:38:24 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.31.Final
[INFO ] 2021-08-30 12:38:25 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-08-30 12:38:25 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
[INFO ] 2021-08-30 12:38:26 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-08-30 12:38:26 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-08-30 12:38:27 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-08-30 12:38:27 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.web.filter.CorsFilter@3db48e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@38f2342b, org.springframework.security.web.context.SecurityContextPersistenceFilter@75a6cdb, org.springframework.security.web.header.HeaderWriterFilter@680408ac, org.springframework.web.filter.CorsFilter@68312b85, org.springframework.security.web.authentication.logout.LogoutFilter@3a5663ef, ru.netology.cloud_service_app.security.jwt.JwtUsernamePasswordAuthenticationFilter@5ab0168, ru.netology.cloud_service_app.security.jwt.JwtTokenVerifier@5c6ee543, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@38614875, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6f18445b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7594d189, org.springframework.security.web.session.SessionManagementFilter@5eb89000, org.springframework.security.web.access.ExceptionTranslationFilter@7ab17cf, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2972b493]
[INFO ] 2021-08-30 12:38:28 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 63151 (http) with context path ''
[INFO ] 2021-08-30 12:38:28 [main] INFO  r.n.c.i.CloudServiceIntegrationTest - Started CloudServiceIntegrationTest in 8.937 seconds (JVM running for 54.284)
[INFO ] 2021-08-30 12:38:28 [main] INFO  o.s.b.a.ApplicationAvailabilityBean - Application availability state LivenessState changed to CORRECT
[INFO ] 2021-08-30 12:38:28 [main] INFO  o.s.b.a.ApplicationAvailabilityBean - Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
[INFO ] 2021-08-30 12:39:49 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest]: no resource found for suffixes {-context.xml, Context.groovy}.
[INFO ] 2021-08-30 12:39:49 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest]: CloudServiceIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
[INFO ] 2021-08-30 12:39:49 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration ru.netology.cloud_service_app.CloudServiceAppApplication for test class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest
[INFO ] 2021-08-30 12:39:49 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
[INFO ] 2021-08-30 12:39:49 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@47a86fbb, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@f478a81, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@19553973, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@7bb6ab3a, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@7fe7c640, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4c4748bf, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7ce97ee5, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@32c8e539, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@73dce0e6, org.springframework.test.context.event.EventPublishingTestExecutionListener@5a85c92, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@32811494, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@4795ded0, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@53dacd14, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@14d14731, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@2eced48b, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@47c4ecdc, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@42f33b5d]
[INFO ] 2021-08-30 12:39:51 [testcontainers-lifecycle-0] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
[INFO ] 2021-08-30 12:39:52 [testcontainers-lifecycle-0] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
[INFO ] 2021-08-30 12:39:52 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Docker host IP address is localhost
[INFO ] 2021-08-30 12:39:52 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Connected to docker: 
  Server Version: 20.10.7
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 1987 MB
[INFO ] 2021-08-30 12:39:52 [testcontainers-lifecycle-0] INFO  o.t.utility.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
[INFO ] 2021-08-30 12:39:55 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
[INFO ] 2021-08-30 12:39:55 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Checking the system...
[INFO ] 2021-08-30 12:39:55 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - ✔︎ Docker server version should be at least 1.6.0
[INFO ] 2021-08-30 12:39:55 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - ✔︎ Docker environment should have more than 2GB free disk space
[INFO ] 2021-08-30 12:39:55 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Creating container for image: postgres:13.2
[INFO ] 2021-08-30 12:40:00 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Starting container with ID: 03995678d12a40b5e4df89102f454cf0a333bc7d5af7531c171cbe55af18ff10
[INFO ] 2021-08-30 12:40:03 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Container postgres:13.2 is starting: 03995678d12a40b5e4df89102f454cf0a333bc7d5af7531c171cbe55af18ff10
[INFO ] 2021-08-30 12:40:05 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Container postgres:13.2 started in PT9.522747S
[INFO ] 2021-08-30 12:40:05 [main] INFO  🐳 [cloud_service_app:1.1] - Creating container for image: cloud_service_app:1.1
[INFO ] 2021-08-30 12:40:05 [main] INFO  🐳 [cloud_service_app:1.1] - Starting container with ID: 8eb318ef7cbd6a5da01c09278d39ec079f4da9c50f663511a086975ca59315a0
[INFO ] 2021-08-30 12:40:08 [main] INFO  🐳 [cloud_service_app:1.1] - Container cloud_service_app:1.1 is starting: 8eb318ef7cbd6a5da01c09278d39ec079f4da9c50f663511a086975ca59315a0
[INFO ] 2021-08-30 12:40:37 [main] INFO  🐳 [cloud_service_app:1.1] - Container cloud_service_app:1.1 started in PT32.461245S
[INFO ] 2021-08-30 12:40:37 [main] INFO  🐳 [front_app:1.0] - Creating container for image: front_app:1.0
[INFO ] 2021-08-30 12:40:37 [main] INFO  🐳 [front_app:1.0] - Starting container with ID: df0fd680755b2a36e98b735fc623bc8b868fbf7e2fde1b223973bc7efddf93d2
[INFO ] 2021-08-30 12:40:41 [main] INFO  🐳 [front_app:1.0] - Container front_app:1.0 is starting: df0fd680755b2a36e98b735fc623bc8b868fbf7e2fde1b223973bc7efddf93d2
[INFO ] 2021-08-30 12:40:47 [main] INFO  🐳 [front_app:1.0] - Container front_app:1.0 started in PT9.317618S
[INFO ] 2021-08-30 12:40:47 [main] INFO  r.n.c.i.CloudServiceIntegrationTest - Starting CloudServiceIntegrationTest using Java 14.0.1 on MBP-Maksim.Dlink with PID 15453 (started by maksim in /Users/maksim/Desktop/CloudService/CloudServiceBackend)
[INFO ] 2021-08-30 12:40:47 [main] INFO  r.n.c.i.CloudServiceIntegrationTest - No active profile set, falling back to default profiles: default
[WARN ] 2021-08-30 12:40:47 [background-preinit] WARN  o.s.h.c.j.Jackson2ObjectMapperBuilder - For Jackson Kotlin classes support please add "com.fasterxml.jackson.module:jackson-module-kotlin" to the classpath
[INFO ] 2021-08-30 12:40:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-08-30 12:40:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 69 ms. Found 2 JPA repository interfaces.
[INFO ] 2021-08-30 12:40:49 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@3caafa67' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[INFO ] 2021-08-30 12:40:49 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[INFO ] 2021-08-30 12:40:49 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
[INFO ] 2021-08-30 12:40:49 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
[INFO ] 2021-08-30 12:40:49 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.46]
[INFO ] 2021-08-30 12:40:49 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
[INFO ] 2021-08-30 12:40:49 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2024 ms
[INFO ] 2021-08-30 12:40:50 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
[INFO ] 2021-08-30 12:40:50 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
[INFO ] 2021-08-30 12:40:50 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
[INFO ] 2021-08-30 12:40:51 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
[INFO ] 2021-08-30 12:40:51 [main] INFO  liquibase.lockservice - Successfully released change log lock
[INFO ] 2021-08-30 12:40:51 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
[WARN ] 2021-08-30 12:40:51 [main] WARN  liquibase.hub - Skipping auto-registration
[INFO ] 2021-08-30 12:40:51 [main] INFO  liquibase.lockservice - Successfully released change log lock
[INFO ] 2021-08-30 12:40:51 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-08-30 12:40:51 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.31.Final
[INFO ] 2021-08-30 12:40:52 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-08-30 12:40:52 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
[INFO ] 2021-08-30 12:40:53 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-08-30 12:40:53 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-08-30 12:40:53 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-08-30 12:40:54 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.web.filter.CorsFilter@427946b9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@fe58644, org.springframework.security.web.context.SecurityContextPersistenceFilter@4d6fa22c, org.springframework.security.web.header.HeaderWriterFilter@26247027, org.springframework.web.filter.CorsFilter@2ecb87b2, org.springframework.security.web.authentication.logout.LogoutFilter@2620264e, ru.netology.cloud_service_app.security.jwt.JwtUsernamePasswordAuthenticationFilter@1704437b, ru.netology.cloud_service_app.security.jwt.JwtTokenVerifier@1f4083ac, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6d0fe80c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@10806dbe, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3cb4f1a6, org.springframework.security.web.session.SessionManagementFilter@3c592c0c, org.springframework.security.web.access.ExceptionTranslationFilter@70e560ef, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@25865fca]
[INFO ] 2021-08-30 12:40:54 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 64018 (http) with context path ''
[INFO ] 2021-08-30 12:40:54 [main] INFO  r.n.c.i.CloudServiceIntegrationTest - Started CloudServiceIntegrationTest in 7.798 seconds (JVM running for 67.819)
[INFO ] 2021-08-30 12:40:54 [main] INFO  o.s.b.a.ApplicationAvailabilityBean - Application availability state LivenessState changed to CORRECT
[INFO ] 2021-08-30 12:40:54 [main] INFO  o.s.b.a.ApplicationAvailabilityBean - Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
[WARN ] 2021-08-30 12:40:58 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23505
[ERROR] 2021-08-30 12:40:58 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: duplicate key value violates unique constraint "files_name_content_type_user_name_hash_key"
  Подробности: Key (name, content_type, user_name, hash)=(111.jpeg, image/jpeg, max@mail.ru, 73e27fea30ba0d84a194d3cd09d16b69) already exists.
[INFO ] 2021-08-30 12:48:20 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest]: no resource found for suffixes {-context.xml, Context.groovy}.
[INFO ] 2021-08-30 12:48:20 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest]: CloudServiceIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
[INFO ] 2021-08-30 12:48:20 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration ru.netology.cloud_service_app.CloudServiceAppApplication for test class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest
[INFO ] 2021-08-30 12:48:20 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
[INFO ] 2021-08-30 12:48:20 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@25bc0606, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5d1659ea, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@793138bd, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@1951b871, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@5c18016b, org.springframework.test.context.support.DirtiesContextTestExecutionListener@33aeca0b, org.springframework.test.context.transaction.TransactionalTestExecutionListener@43aaf813, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@57ac5227, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@4ba302e0, org.springframework.test.context.event.EventPublishingTestExecutionListener@e98770d, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@1ae67cad, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@2f6e28bc, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@7c098bb3, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@31e4bb20, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@18cebaa5, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@463b4ac8, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@765f05af]
[INFO ] 2021-08-30 12:48:21 [testcontainers-lifecycle-0] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
[INFO ] 2021-08-30 12:48:22 [testcontainers-lifecycle-0] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
[INFO ] 2021-08-30 12:48:22 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Docker host IP address is localhost
[INFO ] 2021-08-30 12:48:22 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Connected to docker: 
  Server Version: 20.10.7
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 1987 MB
[INFO ] 2021-08-30 12:48:22 [testcontainers-lifecycle-0] INFO  o.t.utility.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
[INFO ] 2021-08-30 12:48:24 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
[INFO ] 2021-08-30 12:48:24 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Checking the system...
[INFO ] 2021-08-30 12:48:24 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - ✔︎ Docker server version should be at least 1.6.0
[INFO ] 2021-08-30 12:48:24 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - ✔︎ Docker environment should have more than 2GB free disk space
[INFO ] 2021-08-30 12:48:24 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Creating container for image: postgres:13.2
[INFO ] 2021-08-30 12:48:28 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Starting container with ID: 99ee51694748beefc432d6a147b5849af334adddcfffd99fba679ca150d1f000
[INFO ] 2021-08-30 12:48:32 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Container postgres:13.2 is starting: 99ee51694748beefc432d6a147b5849af334adddcfffd99fba679ca150d1f000
[INFO ] 2021-08-30 12:48:33 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Container postgres:13.2 started in PT9.03788S
[INFO ] 2021-08-30 12:48:33 [main] INFO  🐳 [cloud_service_app:1.1] - Creating container for image: cloud_service_app:1.1
[INFO ] 2021-08-30 12:48:33 [main] INFO  🐳 [cloud_service_app:1.1] - Starting container with ID: 37527dca400bdb5300dac451b419ec8b756adda3116778b55f3a37e9087d866b
[INFO ] 2021-08-30 12:48:37 [main] INFO  🐳 [cloud_service_app:1.1] - Container cloud_service_app:1.1 is starting: 37527dca400bdb5300dac451b419ec8b756adda3116778b55f3a37e9087d866b
[INFO ] 2021-08-30 12:48:52 [main] INFO  🐳 [cloud_service_app:1.1] - Container cloud_service_app:1.1 started in PT18.912714S
[INFO ] 2021-08-30 12:48:52 [main] INFO  🐳 [front_app:1.0] - Creating container for image: front_app:1.0
[INFO ] 2021-08-30 12:48:52 [main] INFO  🐳 [front_app:1.0] - Starting container with ID: 1e5060a3164845328f1c298da69f8aa92e2fa6dad30c7af1802795e977a18d17
[INFO ] 2021-08-30 12:48:56 [main] INFO  🐳 [front_app:1.0] - Container front_app:1.0 is starting: 1e5060a3164845328f1c298da69f8aa92e2fa6dad30c7af1802795e977a18d17
[INFO ] 2021-08-30 12:49:01 [main] INFO  🐳 [front_app:1.0] - Container front_app:1.0 started in PT8.410248S
[INFO ] 2021-08-30 12:49:01 [main] INFO  r.n.c.i.CloudServiceIntegrationTest - Starting CloudServiceIntegrationTest using Java 14.0.1 on MBP-Maksim.Dlink with PID 17028 (started by maksim in /Users/maksim/Desktop/CloudService/CloudServiceBackend)
[INFO ] 2021-08-30 12:49:01 [main] INFO  r.n.c.i.CloudServiceIntegrationTest - No active profile set, falling back to default profiles: default
[WARN ] 2021-08-30 12:49:02 [background-preinit] WARN  o.s.h.c.j.Jackson2ObjectMapperBuilder - For Jackson Kotlin classes support please add "com.fasterxml.jackson.module:jackson-module-kotlin" to the classpath
[INFO ] 2021-08-30 12:49:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-08-30 12:49:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 78 ms. Found 2 JPA repository interfaces.
[INFO ] 2021-08-30 12:49:03 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@4bc6da03' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[INFO ] 2021-08-30 12:49:03 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[INFO ] 2021-08-30 12:49:04 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
[INFO ] 2021-08-30 12:49:04 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
[INFO ] 2021-08-30 12:49:04 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.46]
[INFO ] 2021-08-30 12:49:04 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
[INFO ] 2021-08-30 12:49:04 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2422 ms
[INFO ] 2021-08-30 12:49:04 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
[INFO ] 2021-08-30 12:49:04 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
[INFO ] 2021-08-30 12:49:05 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
[INFO ] 2021-08-30 12:49:05 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
[INFO ] 2021-08-30 12:49:06 [main] INFO  liquibase.lockservice - Successfully released change log lock
[INFO ] 2021-08-30 12:49:06 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
[WARN ] 2021-08-30 12:49:06 [main] WARN  liquibase.hub - Skipping auto-registration
[INFO ] 2021-08-30 12:49:06 [main] INFO  liquibase.lockservice - Successfully released change log lock
[INFO ] 2021-08-30 12:49:06 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-08-30 12:49:06 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.31.Final
[INFO ] 2021-08-30 12:49:06 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-08-30 12:49:06 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
[INFO ] 2021-08-30 12:49:07 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-08-30 12:49:07 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-08-30 12:49:08 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-08-30 12:49:08 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.web.filter.CorsFilter@2456716b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@63541960, org.springframework.security.web.context.SecurityContextPersistenceFilter@7aaf0f0a, org.springframework.security.web.header.HeaderWriterFilter@11e36e5c, org.springframework.web.filter.CorsFilter@6d43c881, org.springframework.security.web.authentication.logout.LogoutFilter@36b86248, ru.netology.cloud_service_app.security.jwt.JwtUsernamePasswordAuthenticationFilter@467625e3, ru.netology.cloud_service_app.security.jwt.JwtTokenVerifier@513cd96f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@68bef3df, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2972b493, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@12e04531, org.springframework.security.web.session.SessionManagementFilter@59e24c62, org.springframework.security.web.access.ExceptionTranslationFilter@e9c5db9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@38c9e937]
[INFO ] 2021-08-30 12:49:09 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 50248 (http) with context path ''
[INFO ] 2021-08-30 12:49:09 [main] INFO  r.n.c.i.CloudServiceIntegrationTest - Started CloudServiceIntegrationTest in 8.148 seconds (JVM running for 50.628)
[INFO ] 2021-08-30 12:49:09 [main] INFO  o.s.b.a.ApplicationAvailabilityBean - Application availability state LivenessState changed to CORRECT
[INFO ] 2021-08-30 12:49:09 [main] INFO  o.s.b.a.ApplicationAvailabilityBean - Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
[INFO ] 2021-08-30 12:49:09 [main] INFO  o.s.t.c.t.TransactionContext - Began transaction (1) for test context [DefaultTestContext@22bf4d9d testClass = CloudServiceIntegrationTest, testInstance = ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest@9930ff6, testMethod = backendApplicationGetAllFilesMethodShouldReturnOkAndValidJsonResponse@CloudServiceIntegrationTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@5d571179 testClass = CloudServiceIntegrationTest, locations = '{}', classes = '{class ru.netology.cloud_service_app.CloudServiceAppApplication}', contextInitializerClasses = '[class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@55c53a33, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5a37d3ed, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@658c5a19, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@57c03d88, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@125290e5, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@6cd8737], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@551fefe8]; rollback [true]
[INFO ] 2021-08-30 12:49:11 [main] INFO  o.s.t.c.t.TransactionContext - Rolled back transaction for test: [DefaultTestContext@22bf4d9d testClass = CloudServiceIntegrationTest, testInstance = ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest@9930ff6, testMethod = backendApplicationGetAllFilesMethodShouldReturnOkAndValidJsonResponse@CloudServiceIntegrationTest, testException = org.opentest4j.MultipleFailuresError: Multiple Failures (1 failure)
	org.opentest4j.AssertionFailedError: expected: <[{"size":100,"filename":"111.jpeg"}]> but was: <[]>, mergedContextConfiguration = [WebMergedContextConfiguration@5d571179 testClass = CloudServiceIntegrationTest, locations = '{}', classes = '{class ru.netology.cloud_service_app.CloudServiceAppApplication}', contextInitializerClasses = '[class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@55c53a33, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5a37d3ed, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@658c5a19, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@57c03d88, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@125290e5, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@6cd8737], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
[INFO ] 2021-08-30 12:49:11 [main] INFO  o.s.t.c.t.TransactionContext - Began transaction (1) for test context [DefaultTestContext@22bf4d9d testClass = CloudServiceIntegrationTest, testInstance = ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest@796eeafb, testMethod = testBackendContainerShouldWork@CloudServiceIntegrationTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@5d571179 testClass = CloudServiceIntegrationTest, locations = '{}', classes = '{class ru.netology.cloud_service_app.CloudServiceAppApplication}', contextInitializerClasses = '[class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@55c53a33, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5a37d3ed, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@658c5a19, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@57c03d88, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@125290e5, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@6cd8737], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@551fefe8]; rollback [true]
[INFO ] 2021-08-30 12:49:11 [main] INFO  o.s.t.c.t.TransactionContext - Rolled back transaction for test: [DefaultTestContext@22bf4d9d testClass = CloudServiceIntegrationTest, testInstance = ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest@796eeafb, testMethod = testBackendContainerShouldWork@CloudServiceIntegrationTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@5d571179 testClass = CloudServiceIntegrationTest, locations = '{}', classes = '{class ru.netology.cloud_service_app.CloudServiceAppApplication}', contextInitializerClasses = '[class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@55c53a33, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5a37d3ed, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@658c5a19, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@57c03d88, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@125290e5, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@6cd8737], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
[INFO ] 2021-08-30 12:49:11 [main] INFO  o.s.t.c.t.TransactionContext - Began transaction (1) for test context [DefaultTestContext@22bf4d9d testClass = CloudServiceIntegrationTest, testInstance = ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest@300566e, testMethod = testFrontendContainerShouldWork@CloudServiceIntegrationTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@5d571179 testClass = CloudServiceIntegrationTest, locations = '{}', classes = '{class ru.netology.cloud_service_app.CloudServiceAppApplication}', contextInitializerClasses = '[class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@55c53a33, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5a37d3ed, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@658c5a19, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@57c03d88, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@125290e5, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@6cd8737], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@551fefe8]; rollback [true]
[INFO ] 2021-08-30 12:49:11 [main] INFO  o.s.t.c.t.TransactionContext - Rolled back transaction for test: [DefaultTestContext@22bf4d9d testClass = CloudServiceIntegrationTest, testInstance = ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest@300566e, testMethod = testFrontendContainerShouldWork@CloudServiceIntegrationTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@5d571179 testClass = CloudServiceIntegrationTest, locations = '{}', classes = '{class ru.netology.cloud_service_app.CloudServiceAppApplication}', contextInitializerClasses = '[class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@55c53a33, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5a37d3ed, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@658c5a19, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@57c03d88, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@125290e5, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@6cd8737], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
[INFO ] 2021-08-30 12:49:11 [main] INFO  o.s.t.c.t.TransactionContext - Began transaction (1) for test context [DefaultTestContext@22bf4d9d testClass = CloudServiceIntegrationTest, testInstance = ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest@2889d997, testMethod = backendApplicationEditFilenameMethodShouldReturnOk@CloudServiceIntegrationTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@5d571179 testClass = CloudServiceIntegrationTest, locations = '{}', classes = '{class ru.netology.cloud_service_app.CloudServiceAppApplication}', contextInitializerClasses = '[class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@55c53a33, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5a37d3ed, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@658c5a19, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@57c03d88, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@125290e5, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@6cd8737], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@551fefe8]; rollback [true]
[INFO ] 2021-08-30 12:49:11 [main] INFO  o.s.t.c.t.TransactionContext - Rolled back transaction for test: [DefaultTestContext@22bf4d9d testClass = CloudServiceIntegrationTest, testInstance = ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest@2889d997, testMethod = backendApplicationEditFilenameMethodShouldReturnOk@CloudServiceIntegrationTest, testException = org.opentest4j.MultipleFailuresError: Multiple Failures (2 failures)
	org.opentest4j.AssertionFailedError: expected: <200 OK> but was: <500 INTERNAL_SERVER_ERROR>
	org.opentest4j.AssertionFailedError: expected: <Success upload> but was: <{"message":"Ошибка изменения файла 111.jpeg","statusCodeId":500}>, mergedContextConfiguration = [WebMergedContextConfiguration@5d571179 testClass = CloudServiceIntegrationTest, locations = '{}', classes = '{class ru.netology.cloud_service_app.CloudServiceAppApplication}', contextInitializerClasses = '[class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@55c53a33, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5a37d3ed, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@658c5a19, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@57c03d88, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@125290e5, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@6cd8737], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
[INFO ] 2021-08-30 12:49:11 [main] INFO  o.s.t.c.t.TransactionContext - Began transaction (1) for test context [DefaultTestContext@22bf4d9d testClass = CloudServiceIntegrationTest, testInstance = ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest@67d4e8f7, testMethod = backendApplicationSaveFileMethodShouldReturnOk@CloudServiceIntegrationTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@5d571179 testClass = CloudServiceIntegrationTest, locations = '{}', classes = '{class ru.netology.cloud_service_app.CloudServiceAppApplication}', contextInitializerClasses = '[class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@55c53a33, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5a37d3ed, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@658c5a19, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@57c03d88, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@125290e5, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@6cd8737], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@551fefe8]; rollback [true]
[INFO ] 2021-08-30 12:49:11 [main] INFO  o.s.t.c.t.TransactionContext - Rolled back transaction for test: [DefaultTestContext@22bf4d9d testClass = CloudServiceIntegrationTest, testInstance = ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest@67d4e8f7, testMethod = backendApplicationSaveFileMethodShouldReturnOk@CloudServiceIntegrationTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@5d571179 testClass = CloudServiceIntegrationTest, locations = '{}', classes = '{class ru.netology.cloud_service_app.CloudServiceAppApplication}', contextInitializerClasses = '[class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@55c53a33, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5a37d3ed, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@658c5a19, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@57c03d88, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@125290e5, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@6cd8737], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
[INFO ] 2021-08-30 12:49:11 [main] INFO  o.s.t.c.t.TransactionContext - Began transaction (1) for test context [DefaultTestContext@22bf4d9d testClass = CloudServiceIntegrationTest, testInstance = ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest@250c5892, testMethod = backendApplicationDeleteFileMethodShouldReturnOk@CloudServiceIntegrationTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@5d571179 testClass = CloudServiceIntegrationTest, locations = '{}', classes = '{class ru.netology.cloud_service_app.CloudServiceAppApplication}', contextInitializerClasses = '[class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@55c53a33, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5a37d3ed, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@658c5a19, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@57c03d88, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@125290e5, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@6cd8737], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@551fefe8]; rollback [true]
[INFO ] 2021-08-30 12:49:12 [main] INFO  o.s.t.c.t.TransactionContext - Rolled back transaction for test: [DefaultTestContext@22bf4d9d testClass = CloudServiceIntegrationTest, testInstance = ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest@250c5892, testMethod = backendApplicationDeleteFileMethodShouldReturnOk@CloudServiceIntegrationTest, testException = org.opentest4j.MultipleFailuresError: Multiple Failures (2 failures)
	org.opentest4j.AssertionFailedError: expected: <200 OK> but was: <500 INTERNAL_SERVER_ERROR>
	org.opentest4j.AssertionFailedError: expected: <Success deleted> but was: <{"message":"Ошибка удаления файла 111.jpeg","statusCodeId":500}>, mergedContextConfiguration = [WebMergedContextConfiguration@5d571179 testClass = CloudServiceIntegrationTest, locations = '{}', classes = '{class ru.netology.cloud_service_app.CloudServiceAppApplication}', contextInitializerClasses = '[class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@55c53a33, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5a37d3ed, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@658c5a19, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@57c03d88, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@125290e5, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@6cd8737], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
[INFO ] 2021-08-30 12:49:12 [main] INFO  o.s.t.c.t.TransactionContext - Began transaction (1) for test context [DefaultTestContext@22bf4d9d testClass = CloudServiceIntegrationTest, testInstance = ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest@4191774f, testMethod = testPostgresContainerShouldWork@CloudServiceIntegrationTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@5d571179 testClass = CloudServiceIntegrationTest, locations = '{}', classes = '{class ru.netology.cloud_service_app.CloudServiceAppApplication}', contextInitializerClasses = '[class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@55c53a33, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5a37d3ed, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@658c5a19, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@57c03d88, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@125290e5, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@6cd8737], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@551fefe8]; rollback [true]
[INFO ] 2021-08-30 12:49:12 [main] INFO  o.s.t.c.t.TransactionContext - Rolled back transaction for test: [DefaultTestContext@22bf4d9d testClass = CloudServiceIntegrationTest, testInstance = ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest@4191774f, testMethod = testPostgresContainerShouldWork@CloudServiceIntegrationTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@5d571179 testClass = CloudServiceIntegrationTest, locations = '{}', classes = '{class ru.netology.cloud_service_app.CloudServiceAppApplication}', contextInitializerClasses = '[class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@55c53a33, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5a37d3ed, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@658c5a19, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@57c03d88, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@125290e5, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@6cd8737], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
[INFO ] 2021-08-30 12:49:12 [main] INFO  o.s.t.c.t.TransactionContext - Began transaction (1) for test context [DefaultTestContext@22bf4d9d testClass = CloudServiceIntegrationTest, testInstance = ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest@661ec798, testMethod = backendApplicationDownloadFileMethodShouldReturnOk@CloudServiceIntegrationTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@5d571179 testClass = CloudServiceIntegrationTest, locations = '{}', classes = '{class ru.netology.cloud_service_app.CloudServiceAppApplication}', contextInitializerClasses = '[class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@55c53a33, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5a37d3ed, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@658c5a19, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@57c03d88, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@125290e5, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@6cd8737], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@551fefe8]; rollback [true]
[INFO ] 2021-08-30 12:49:12 [main] INFO  o.s.t.c.t.TransactionContext - Rolled back transaction for test: [DefaultTestContext@22bf4d9d testClass = CloudServiceIntegrationTest, testInstance = ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest@661ec798, testMethod = backendApplicationDownloadFileMethodShouldReturnOk@CloudServiceIntegrationTest, testException = org.opentest4j.AssertionFailedError: expected: <200 OK> but was: <404 NOT_FOUND>, mergedContextConfiguration = [WebMergedContextConfiguration@5d571179 testClass = CloudServiceIntegrationTest, locations = '{}', classes = '{class ru.netology.cloud_service_app.CloudServiceAppApplication}', contextInitializerClasses = '[class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@55c53a33, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5a37d3ed, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@658c5a19, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@57c03d88, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@125290e5, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@6cd8737], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
[INFO ] 2021-08-30 12:49:16 [SpringContextShutdownHook] INFO  o.s.b.a.ApplicationAvailabilityBean - Application availability state ReadinessState changed from ACCEPTING_TRAFFIC to REFUSING_TRAFFIC
[INFO ] 2021-08-30 12:51:01 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest]: no resource found for suffixes {-context.xml, Context.groovy}.
[INFO ] 2021-08-30 12:51:01 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest]: CloudServiceIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
[INFO ] 2021-08-30 12:51:01 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration ru.netology.cloud_service_app.CloudServiceAppApplication for test class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest
[INFO ] 2021-08-30 12:51:01 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
[INFO ] 2021-08-30 12:51:01 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@1506f20f, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@47a5b70d, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@424fd310, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@1a45193b, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@38f116f6, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5286c33a, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6e6d5d29, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5c530d1e, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@6c25e6c4, org.springframework.test.context.event.EventPublishingTestExecutionListener@85e6769, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@c5ee75e, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@48a12036, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@bf1ec20, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@70efb718, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@b70da4c, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@4a11eb84, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@4e858e0a]
[INFO ] 2021-08-30 12:51:01 [testcontainers-lifecycle-0] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
[INFO ] 2021-08-30 12:51:02 [testcontainers-lifecycle-0] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
[INFO ] 2021-08-30 12:51:02 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Docker host IP address is localhost
[INFO ] 2021-08-30 12:51:02 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Connected to docker: 
  Server Version: 20.10.7
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 1987 MB
[INFO ] 2021-08-30 12:51:02 [testcontainers-lifecycle-0] INFO  o.t.utility.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
[INFO ] 2021-08-30 12:51:04 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
[INFO ] 2021-08-30 12:51:04 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Checking the system...
[INFO ] 2021-08-30 12:51:04 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - ✔︎ Docker server version should be at least 1.6.0
[INFO ] 2021-08-30 12:51:04 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - ✔︎ Docker environment should have more than 2GB free disk space
[INFO ] 2021-08-30 12:51:04 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Creating container for image: postgres:13.2
[INFO ] 2021-08-30 12:51:08 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Starting container with ID: 8a0beab91ac011c29f5be2e857fd41399357a30e82b52b7f32517d85b6f3b163
[INFO ] 2021-08-30 12:51:11 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Container postgres:13.2 is starting: 8a0beab91ac011c29f5be2e857fd41399357a30e82b52b7f32517d85b6f3b163
[INFO ] 2021-08-30 12:51:13 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Container postgres:13.2 started in PT8.451135S
[INFO ] 2021-08-30 12:51:13 [main] INFO  🐳 [cloud_service_app:1.1] - Creating container for image: cloud_service_app:1.1
[INFO ] 2021-08-30 12:51:13 [main] INFO  🐳 [cloud_service_app:1.1] - Starting container with ID: 41379a47475db835e0c25bfa685008b508f27cab915a95e85f59c13eadb1f44b
[INFO ] 2021-08-30 12:51:16 [main] INFO  🐳 [cloud_service_app:1.1] - Container cloud_service_app:1.1 is starting: 41379a47475db835e0c25bfa685008b508f27cab915a95e85f59c13eadb1f44b
[INFO ] 2021-08-30 12:51:34 [main] INFO  🐳 [cloud_service_app:1.1] - Container cloud_service_app:1.1 started in PT21.049996S
[INFO ] 2021-08-30 12:51:34 [main] INFO  🐳 [front_app:1.0] - Creating container for image: front_app:1.0
[INFO ] 2021-08-30 12:51:34 [main] INFO  🐳 [front_app:1.0] - Starting container with ID: e22a032d13b008795c961b492cac4d4483db921d45a3d8d60d42755afc0391c2
[INFO ] 2021-08-30 12:51:38 [main] INFO  🐳 [front_app:1.0] - Container front_app:1.0 is starting: e22a032d13b008795c961b492cac4d4483db921d45a3d8d60d42755afc0391c2
[INFO ] 2021-08-30 12:51:44 [main] INFO  🐳 [front_app:1.0] - Container front_app:1.0 started in PT10.049149S
[INFO ] 2021-08-30 12:51:44 [main] INFO  r.n.c.i.CloudServiceIntegrationTest - Starting CloudServiceIntegrationTest using Java 14.0.1 on MBP-Maksim.Dlink with PID 17499 (started by maksim in /Users/maksim/Desktop/CloudService/CloudServiceBackend)
[INFO ] 2021-08-30 12:51:44 [main] INFO  r.n.c.i.CloudServiceIntegrationTest - No active profile set, falling back to default profiles: default
[WARN ] 2021-08-30 12:51:45 [background-preinit] WARN  o.s.h.c.j.Jackson2ObjectMapperBuilder - For Jackson Kotlin classes support please add "com.fasterxml.jackson.module:jackson-module-kotlin" to the classpath
[INFO ] 2021-08-30 12:51:45 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-08-30 12:51:45 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 93 ms. Found 2 JPA repository interfaces.
[INFO ] 2021-08-30 12:51:46 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@7e8279e5' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[INFO ] 2021-08-30 12:51:46 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[INFO ] 2021-08-30 12:51:47 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
[INFO ] 2021-08-30 12:51:47 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
[INFO ] 2021-08-30 12:51:47 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.46]
[INFO ] 2021-08-30 12:51:47 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
[INFO ] 2021-08-30 12:51:47 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2508 ms
[INFO ] 2021-08-30 12:51:47 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
[INFO ] 2021-08-30 12:51:47 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
[INFO ] 2021-08-30 12:51:48 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
[INFO ] 2021-08-30 12:51:49 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
[INFO ] 2021-08-30 12:51:49 [main] INFO  liquibase.lockservice - Successfully released change log lock
[INFO ] 2021-08-30 12:51:49 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
[WARN ] 2021-08-30 12:51:49 [main] WARN  liquibase.hub - Skipping auto-registration
[INFO ] 2021-08-30 12:51:49 [main] INFO  liquibase.lockservice - Successfully released change log lock
[INFO ] 2021-08-30 12:51:49 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-08-30 12:51:49 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.31.Final
[INFO ] 2021-08-30 12:51:50 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-08-30 12:51:50 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
[INFO ] 2021-08-30 12:51:51 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-08-30 12:51:51 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-08-30 12:51:51 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-08-30 12:51:52 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.web.filter.CorsFilter@c11ec9b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@fd8513b, org.springframework.security.web.context.SecurityContextPersistenceFilter@3c592c0c, org.springframework.security.web.header.HeaderWriterFilter@19faa9dc, org.springframework.web.filter.CorsFilter@18372705, org.springframework.security.web.authentication.logout.LogoutFilter@36003e90, ru.netology.cloud_service_app.security.jwt.JwtUsernamePasswordAuthenticationFilter@418f0f27, ru.netology.cloud_service_app.security.jwt.JwtTokenVerifier@427946b9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@38a3c078, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5d414943, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@fe58644, org.springframework.security.web.session.SessionManagementFilter@6adc90e9, org.springframework.security.web.access.ExceptionTranslationFilter@6f18445b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5f67ff3e]
[INFO ] 2021-08-30 12:51:53 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 50972 (http) with context path ''
[INFO ] 2021-08-30 12:51:53 [main] INFO  r.n.c.i.CloudServiceIntegrationTest - Started CloudServiceIntegrationTest in 8.591 seconds (JVM running for 52.886)
[INFO ] 2021-08-30 12:51:53 [main] INFO  o.s.b.a.ApplicationAvailabilityBean - Application availability state LivenessState changed to CORRECT
[INFO ] 2021-08-30 12:51:53 [main] INFO  o.s.b.a.ApplicationAvailabilityBean - Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
[WARN ] 2021-08-30 12:51:54 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23505
[ERROR] 2021-08-30 12:51:54 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: duplicate key value violates unique constraint "files_name_content_type_user_name_hash_key"
  Подробности: Key (name, content_type, user_name, hash)=(111.jpeg, image/jpeg, max@mail.ru, 73e27fea30ba0d84a194d3cd09d16b69) already exists.
[WARN ] 2021-08-30 12:51:54 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23505
[ERROR] 2021-08-30 12:51:54 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: duplicate key value violates unique constraint "files_name_content_type_user_name_hash_key"
  Подробности: Key (name, content_type, user_name, hash)=(111.jpeg, image/jpeg, max@mail.ru, 73e27fea30ba0d84a194d3cd09d16b69) already exists.
[WARN ] 2021-08-30 12:51:55 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23505
[ERROR] 2021-08-30 12:51:55 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: duplicate key value violates unique constraint "files_name_content_type_user_name_hash_key"
  Подробности: Key (name, content_type, user_name, hash)=(111.jpeg, image/jpeg, max@mail.ru, 73e27fea30ba0d84a194d3cd09d16b69) already exists.
[INFO ] 2021-08-30 12:53:38 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest]: no resource found for suffixes {-context.xml, Context.groovy}.
[INFO ] 2021-08-30 12:53:38 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest]: CloudServiceIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
[INFO ] 2021-08-30 12:53:38 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration ru.netology.cloud_service_app.CloudServiceAppApplication for test class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest
[INFO ] 2021-08-30 12:53:38 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
[INFO ] 2021-08-30 12:53:39 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@47a86fbb, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@f478a81, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@19553973, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@7bb6ab3a, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@7fe7c640, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4c4748bf, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7ce97ee5, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@32c8e539, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@73dce0e6, org.springframework.test.context.event.EventPublishingTestExecutionListener@5a85c92, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@32811494, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@4795ded0, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@53dacd14, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@14d14731, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@2eced48b, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@47c4ecdc, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@42f33b5d]
[INFO ] 2021-08-30 12:53:39 [testcontainers-lifecycle-0] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
[INFO ] 2021-08-30 12:53:39 [testcontainers-lifecycle-0] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
[INFO ] 2021-08-30 12:53:39 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Docker host IP address is localhost
[INFO ] 2021-08-30 12:53:40 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Connected to docker: 
  Server Version: 20.10.7
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 1987 MB
[INFO ] 2021-08-30 12:53:40 [testcontainers-lifecycle-0] INFO  o.t.utility.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
[INFO ] 2021-08-30 12:53:41 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
[INFO ] 2021-08-30 12:53:41 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Checking the system...
[INFO ] 2021-08-30 12:53:41 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - ✔︎ Docker server version should be at least 1.6.0
[INFO ] 2021-08-30 12:53:41 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - ✔︎ Docker environment should have more than 2GB free disk space
[INFO ] 2021-08-30 12:53:41 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Creating container for image: postgres:13.2
[INFO ] 2021-08-30 12:53:45 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Starting container with ID: d41c5287d280d56a9bb9668624b528392a418c7af97e86e0f43d2c400307f552
[INFO ] 2021-08-30 12:53:48 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Container postgres:13.2 is starting: d41c5287d280d56a9bb9668624b528392a418c7af97e86e0f43d2c400307f552
[INFO ] 2021-08-30 12:53:50 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Container postgres:13.2 started in PT8.336517S
[INFO ] 2021-08-30 12:53:50 [main] INFO  🐳 [cloud_service_app:1.1] - Creating container for image: cloud_service_app:1.1
[INFO ] 2021-08-30 12:53:50 [main] INFO  🐳 [cloud_service_app:1.1] - Starting container with ID: 64aa6532bd9914e0d244cd6a1109b0d9d4767a0c4249db4becfd77921b102f43
[INFO ] 2021-08-30 12:53:53 [main] INFO  🐳 [cloud_service_app:1.1] - Container cloud_service_app:1.1 is starting: 64aa6532bd9914e0d244cd6a1109b0d9d4767a0c4249db4becfd77921b102f43
[INFO ] 2021-08-30 12:54:09 [main] INFO  🐳 [cloud_service_app:1.1] - Container cloud_service_app:1.1 started in PT19.350747S
[INFO ] 2021-08-30 12:54:09 [main] INFO  🐳 [front_app:1.0] - Creating container for image: front_app:1.0
[INFO ] 2021-08-30 12:54:09 [main] INFO  🐳 [front_app:1.0] - Starting container with ID: 20fe8dd07d431c8ccae0096cb2b2a90ed7679caf6e3617053a0dd4dae603efd4
[INFO ] 2021-08-30 12:54:13 [main] INFO  🐳 [front_app:1.0] - Container front_app:1.0 is starting: 20fe8dd07d431c8ccae0096cb2b2a90ed7679caf6e3617053a0dd4dae603efd4
[INFO ] 2021-08-30 12:54:17 [main] INFO  🐳 [front_app:1.0] - Container front_app:1.0 started in PT8.168426S
[INFO ] 2021-08-30 12:54:18 [main] INFO  r.n.c.i.CloudServiceIntegrationTest - Starting CloudServiceIntegrationTest using Java 14.0.1 on MBP-Maksim.Dlink with PID 17957 (started by maksim in /Users/maksim/Desktop/CloudService/CloudServiceBackend)
[INFO ] 2021-08-30 12:54:18 [main] INFO  r.n.c.i.CloudServiceIntegrationTest - No active profile set, falling back to default profiles: default
[WARN ] 2021-08-30 12:54:18 [background-preinit] WARN  o.s.h.c.j.Jackson2ObjectMapperBuilder - For Jackson Kotlin classes support please add "com.fasterxml.jackson.module:jackson-module-kotlin" to the classpath
[INFO ] 2021-08-30 12:54:19 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-08-30 12:54:19 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 77 ms. Found 2 JPA repository interfaces.
[INFO ] 2021-08-30 12:54:19 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@47b33e07' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[INFO ] 2021-08-30 12:54:19 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[INFO ] 2021-08-30 12:54:20 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
[INFO ] 2021-08-30 12:54:20 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
[INFO ] 2021-08-30 12:54:20 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.46]
[INFO ] 2021-08-30 12:54:20 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
[INFO ] 2021-08-30 12:54:20 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2238 ms
[INFO ] 2021-08-30 12:54:20 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
[INFO ] 2021-08-30 12:54:21 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
[INFO ] 2021-08-30 12:54:21 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
[INFO ] 2021-08-30 12:54:22 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
[INFO ] 2021-08-30 12:54:22 [main] INFO  liquibase.lockservice - Successfully released change log lock
[INFO ] 2021-08-30 12:54:22 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
[WARN ] 2021-08-30 12:54:22 [main] WARN  liquibase.hub - Skipping auto-registration
[INFO ] 2021-08-30 12:54:22 [main] INFO  liquibase.lockservice - Successfully released change log lock
[INFO ] 2021-08-30 12:54:22 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-08-30 12:54:22 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.31.Final
[INFO ] 2021-08-30 12:54:23 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-08-30 12:54:23 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
[INFO ] 2021-08-30 12:54:24 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-08-30 12:54:24 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-08-30 12:54:24 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-08-30 12:54:25 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.web.filter.CorsFilter@60052518, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@39336f5, org.springframework.security.web.context.SecurityContextPersistenceFilter@4cb45048, org.springframework.security.web.header.HeaderWriterFilter@38614875, org.springframework.web.filter.CorsFilter@36b86248, org.springframework.security.web.authentication.logout.LogoutFilter@3095c449, ru.netology.cloud_service_app.security.jwt.JwtUsernamePasswordAuthenticationFilter@cbd9494, ru.netology.cloud_service_app.security.jwt.JwtTokenVerifier@45594dfe, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@77228160, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@26247027, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5f67ff3e, org.springframework.security.web.session.SessionManagementFilter@7f9b46ed, org.springframework.security.web.access.ExceptionTranslationFilter@16b1b213, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5c6ee543]
[INFO ] 2021-08-30 12:54:26 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 51621 (http) with context path ''
[INFO ] 2021-08-30 12:54:26 [main] INFO  r.n.c.i.CloudServiceIntegrationTest - Started CloudServiceIntegrationTest in 8.178 seconds (JVM running for 48.187)
[INFO ] 2021-08-30 12:54:26 [main] INFO  o.s.b.a.ApplicationAvailabilityBean - Application availability state LivenessState changed to CORRECT
[INFO ] 2021-08-30 12:54:26 [main] INFO  o.s.b.a.ApplicationAvailabilityBean - Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
[WARN ] 2021-08-30 12:54:28 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23505
[ERROR] 2021-08-30 12:54:28 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: duplicate key value violates unique constraint "files_name_content_type_user_name_hash_key"
  Подробности: Key (name, content_type, user_name, hash)=(111.jpeg, image/jpeg, max@mail.ru, 73e27fea30ba0d84a194d3cd09d16b69) already exists.
[INFO ] 2021-08-30 12:55:34 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest]: no resource found for suffixes {-context.xml, Context.groovy}.
[INFO ] 2021-08-30 12:55:34 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest]: CloudServiceIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
[INFO ] 2021-08-30 12:55:34 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration ru.netology.cloud_service_app.CloudServiceAppApplication for test class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest
[INFO ] 2021-08-30 12:55:34 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
[INFO ] 2021-08-30 12:55:34 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@765f05af, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@62f68dff, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@f001896, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@13f17eb4, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@1d0d6318, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4bc28c33, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4409e975, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5c153b9e, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@2a7686a7, org.springframework.test.context.event.EventPublishingTestExecutionListener@758a34ce, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@7ec3394b, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@bff34c6, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1522d8a0, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@312ab28e, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@5644dc81, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@246f8b8b, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@278bb07e]
[INFO ] 2021-08-30 12:55:35 [testcontainers-lifecycle-0] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
[INFO ] 2021-08-30 12:55:35 [testcontainers-lifecycle-0] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
[INFO ] 2021-08-30 12:55:35 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Docker host IP address is localhost
[INFO ] 2021-08-30 12:55:35 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Connected to docker: 
  Server Version: 20.10.7
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 1987 MB
[INFO ] 2021-08-30 12:55:35 [testcontainers-lifecycle-0] INFO  o.t.utility.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
[INFO ] 2021-08-30 12:55:37 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
[INFO ] 2021-08-30 12:55:37 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Checking the system...
[INFO ] 2021-08-30 12:55:37 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - ✔︎ Docker server version should be at least 1.6.0
[INFO ] 2021-08-30 12:55:37 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - ✔︎ Docker environment should have more than 2GB free disk space
[INFO ] 2021-08-30 12:55:37 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Creating container for image: postgres:13.2
[INFO ] 2021-08-30 12:55:41 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Starting container with ID: c706ae0cae920df7511f36203b200df04ac5e319d1323a157c60d0c957fc1a74
[INFO ] 2021-08-30 12:55:44 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Container postgres:13.2 is starting: c706ae0cae920df7511f36203b200df04ac5e319d1323a157c60d0c957fc1a74
[INFO ] 2021-08-30 12:55:46 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Container postgres:13.2 started in PT8.284365S
[INFO ] 2021-08-30 12:55:46 [main] INFO  🐳 [cloud_service_app:1.1] - Creating container for image: cloud_service_app:1.1
[INFO ] 2021-08-30 12:55:46 [main] INFO  🐳 [cloud_service_app:1.1] - Starting container with ID: 973156d804eedf7d4d3a7d221e6eca3d7fd11bec89cb697b574bd1c62b97a2a9
[INFO ] 2021-08-30 12:55:49 [main] INFO  🐳 [cloud_service_app:1.1] - Container cloud_service_app:1.1 is starting: 973156d804eedf7d4d3a7d221e6eca3d7fd11bec89cb697b574bd1c62b97a2a9
[INFO ] 2021-08-30 12:56:05 [main] INFO  🐳 [cloud_service_app:1.1] - Container cloud_service_app:1.1 started in PT19.018448S
[INFO ] 2021-08-30 12:56:05 [main] INFO  🐳 [front_app:1.0] - Creating container for image: front_app:1.0
[INFO ] 2021-08-30 12:56:05 [main] INFO  🐳 [front_app:1.0] - Starting container with ID: b8fe298f427972e389f90934e465922e0ca246d199d2382bb05aa0df4afd7bd6
[INFO ] 2021-08-30 12:56:08 [main] INFO  🐳 [front_app:1.0] - Container front_app:1.0 is starting: b8fe298f427972e389f90934e465922e0ca246d199d2382bb05aa0df4afd7bd6
[INFO ] 2021-08-30 12:56:13 [main] INFO  🐳 [front_app:1.0] - Container front_app:1.0 started in PT8.597482S
[INFO ] 2021-08-30 12:56:15 [main] INFO  r.n.c.i.CloudServiceIntegrationTest - Starting CloudServiceIntegrationTest using Java 14.0.1 on MBP-Maksim.Dlink with PID 18311 (started by maksim in /Users/maksim/Desktop/CloudService/CloudServiceBackend)
[INFO ] 2021-08-30 12:56:15 [main] INFO  r.n.c.i.CloudServiceIntegrationTest - No active profile set, falling back to default profiles: default
[WARN ] 2021-08-30 12:56:15 [background-preinit] WARN  o.s.h.c.j.Jackson2ObjectMapperBuilder - For Jackson Kotlin classes support please add "com.fasterxml.jackson.module:jackson-module-kotlin" to the classpath
[INFO ] 2021-08-30 12:56:16 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-08-30 12:56:16 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 213 ms. Found 2 JPA repository interfaces.
[INFO ] 2021-08-30 12:56:17 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@4e22368c' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[INFO ] 2021-08-30 12:56:17 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[INFO ] 2021-08-30 12:56:18 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
[INFO ] 2021-08-30 12:56:18 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
[INFO ] 2021-08-30 12:56:18 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.46]
[INFO ] 2021-08-30 12:56:18 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
[INFO ] 2021-08-30 12:56:18 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3477 ms
[INFO ] 2021-08-30 12:56:18 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
[INFO ] 2021-08-30 12:56:19 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
[INFO ] 2021-08-30 12:56:19 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
[INFO ] 2021-08-30 12:56:20 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
[INFO ] 2021-08-30 12:56:21 [main] INFO  liquibase.lockservice - Successfully released change log lock
[INFO ] 2021-08-30 12:56:21 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
[WARN ] 2021-08-30 12:56:21 [main] WARN  liquibase.hub - Skipping auto-registration
[INFO ] 2021-08-30 12:56:21 [main] INFO  liquibase.lockservice - Successfully released change log lock
[INFO ] 2021-08-30 12:56:21 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-08-30 12:56:21 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.31.Final
[INFO ] 2021-08-30 12:56:21 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-08-30 12:56:21 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
[INFO ] 2021-08-30 12:56:23 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-08-30 12:56:23 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-08-30 12:56:24 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-08-30 12:56:24 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.web.filter.CorsFilter@7473cfe2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@354ed5c4, org.springframework.security.web.context.SecurityContextPersistenceFilter@45b37003, org.springframework.security.web.header.HeaderWriterFilter@68bef3df, org.springframework.web.filter.CorsFilter@41a6ab50, org.springframework.security.web.authentication.logout.LogoutFilter@fd8513b, ru.netology.cloud_service_app.security.jwt.JwtUsernamePasswordAuthenticationFilter@6dc98c02, ru.netology.cloud_service_app.security.jwt.JwtTokenVerifier@7af4286, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5db6083b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5c6ee543, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@448c4742, org.springframework.security.web.session.SessionManagementFilter@7234db3, org.springframework.security.web.access.ExceptionTranslationFilter@5379488c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@513cd96f]
[INFO ] 2021-08-30 12:56:25 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 52153 (http) with context path ''
[INFO ] 2021-08-30 12:56:25 [main] INFO  r.n.c.i.CloudServiceIntegrationTest - Started CloudServiceIntegrationTest in 11.981 seconds (JVM running for 52.707)
[INFO ] 2021-08-30 12:56:25 [main] INFO  o.s.b.a.ApplicationAvailabilityBean - Application availability state LivenessState changed to CORRECT
[INFO ] 2021-08-30 12:56:25 [main] INFO  o.s.b.a.ApplicationAvailabilityBean - Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
[INFO ] 2021-08-30 12:56:25 [main] INFO  o.s.t.c.t.TransactionContext - Began transaction (1) for test context [DefaultTestContext@5ceb6796 testClass = CloudServiceIntegrationTest, testInstance = ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest@2aa176de, testMethod = backendApplicationGetAllFilesMethodShouldReturnOkAndValidJsonResponse@CloudServiceIntegrationTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3208e15 testClass = CloudServiceIntegrationTest, locations = '{}', classes = '{class ru.netology.cloud_service_app.CloudServiceAppApplication}', contextInitializerClasses = '[class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@27508c5d, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1e4d3ce5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@518caac3, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@57ad2aa7, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3b74ac8, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@3d24753a], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@43f23338]; rollback [true]
[INFO ] 2021-08-30 12:56:28 [main] INFO  o.s.t.c.t.TransactionContext - Rolled back transaction for test: [DefaultTestContext@5ceb6796 testClass = CloudServiceIntegrationTest, testInstance = ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest@2aa176de, testMethod = backendApplicationGetAllFilesMethodShouldReturnOkAndValidJsonResponse@CloudServiceIntegrationTest, testException = org.opentest4j.MultipleFailuresError: Multiple Failures (1 failure)
	org.opentest4j.AssertionFailedError: expected: <[{"size":100,"filename":"111.jpeg"}]> but was: <[]>, mergedContextConfiguration = [WebMergedContextConfiguration@3208e15 testClass = CloudServiceIntegrationTest, locations = '{}', classes = '{class ru.netology.cloud_service_app.CloudServiceAppApplication}', contextInitializerClasses = '[class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@27508c5d, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1e4d3ce5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@518caac3, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@57ad2aa7, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3b74ac8, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@3d24753a], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
[INFO ] 2021-08-30 12:56:28 [main] INFO  o.s.t.c.t.TransactionContext - Began transaction (1) for test context [DefaultTestContext@5ceb6796 testClass = CloudServiceIntegrationTest, testInstance = ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest@5f7cc6fd, testMethod = backendApplicationEditFilenameMethodShouldReturnOk@CloudServiceIntegrationTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3208e15 testClass = CloudServiceIntegrationTest, locations = '{}', classes = '{class ru.netology.cloud_service_app.CloudServiceAppApplication}', contextInitializerClasses = '[class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@27508c5d, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1e4d3ce5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@518caac3, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@57ad2aa7, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3b74ac8, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@3d24753a], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@43f23338]; rollback [true]
[INFO ] 2021-08-30 12:56:29 [main] INFO  o.s.t.c.t.TransactionContext - Rolled back transaction for test: [DefaultTestContext@5ceb6796 testClass = CloudServiceIntegrationTest, testInstance = ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest@5f7cc6fd, testMethod = backendApplicationEditFilenameMethodShouldReturnOk@CloudServiceIntegrationTest, testException = org.opentest4j.MultipleFailuresError: Multiple Failures (2 failures)
	org.opentest4j.AssertionFailedError: expected: <200 OK> but was: <500 INTERNAL_SERVER_ERROR>
	org.opentest4j.AssertionFailedError: expected: <Success upload> but was: <{"message":"Ошибка изменения файла 111.jpeg","statusCodeId":500}>, mergedContextConfiguration = [WebMergedContextConfiguration@3208e15 testClass = CloudServiceIntegrationTest, locations = '{}', classes = '{class ru.netology.cloud_service_app.CloudServiceAppApplication}', contextInitializerClasses = '[class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@27508c5d, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1e4d3ce5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@518caac3, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@57ad2aa7, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3b74ac8, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@3d24753a], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
[INFO ] 2021-08-30 12:56:29 [main] INFO  o.s.t.c.t.TransactionContext - Began transaction (1) for test context [DefaultTestContext@5ceb6796 testClass = CloudServiceIntegrationTest, testInstance = ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest@526ae1fc, testMethod = backendApplicationSaveFileMethodShouldReturnOk@CloudServiceIntegrationTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3208e15 testClass = CloudServiceIntegrationTest, locations = '{}', classes = '{class ru.netology.cloud_service_app.CloudServiceAppApplication}', contextInitializerClasses = '[class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@27508c5d, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1e4d3ce5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@518caac3, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@57ad2aa7, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3b74ac8, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@3d24753a], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@43f23338]; rollback [true]
[INFO ] 2021-08-30 12:56:29 [main] INFO  o.s.t.c.t.TransactionContext - Rolled back transaction for test: [DefaultTestContext@5ceb6796 testClass = CloudServiceIntegrationTest, testInstance = ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest@526ae1fc, testMethod = backendApplicationSaveFileMethodShouldReturnOk@CloudServiceIntegrationTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3208e15 testClass = CloudServiceIntegrationTest, locations = '{}', classes = '{class ru.netology.cloud_service_app.CloudServiceAppApplication}', contextInitializerClasses = '[class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@27508c5d, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1e4d3ce5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@518caac3, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@57ad2aa7, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3b74ac8, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@3d24753a], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
[INFO ] 2021-08-30 12:56:29 [main] INFO  o.s.t.c.t.TransactionContext - Began transaction (1) for test context [DefaultTestContext@5ceb6796 testClass = CloudServiceIntegrationTest, testInstance = ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest@49d4a2cf, testMethod = backendApplicationDeleteFileMethodShouldReturnOk@CloudServiceIntegrationTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3208e15 testClass = CloudServiceIntegrationTest, locations = '{}', classes = '{class ru.netology.cloud_service_app.CloudServiceAppApplication}', contextInitializerClasses = '[class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@27508c5d, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1e4d3ce5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@518caac3, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@57ad2aa7, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3b74ac8, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@3d24753a], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@43f23338]; rollback [true]
[INFO ] 2021-08-30 12:56:30 [main] INFO  o.s.t.c.t.TransactionContext - Rolled back transaction for test: [DefaultTestContext@5ceb6796 testClass = CloudServiceIntegrationTest, testInstance = ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest@49d4a2cf, testMethod = backendApplicationDeleteFileMethodShouldReturnOk@CloudServiceIntegrationTest, testException = org.opentest4j.MultipleFailuresError: Multiple Failures (2 failures)
	org.opentest4j.AssertionFailedError: expected: <200 OK> but was: <500 INTERNAL_SERVER_ERROR>
	org.opentest4j.AssertionFailedError: expected: <Success deleted> but was: <{"message":"Ошибка удаления файла 111.jpeg","statusCodeId":500}>, mergedContextConfiguration = [WebMergedContextConfiguration@3208e15 testClass = CloudServiceIntegrationTest, locations = '{}', classes = '{class ru.netology.cloud_service_app.CloudServiceAppApplication}', contextInitializerClasses = '[class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@27508c5d, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1e4d3ce5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@518caac3, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@57ad2aa7, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3b74ac8, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@3d24753a], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
[INFO ] 2021-08-30 12:56:30 [main] INFO  o.s.t.c.t.TransactionContext - Began transaction (1) for test context [DefaultTestContext@5ceb6796 testClass = CloudServiceIntegrationTest, testInstance = ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest@728cef8e, testMethod = backendApplicationDownloadFileMethodShouldReturnOk@CloudServiceIntegrationTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3208e15 testClass = CloudServiceIntegrationTest, locations = '{}', classes = '{class ru.netology.cloud_service_app.CloudServiceAppApplication}', contextInitializerClasses = '[class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@27508c5d, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1e4d3ce5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@518caac3, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@57ad2aa7, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3b74ac8, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@3d24753a], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@43f23338]; rollback [true]
[INFO ] 2021-08-30 12:56:30 [main] INFO  o.s.t.c.t.TransactionContext - Rolled back transaction for test: [DefaultTestContext@5ceb6796 testClass = CloudServiceIntegrationTest, testInstance = ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest@728cef8e, testMethod = backendApplicationDownloadFileMethodShouldReturnOk@CloudServiceIntegrationTest, testException = org.opentest4j.AssertionFailedError: expected: <200 OK> but was: <404 NOT_FOUND>, mergedContextConfiguration = [WebMergedContextConfiguration@3208e15 testClass = CloudServiceIntegrationTest, locations = '{}', classes = '{class ru.netology.cloud_service_app.CloudServiceAppApplication}', contextInitializerClasses = '[class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@27508c5d, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1e4d3ce5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@518caac3, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@57ad2aa7, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3b74ac8, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@3d24753a], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
[INFO ] 2021-08-30 13:01:48 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest]: no resource found for suffixes {-context.xml, Context.groovy}.
[INFO ] 2021-08-30 13:01:48 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest]: CloudServiceIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
[INFO ] 2021-08-30 13:01:48 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration ru.netology.cloud_service_app.CloudServiceAppApplication for test class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest
[INFO ] 2021-08-30 13:01:48 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
[INFO ] 2021-08-30 13:01:48 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@f478a81, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@19553973, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@7bb6ab3a, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@7fe7c640, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@4c4748bf, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7ce97ee5, org.springframework.test.context.transaction.TransactionalTestExecutionListener@32c8e539, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@73dce0e6, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@5a85c92, org.springframework.test.context.event.EventPublishingTestExecutionListener@32811494, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@4795ded0, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@53dacd14, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@14d14731, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2eced48b, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@47c4ecdc, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@42f33b5d, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@5c8504fd]
[INFO ] 2021-08-30 13:01:49 [testcontainers-lifecycle-0] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
[INFO ] 2021-08-30 13:01:49 [testcontainers-lifecycle-0] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
[INFO ] 2021-08-30 13:01:49 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Docker host IP address is localhost
[INFO ] 2021-08-30 13:01:49 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Connected to docker: 
  Server Version: 20.10.7
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 1987 MB
[INFO ] 2021-08-30 13:01:49 [testcontainers-lifecycle-0] INFO  o.t.utility.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
[INFO ] 2021-08-30 13:01:52 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
[INFO ] 2021-08-30 13:01:52 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Checking the system...
[INFO ] 2021-08-30 13:01:52 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - ✔︎ Docker server version should be at least 1.6.0
[INFO ] 2021-08-30 13:01:52 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - ✔︎ Docker environment should have more than 2GB free disk space
[INFO ] 2021-08-30 13:01:52 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Creating container for image: postgres:13.2
[INFO ] 2021-08-30 13:01:56 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Starting container with ID: bbad403320b8a248a3195e8d95dc3306879f61a15db9a42e2bca02af35361471
[INFO ] 2021-08-30 13:01:59 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Container postgres:13.2 is starting: bbad403320b8a248a3195e8d95dc3306879f61a15db9a42e2bca02af35361471
[INFO ] 2021-08-30 13:02:00 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Container postgres:13.2 started in PT8.364011S
[INFO ] 2021-08-30 13:02:00 [main] INFO  🐳 [cloud_service_app:1.1] - Creating container for image: cloud_service_app:1.1
[INFO ] 2021-08-30 13:02:00 [main] INFO  🐳 [cloud_service_app:1.1] - Starting container with ID: a4bf49e13c36efe91cccadbc22c4fb74087205f284bcfc08a8b8e5ab620c5048
[INFO ] 2021-08-30 13:02:03 [main] INFO  🐳 [cloud_service_app:1.1] - Container cloud_service_app:1.1 is starting: a4bf49e13c36efe91cccadbc22c4fb74087205f284bcfc08a8b8e5ab620c5048
[INFO ] 2021-08-30 13:02:18 [main] INFO  🐳 [cloud_service_app:1.1] - Container cloud_service_app:1.1 started in PT17.613052S
[INFO ] 2021-08-30 13:02:18 [main] INFO  🐳 [front_app:1.0] - Creating container for image: front_app:1.0
[INFO ] 2021-08-30 13:02:18 [main] INFO  🐳 [front_app:1.0] - Starting container with ID: 852bf98e175754dcbab81258e6014e2519f7a6136cfac70335c38c3df7c53f18
[INFO ] 2021-08-30 13:02:21 [main] INFO  🐳 [front_app:1.0] - Container front_app:1.0 is starting: 852bf98e175754dcbab81258e6014e2519f7a6136cfac70335c38c3df7c53f18
[INFO ] 2021-08-30 13:02:26 [main] INFO  🐳 [front_app:1.0] - Container front_app:1.0 started in PT8.03601S
[INFO ] 2021-08-30 13:02:26 [main] INFO  r.n.c.i.CloudServiceIntegrationTest - Starting CloudServiceIntegrationTest using Java 14.0.1 on MBP-Maksim.Dlink with PID 19421 (started by maksim in /Users/maksim/Desktop/CloudService/CloudServiceBackend)
[INFO ] 2021-08-30 13:02:26 [main] INFO  r.n.c.i.CloudServiceIntegrationTest - No active profile set, falling back to default profiles: default
[WARN ] 2021-08-30 13:02:27 [background-preinit] WARN  o.s.h.c.j.Jackson2ObjectMapperBuilder - For Jackson Kotlin classes support please add "com.fasterxml.jackson.module:jackson-module-kotlin" to the classpath
[INFO ] 2021-08-30 13:02:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-08-30 13:02:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 77 ms. Found 2 JPA repository interfaces.
[INFO ] 2021-08-30 13:02:28 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@590765c4' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[INFO ] 2021-08-30 13:02:28 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[INFO ] 2021-08-30 13:02:28 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
[INFO ] 2021-08-30 13:02:28 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
[INFO ] 2021-08-30 13:02:28 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.46]
[INFO ] 2021-08-30 13:02:29 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
[INFO ] 2021-08-30 13:02:29 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2189 ms
[INFO ] 2021-08-30 13:02:29 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
[INFO ] 2021-08-30 13:02:29 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
[INFO ] 2021-08-30 13:02:30 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
[INFO ] 2021-08-30 13:02:30 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
[INFO ] 2021-08-30 13:02:31 [main] INFO  liquibase.lockservice - Successfully released change log lock
[INFO ] 2021-08-30 13:02:31 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
[WARN ] 2021-08-30 13:02:31 [main] WARN  liquibase.hub - Skipping auto-registration
[INFO ] 2021-08-30 13:02:31 [main] INFO  liquibase.lockservice - Successfully released change log lock
[INFO ] 2021-08-30 13:02:31 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-08-30 13:02:31 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.31.Final
[INFO ] 2021-08-30 13:02:31 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-08-30 13:02:31 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
[INFO ] 2021-08-30 13:02:32 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-08-30 13:02:32 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-08-30 13:02:34 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-08-30 13:02:34 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.web.filter.CorsFilter@25865fca, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4c32aa7e, org.springframework.security.web.context.SecurityContextPersistenceFilter@aeb8ee2, org.springframework.security.web.header.HeaderWriterFilter@70e560ef, org.springframework.web.filter.CorsFilter@c11ec9b, org.springframework.security.web.authentication.logout.LogoutFilter@393aac93, ru.netology.cloud_service_app.security.jwt.JwtUsernamePasswordAuthenticationFilter@fd8513b, ru.netology.cloud_service_app.security.jwt.JwtTokenVerifier@18372705, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3979c6e8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4b094115, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@418f0f27, org.springframework.security.web.session.SessionManagementFilter@522fc988, org.springframework.security.web.access.ExceptionTranslationFilter@7f9b46ed, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@cbd9494]
[INFO ] 2021-08-30 13:02:35 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 53716 (http) with context path ''
[INFO ] 2021-08-30 13:02:35 [main] INFO  r.n.c.i.CloudServiceIntegrationTest - Started CloudServiceIntegrationTest in 8.858 seconds (JVM running for 47.834)
[INFO ] 2021-08-30 13:02:35 [main] INFO  o.s.b.a.ApplicationAvailabilityBean - Application availability state LivenessState changed to CORRECT
[INFO ] 2021-08-30 13:02:35 [main] INFO  o.s.b.a.ApplicationAvailabilityBean - Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
[INFO ] 2021-08-30 13:02:35 [main] INFO  o.s.t.c.t.TransactionContext - Began transaction (1) for test context [DefaultTestContext@1e08f0cd testClass = CloudServiceIntegrationTest, testInstance = ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest@b768e4d, testMethod = backendApplicationGetAllFilesMethodShouldReturnOkAndValidJsonResponse@CloudServiceIntegrationTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@ab7ac41 testClass = CloudServiceIntegrationTest, locations = '{}', classes = '{class ru.netology.cloud_service_app.CloudServiceAppApplication}', contextInitializerClasses = '[class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@420a85c4, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1c852c0f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6b58b9e9, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@4f704591, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@6c372fe6, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@3d921e20], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@117e9a56]; rollback [true]
[INFO ] 2021-08-30 13:02:37 [main] INFO  o.s.t.c.t.TransactionContext - Rolled back transaction for test: [DefaultTestContext@1e08f0cd testClass = CloudServiceIntegrationTest, testInstance = ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest@b768e4d, testMethod = backendApplicationGetAllFilesMethodShouldReturnOkAndValidJsonResponse@CloudServiceIntegrationTest, testException = org.opentest4j.MultipleFailuresError: Multiple Failures (1 failure)
	org.opentest4j.AssertionFailedError: expected: <[{"size":100,"filename":"111.jpeg"}]> but was: <[]>, mergedContextConfiguration = [WebMergedContextConfiguration@ab7ac41 testClass = CloudServiceIntegrationTest, locations = '{}', classes = '{class ru.netology.cloud_service_app.CloudServiceAppApplication}', contextInitializerClasses = '[class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@420a85c4, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1c852c0f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6b58b9e9, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@4f704591, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@6c372fe6, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@3d921e20], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
[INFO ] 2021-08-30 13:02:37 [main] INFO  o.s.t.c.t.TransactionContext - Began transaction (1) for test context [DefaultTestContext@1e08f0cd testClass = CloudServiceIntegrationTest, testInstance = ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest@68769265, testMethod = backendApplicationEditFilenameMethodShouldReturnOk@CloudServiceIntegrationTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@ab7ac41 testClass = CloudServiceIntegrationTest, locations = '{}', classes = '{class ru.netology.cloud_service_app.CloudServiceAppApplication}', contextInitializerClasses = '[class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@420a85c4, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1c852c0f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6b58b9e9, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@4f704591, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@6c372fe6, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@3d921e20], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@117e9a56]; rollback [true]
[INFO ] 2021-08-30 13:02:38 [main] INFO  o.s.t.c.t.TransactionContext - Rolled back transaction for test: [DefaultTestContext@1e08f0cd testClass = CloudServiceIntegrationTest, testInstance = ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest@68769265, testMethod = backendApplicationEditFilenameMethodShouldReturnOk@CloudServiceIntegrationTest, testException = org.opentest4j.MultipleFailuresError: Multiple Failures (2 failures)
	org.opentest4j.AssertionFailedError: expected: <200 OK> but was: <500 INTERNAL_SERVER_ERROR>
	org.opentest4j.AssertionFailedError: expected: <Success upload> but was: <{"message":"Ошибка изменения файла 111.jpeg","statusCodeId":500}>, mergedContextConfiguration = [WebMergedContextConfiguration@ab7ac41 testClass = CloudServiceIntegrationTest, locations = '{}', classes = '{class ru.netology.cloud_service_app.CloudServiceAppApplication}', contextInitializerClasses = '[class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@420a85c4, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1c852c0f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6b58b9e9, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@4f704591, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@6c372fe6, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@3d921e20], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
[INFO ] 2021-08-30 13:02:38 [main] INFO  o.s.t.c.t.TransactionContext - Began transaction (1) for test context [DefaultTestContext@1e08f0cd testClass = CloudServiceIntegrationTest, testInstance = ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest@74af4b0, testMethod = backendApplicationDeleteFileMethodShouldReturnOk@CloudServiceIntegrationTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@ab7ac41 testClass = CloudServiceIntegrationTest, locations = '{}', classes = '{class ru.netology.cloud_service_app.CloudServiceAppApplication}', contextInitializerClasses = '[class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@420a85c4, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1c852c0f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6b58b9e9, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@4f704591, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@6c372fe6, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@3d921e20], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@117e9a56]; rollback [true]
[INFO ] 2021-08-30 13:02:38 [main] INFO  o.s.t.c.t.TransactionContext - Rolled back transaction for test: [DefaultTestContext@1e08f0cd testClass = CloudServiceIntegrationTest, testInstance = ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest@74af4b0, testMethod = backendApplicationDeleteFileMethodShouldReturnOk@CloudServiceIntegrationTest, testException = org.opentest4j.MultipleFailuresError: Multiple Failures (2 failures)
	org.opentest4j.AssertionFailedError: expected: <200 OK> but was: <500 INTERNAL_SERVER_ERROR>
	org.opentest4j.AssertionFailedError: expected: <Success deleted> but was: <{"message":"Ошибка удаления файла 111.jpeg","statusCodeId":500}>, mergedContextConfiguration = [WebMergedContextConfiguration@ab7ac41 testClass = CloudServiceIntegrationTest, locations = '{}', classes = '{class ru.netology.cloud_service_app.CloudServiceAppApplication}', contextInitializerClasses = '[class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@420a85c4, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1c852c0f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6b58b9e9, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@4f704591, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@6c372fe6, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@3d921e20], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
[INFO ] 2021-08-30 13:02:38 [main] INFO  o.s.t.c.t.TransactionContext - Began transaction (1) for test context [DefaultTestContext@1e08f0cd testClass = CloudServiceIntegrationTest, testInstance = ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest@7d39c9c, testMethod = backendApplicationDownloadFileMethodShouldReturnOk@CloudServiceIntegrationTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@ab7ac41 testClass = CloudServiceIntegrationTest, locations = '{}', classes = '{class ru.netology.cloud_service_app.CloudServiceAppApplication}', contextInitializerClasses = '[class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@420a85c4, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1c852c0f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6b58b9e9, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@4f704591, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@6c372fe6, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@3d921e20], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@117e9a56]; rollback [true]
[INFO ] 2021-08-30 13:02:38 [main] INFO  o.s.t.c.t.TransactionContext - Rolled back transaction for test: [DefaultTestContext@1e08f0cd testClass = CloudServiceIntegrationTest, testInstance = ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest@7d39c9c, testMethod = backendApplicationDownloadFileMethodShouldReturnOk@CloudServiceIntegrationTest, testException = org.opentest4j.AssertionFailedError: expected: <200 OK> but was: <404 NOT_FOUND>, mergedContextConfiguration = [WebMergedContextConfiguration@ab7ac41 testClass = CloudServiceIntegrationTest, locations = '{}', classes = '{class ru.netology.cloud_service_app.CloudServiceAppApplication}', contextInitializerClasses = '[class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@420a85c4, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1c852c0f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6b58b9e9, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@4f704591, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@6c372fe6, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@3d921e20], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
[INFO ] 2021-08-30 13:08:08 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest]: no resource found for suffixes {-context.xml, Context.groovy}.
[INFO ] 2021-08-30 13:08:08 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest]: CloudServiceIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
[INFO ] 2021-08-30 13:08:08 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration ru.netology.cloud_service_app.CloudServiceAppApplication for test class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest
[INFO ] 2021-08-30 13:08:08 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
[INFO ] 2021-08-30 13:08:09 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@47a5b70d, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@424fd310, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@1a45193b, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@38f116f6, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@5286c33a, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6e6d5d29, org.springframework.test.context.transaction.TransactionalTestExecutionListener@5c530d1e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6c25e6c4, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@85e6769, org.springframework.test.context.event.EventPublishingTestExecutionListener@c5ee75e, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@48a12036, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@bf1ec20, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@70efb718, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@b70da4c, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@4a11eb84, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@4e858e0a, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@435fb7b5]
[INFO ] 2021-08-30 13:08:09 [testcontainers-lifecycle-0] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
[INFO ] 2021-08-30 13:08:10 [testcontainers-lifecycle-0] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
[INFO ] 2021-08-30 13:08:10 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Docker host IP address is localhost
[INFO ] 2021-08-30 13:08:10 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Connected to docker: 
  Server Version: 20.10.7
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 1987 MB
[INFO ] 2021-08-30 13:08:10 [testcontainers-lifecycle-0] INFO  o.t.utility.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
[INFO ] 2021-08-30 13:08:13 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
[INFO ] 2021-08-30 13:08:13 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Checking the system...
[INFO ] 2021-08-30 13:08:13 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - ✔︎ Docker server version should be at least 1.6.0
[INFO ] 2021-08-30 13:08:13 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - ✔︎ Docker environment should have more than 2GB free disk space
[INFO ] 2021-08-30 13:08:13 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Creating container for image: postgres:13.2
[INFO ] 2021-08-30 13:08:17 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Starting container with ID: 5d8e5c3eaef1980099512b9a1e5c4c8909de29adca5e5b2b24f29197708ce42b
[INFO ] 2021-08-30 13:08:20 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Container postgres:13.2 is starting: 5d8e5c3eaef1980099512b9a1e5c4c8909de29adca5e5b2b24f29197708ce42b
[INFO ] 2021-08-30 13:08:22 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Container postgres:13.2 started in PT9.05312S
[INFO ] 2021-08-30 13:08:22 [main] INFO  🐳 [cloud_service_app:1.1] - Creating container for image: cloud_service_app:1.1
[INFO ] 2021-08-30 13:08:22 [main] INFO  🐳 [cloud_service_app:1.1] - Starting container with ID: 34c04c5e4b68b09790f7f63377f1a584696c86b9a587f70016d7094c37cf08c3
[INFO ] 2021-08-30 13:08:25 [main] INFO  🐳 [cloud_service_app:1.1] - Container cloud_service_app:1.1 is starting: 34c04c5e4b68b09790f7f63377f1a584696c86b9a587f70016d7094c37cf08c3
[INFO ] 2021-08-30 13:08:43 [main] INFO  🐳 [cloud_service_app:1.1] - Container cloud_service_app:1.1 started in PT20.655816S
[INFO ] 2021-08-30 13:08:43 [main] INFO  🐳 [front_app:1.0] - Creating container for image: front_app:1.0
[INFO ] 2021-08-30 13:08:43 [main] INFO  🐳 [front_app:1.0] - Starting container with ID: 9741d7eeafd4efa293c7ada3318eb95d5256d052b5f0ebab87670db23c450cf4
[INFO ] 2021-08-30 13:08:46 [main] INFO  🐳 [front_app:1.0] - Container front_app:1.0 is starting: 9741d7eeafd4efa293c7ada3318eb95d5256d052b5f0ebab87670db23c450cf4
[INFO ] 2021-08-30 13:08:51 [main] INFO  🐳 [front_app:1.0] - Container front_app:1.0 started in PT8.394586S
[INFO ] 2021-08-30 13:08:52 [main] INFO  r.n.c.i.CloudServiceIntegrationTest - Starting CloudServiceIntegrationTest using Java 14.0.1 on MBP-Maksim.Dlink with PID 20612 (started by maksim in /Users/maksim/Desktop/CloudService/CloudServiceBackend)
[INFO ] 2021-08-30 13:08:52 [main] INFO  r.n.c.i.CloudServiceIntegrationTest - No active profile set, falling back to default profiles: default
[WARN ] 2021-08-30 13:08:52 [background-preinit] WARN  o.s.h.c.j.Jackson2ObjectMapperBuilder - For Jackson Kotlin classes support please add "com.fasterxml.jackson.module:jackson-module-kotlin" to the classpath
[INFO ] 2021-08-30 13:08:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-08-30 13:08:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 98 ms. Found 2 JPA repository interfaces.
[INFO ] 2021-08-30 13:08:53 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@590765c4' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[INFO ] 2021-08-30 13:08:53 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[INFO ] 2021-08-30 13:08:54 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
[INFO ] 2021-08-30 13:08:54 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
[INFO ] 2021-08-30 13:08:54 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.46]
[INFO ] 2021-08-30 13:08:54 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
[INFO ] 2021-08-30 13:08:54 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2404 ms
[INFO ] 2021-08-30 13:08:54 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
[INFO ] 2021-08-30 13:08:54 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
[INFO ] 2021-08-30 13:08:55 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
[INFO ] 2021-08-30 13:08:56 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
[INFO ] 2021-08-30 13:08:56 [main] INFO  liquibase.lockservice - Successfully released change log lock
[INFO ] 2021-08-30 13:08:56 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
[WARN ] 2021-08-30 13:08:56 [main] WARN  liquibase.hub - Skipping auto-registration
[INFO ] 2021-08-30 13:08:56 [main] INFO  liquibase.lockservice - Successfully released change log lock
[INFO ] 2021-08-30 13:08:56 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-08-30 13:08:56 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.31.Final
[INFO ] 2021-08-30 13:08:56 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-08-30 13:08:57 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
[INFO ] 2021-08-30 13:08:58 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-08-30 13:08:58 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-08-30 13:08:58 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-08-30 13:08:59 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.web.filter.CorsFilter@4ac1544f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4578d654, org.springframework.security.web.context.SecurityContextPersistenceFilter@6adc90e9, org.springframework.security.web.header.HeaderWriterFilter@4cb45048, org.springframework.web.filter.CorsFilter@25865fca, org.springframework.security.web.authentication.logout.LogoutFilter@7306836f, ru.netology.cloud_service_app.security.jwt.JwtUsernamePasswordAuthenticationFilter@4c32aa7e, ru.netology.cloud_service_app.security.jwt.JwtTokenVerifier@c11ec9b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@320ca97c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4d6fa22c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@fd8513b, org.springframework.security.web.session.SessionManagementFilter@77228160, org.springframework.security.web.access.ExceptionTranslationFilter@6c09d716, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@39336f5]
[INFO ] 2021-08-30 13:09:00 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 55441 (http) with context path ''
[INFO ] 2021-08-30 13:09:00 [main] INFO  r.n.c.i.CloudServiceIntegrationTest - Started CloudServiceIntegrationTest in 8.849 seconds (JVM running for 53.607)
[INFO ] 2021-08-30 13:09:00 [main] INFO  o.s.b.a.ApplicationAvailabilityBean - Application availability state LivenessState changed to CORRECT
[INFO ] 2021-08-30 13:09:00 [main] INFO  o.s.b.a.ApplicationAvailabilityBean - Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
[INFO ] 2021-08-30 13:09:02 [main] INFO  o.s.b.a.ApplicationAvailabilityBean - Application availability state ReadinessState changed from ACCEPTING_TRAFFIC to REFUSING_TRAFFIC
[INFO ] 2021-08-30 13:09:02 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
[INFO ] 2021-08-30 13:09:02 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
[INFO ] 2021-08-30 13:09:02 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
[INFO ] 2021-08-30 13:09:02 [main] INFO  r.n.c.i.CloudServiceIntegrationTest - Starting CloudServiceIntegrationTest using Java 14.0.1 on MBP-Maksim.Dlink with PID 20612 (started by maksim in /Users/maksim/Desktop/CloudService/CloudServiceBackend)
[INFO ] 2021-08-30 13:09:02 [main] INFO  r.n.c.i.CloudServiceIntegrationTest - No active profile set, falling back to default profiles: default
[INFO ] 2021-08-30 13:09:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-08-30 13:09:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 21 ms. Found 2 JPA repository interfaces.
[INFO ] 2021-08-30 13:09:02 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@281f2d6c' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[INFO ] 2021-08-30 13:09:02 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[INFO ] 2021-08-30 13:09:02 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
[INFO ] 2021-08-30 13:09:02 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
[INFO ] 2021-08-30 13:09:02 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.46]
[INFO ] 2021-08-30 13:09:02 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
[INFO ] 2021-08-30 13:09:02 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 516 ms
[INFO ] 2021-08-30 13:09:03 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
[INFO ] 2021-08-30 13:09:03 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
[INFO ] 2021-08-30 13:09:03 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
[INFO ] 2021-08-30 13:09:03 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
[INFO ] 2021-08-30 13:09:03 [main] INFO  liquibase.lockservice - Successfully released change log lock
[INFO ] 2021-08-30 13:09:03 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
[WARN ] 2021-08-30 13:09:03 [main] WARN  liquibase.hub - Skipping auto-registration
[INFO ] 2021-08-30 13:09:03 [main] INFO  liquibase.lockservice - Successfully released change log lock
[INFO ] 2021-08-30 13:09:03 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-08-30 13:09:03 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
[INFO ] 2021-08-30 13:09:03 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-08-30 13:09:03 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-08-30 13:09:03 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-08-30 13:09:03 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.web.filter.CorsFilter@71639428, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@26c9225a, org.springframework.security.web.context.SecurityContextPersistenceFilter@db5e88a, org.springframework.security.web.header.HeaderWriterFilter@4e43a23a, org.springframework.web.filter.CorsFilter@10ba757f, org.springframework.security.web.authentication.logout.LogoutFilter@21c8dd3e, ru.netology.cloud_service_app.security.jwt.JwtUsernamePasswordAuthenticationFilter@711cd6f9, ru.netology.cloud_service_app.security.jwt.JwtTokenVerifier@1cb3de26, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4bfaa7b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@57be9aa4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7307e418, org.springframework.security.web.session.SessionManagementFilter@291fbdc9, org.springframework.security.web.access.ExceptionTranslationFilter@1643e817, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@43b45e77]
[INFO ] 2021-08-30 13:09:04 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 55470 (http) with context path ''
[INFO ] 2021-08-30 13:09:04 [main] INFO  r.n.c.i.CloudServiceIntegrationTest - Started CloudServiceIntegrationTest in 1.897 seconds (JVM running for 57.539)
[INFO ] 2021-08-30 13:09:04 [main] INFO  o.s.b.a.ApplicationAvailabilityBean - Application availability state LivenessState changed to CORRECT
[INFO ] 2021-08-30 13:09:04 [main] INFO  o.s.b.a.ApplicationAvailabilityBean - Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
[WARN ] 2021-08-30 13:09:04 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23505
[ERROR] 2021-08-30 13:09:04 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: duplicate key value violates unique constraint "files_name_content_type_user_name_hash_key"
  Подробности: Key (name, content_type, user_name, hash)=(111.jpeg, image/jpeg, max@mail.ru, 73e27fea30ba0d84a194d3cd09d16b69) already exists.
[INFO ] 2021-08-30 13:09:04 [main] INFO  o.s.b.a.ApplicationAvailabilityBean - Application availability state ReadinessState changed from ACCEPTING_TRAFFIC to REFUSING_TRAFFIC
[INFO ] 2021-08-30 13:09:04 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
[INFO ] 2021-08-30 13:09:04 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
[INFO ] 2021-08-30 13:09:04 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
[INFO ] 2021-08-30 13:09:04 [main] INFO  r.n.c.i.CloudServiceIntegrationTest - Starting CloudServiceIntegrationTest using Java 14.0.1 on MBP-Maksim.Dlink with PID 20612 (started by maksim in /Users/maksim/Desktop/CloudService/CloudServiceBackend)
[INFO ] 2021-08-30 13:09:04 [main] INFO  r.n.c.i.CloudServiceIntegrationTest - No active profile set, falling back to default profiles: default
[INFO ] 2021-08-30 13:09:04 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-08-30 13:09:04 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 29 ms. Found 2 JPA repository interfaces.
[INFO ] 2021-08-30 13:09:04 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@568cc1c5' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[INFO ] 2021-08-30 13:09:04 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[INFO ] 2021-08-30 13:09:04 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
[INFO ] 2021-08-30 13:09:04 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
[INFO ] 2021-08-30 13:09:04 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.46]
[INFO ] 2021-08-30 13:09:04 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
[INFO ] 2021-08-30 13:09:04 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 390 ms
[INFO ] 2021-08-30 13:09:04 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
[INFO ] 2021-08-30 13:09:04 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
[INFO ] 2021-08-30 13:09:05 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
[INFO ] 2021-08-30 13:09:05 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
[INFO ] 2021-08-30 13:09:05 [main] INFO  liquibase.lockservice - Successfully released change log lock
[INFO ] 2021-08-30 13:09:05 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
[WARN ] 2021-08-30 13:09:05 [main] WARN  liquibase.hub - Skipping auto-registration
[INFO ] 2021-08-30 13:09:05 [main] INFO  liquibase.lockservice - Successfully released change log lock
[INFO ] 2021-08-30 13:09:05 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-08-30 13:09:05 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
[INFO ] 2021-08-30 13:09:05 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-08-30 13:09:05 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-08-30 13:09:05 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-08-30 13:09:05 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.web.filter.CorsFilter@160c47b4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@ce4a8a2, org.springframework.security.web.context.SecurityContextPersistenceFilter@4b6b9255, org.springframework.security.web.header.HeaderWriterFilter@11581810, org.springframework.web.filter.CorsFilter@53b1a09f, org.springframework.security.web.authentication.logout.LogoutFilter@41576e84, ru.netology.cloud_service_app.security.jwt.JwtUsernamePasswordAuthenticationFilter@3d2162c5, ru.netology.cloud_service_app.security.jwt.JwtTokenVerifier@49e4b332, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@bafb3bd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5ae6a240, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@606cb314, org.springframework.security.web.session.SessionManagementFilter@49f8b57d, org.springframework.security.web.access.ExceptionTranslationFilter@4b2164a9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@39caf68a]
[INFO ] 2021-08-30 13:09:05 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 55486 (http) with context path ''
[INFO ] 2021-08-30 13:09:05 [main] INFO  r.n.c.i.CloudServiceIntegrationTest - Started CloudServiceIntegrationTest in 1.508 seconds (JVM running for 59.131)
[INFO ] 2021-08-30 13:09:05 [main] INFO  o.s.b.a.ApplicationAvailabilityBean - Application availability state LivenessState changed to CORRECT
[INFO ] 2021-08-30 13:09:05 [main] INFO  o.s.b.a.ApplicationAvailabilityBean - Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
[WARN ] 2021-08-30 13:09:05 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23505
[ERROR] 2021-08-30 13:09:05 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: duplicate key value violates unique constraint "files_name_content_type_user_name_hash_key"
  Подробности: Key (name, content_type, user_name, hash)=(111.jpeg, image/jpeg, max@mail.ru, 73e27fea30ba0d84a194d3cd09d16b69) already exists.
[INFO ] 2021-08-30 13:09:05 [main] INFO  o.s.b.a.ApplicationAvailabilityBean - Application availability state ReadinessState changed from ACCEPTING_TRAFFIC to REFUSING_TRAFFIC
[INFO ] 2021-08-30 13:09:05 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
[INFO ] 2021-08-30 13:09:05 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
[INFO ] 2021-08-30 13:09:05 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
[INFO ] 2021-08-30 13:09:05 [main] INFO  r.n.c.i.CloudServiceIntegrationTest - Starting CloudServiceIntegrationTest using Java 14.0.1 on MBP-Maksim.Dlink with PID 20612 (started by maksim in /Users/maksim/Desktop/CloudService/CloudServiceBackend)
[INFO ] 2021-08-30 13:09:05 [main] INFO  r.n.c.i.CloudServiceIntegrationTest - No active profile set, falling back to default profiles: default
[INFO ] 2021-08-30 13:09:06 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-08-30 13:09:06 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 18 ms. Found 2 JPA repository interfaces.
[INFO ] 2021-08-30 13:09:06 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@3e83ab7b' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[INFO ] 2021-08-30 13:09:06 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[INFO ] 2021-08-30 13:09:06 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
[INFO ] 2021-08-30 13:09:06 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
[INFO ] 2021-08-30 13:09:06 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.46]
[INFO ] 2021-08-30 13:09:06 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
[INFO ] 2021-08-30 13:09:06 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 308 ms
[INFO ] 2021-08-30 13:09:06 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Starting...
[INFO ] 2021-08-30 13:09:06 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Start completed.
[INFO ] 2021-08-30 13:09:06 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
[INFO ] 2021-08-30 13:09:06 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
[INFO ] 2021-08-30 13:09:06 [main] INFO  liquibase.lockservice - Successfully released change log lock
[INFO ] 2021-08-30 13:09:06 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
[WARN ] 2021-08-30 13:09:06 [main] WARN  liquibase.hub - Skipping auto-registration
[INFO ] 2021-08-30 13:09:06 [main] INFO  liquibase.lockservice - Successfully released change log lock
[INFO ] 2021-08-30 13:09:06 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-08-30 13:09:06 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
[INFO ] 2021-08-30 13:09:06 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-08-30 13:09:06 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-08-30 13:09:06 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-08-30 13:09:07 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.web.filter.CorsFilter@32ca397b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@41c02b8c, org.springframework.security.web.context.SecurityContextPersistenceFilter@6e52877d, org.springframework.security.web.header.HeaderWriterFilter@4cdc1d81, org.springframework.web.filter.CorsFilter@1a787480, org.springframework.security.web.authentication.logout.LogoutFilter@21f9b360, ru.netology.cloud_service_app.security.jwt.JwtUsernamePasswordAuthenticationFilter@5b3847f5, ru.netology.cloud_service_app.security.jwt.JwtTokenVerifier@385abc08, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@57b4967e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7ba8b91c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@78067cc4, org.springframework.security.web.session.SessionManagementFilter@10b60a9c, org.springframework.security.web.access.ExceptionTranslationFilter@547930a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@ec9f91b]
[INFO ] 2021-08-30 13:09:07 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 55506 (http) with context path ''
[INFO ] 2021-08-30 13:09:07 [main] INFO  r.n.c.i.CloudServiceIntegrationTest - Started CloudServiceIntegrationTest in 1.312 seconds (JVM running for 60.493)
[INFO ] 2021-08-30 13:09:07 [main] INFO  o.s.b.a.ApplicationAvailabilityBean - Application availability state LivenessState changed to CORRECT
[INFO ] 2021-08-30 13:09:07 [main] INFO  o.s.b.a.ApplicationAvailabilityBean - Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
[WARN ] 2021-08-30 13:09:07 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23505
[ERROR] 2021-08-30 13:09:07 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: duplicate key value violates unique constraint "files_name_content_type_user_name_hash_key"
  Подробности: Key (name, content_type, user_name, hash)=(111.jpeg, image/jpeg, max@mail.ru, 73e27fea30ba0d84a194d3cd09d16b69) already exists.
[INFO ] 2021-08-30 13:09:07 [main] INFO  o.s.b.a.ApplicationAvailabilityBean - Application availability state ReadinessState changed from ACCEPTING_TRAFFIC to REFUSING_TRAFFIC
[INFO ] 2021-08-30 13:09:07 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
[INFO ] 2021-08-30 13:09:07 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown initiated...
[INFO ] 2021-08-30 13:09:07 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown completed.
[INFO ] 2021-08-30 13:14:50 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest]: no resource found for suffixes {-context.xml, Context.groovy}.
[INFO ] 2021-08-30 13:14:50 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest]: CloudServiceIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
[INFO ] 2021-08-30 13:14:50 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration ru.netology.cloud_service_app.CloudServiceAppApplication for test class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest
[INFO ] 2021-08-30 13:14:50 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
[INFO ] 2021-08-30 13:14:50 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@19553973, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7bb6ab3a, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@7fe7c640, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@4c4748bf, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@7ce97ee5, org.springframework.test.context.support.DirtiesContextTestExecutionListener@32c8e539, org.springframework.test.context.transaction.TransactionalTestExecutionListener@73dce0e6, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5a85c92, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@32811494, org.springframework.test.context.event.EventPublishingTestExecutionListener@4795ded0, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@53dacd14, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@14d14731, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@2eced48b, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@47c4ecdc, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@42f33b5d, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5c8504fd, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@4b7e96a]
[INFO ] 2021-08-30 13:14:51 [testcontainers-lifecycle-0] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
[INFO ] 2021-08-30 13:14:52 [testcontainers-lifecycle-0] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
[INFO ] 2021-08-30 13:14:52 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Docker host IP address is localhost
[INFO ] 2021-08-30 13:14:52 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Connected to docker: 
  Server Version: 20.10.7
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 1987 MB
[INFO ] 2021-08-30 13:14:52 [testcontainers-lifecycle-0] INFO  o.t.utility.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
[INFO ] 2021-08-30 13:14:54 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
[INFO ] 2021-08-30 13:14:54 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Checking the system...
[INFO ] 2021-08-30 13:14:54 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - ✔︎ Docker server version should be at least 1.6.0
[INFO ] 2021-08-30 13:14:54 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - ✔︎ Docker environment should have more than 2GB free disk space
[INFO ] 2021-08-30 13:14:54 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Creating container for image: postgres:13.2
[INFO ] 2021-08-30 13:14:58 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Starting container with ID: 487a3758d78e215575de46a6ebbe289ecda956f4de7c5e6fd95b10923afff124
[INFO ] 2021-08-30 13:15:01 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Container postgres:13.2 is starting: 487a3758d78e215575de46a6ebbe289ecda956f4de7c5e6fd95b10923afff124
[INFO ] 2021-08-30 13:15:03 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Container postgres:13.2 started in PT9.012914S
[INFO ] 2021-08-30 13:15:03 [main] INFO  🐳 [cloud_service_app:1.1] - Creating container for image: cloud_service_app:1.1
[INFO ] 2021-08-30 13:15:03 [main] INFO  🐳 [cloud_service_app:1.1] - Starting container with ID: 37502fd42ea20f709d4e0445c207e3be63e0dbf3edf4b6a21193ee774d7129f3
[INFO ] 2021-08-30 13:15:07 [main] INFO  🐳 [cloud_service_app:1.1] - Container cloud_service_app:1.1 is starting: 37502fd42ea20f709d4e0445c207e3be63e0dbf3edf4b6a21193ee774d7129f3
[INFO ] 2021-08-30 13:15:26 [main] INFO  🐳 [cloud_service_app:1.1] - Container cloud_service_app:1.1 started in PT23.354343S
[INFO ] 2021-08-30 13:15:26 [main] INFO  🐳 [front_app:1.0] - Creating container for image: front_app:1.0
[INFO ] 2021-08-30 13:15:27 [main] INFO  🐳 [front_app:1.0] - Starting container with ID: cc2475236775061844cf5039699492641467b80020e11a29db33d1d3f60ede4f
[INFO ] 2021-08-30 13:15:30 [main] INFO  🐳 [front_app:1.0] - Container front_app:1.0 is starting: cc2475236775061844cf5039699492641467b80020e11a29db33d1d3f60ede4f
[INFO ] 2021-08-30 13:15:34 [main] INFO  🐳 [front_app:1.0] - Container front_app:1.0 started in PT7.231802S
[INFO ] 2021-08-30 13:15:34 [main] INFO  r.n.c.i.CloudServiceIntegrationTest - Starting CloudServiceIntegrationTest using Java 14.0.1 on MBP-Maksim.Dlink with PID 21775 (started by maksim in /Users/maksim/Desktop/CloudService/CloudServiceBackend)
[INFO ] 2021-08-30 13:15:34 [main] INFO  r.n.c.i.CloudServiceIntegrationTest - No active profile set, falling back to default profiles: default
[WARN ] 2021-08-30 13:15:34 [background-preinit] WARN  o.s.h.c.j.Jackson2ObjectMapperBuilder - For Jackson Kotlin classes support please add "com.fasterxml.jackson.module:jackson-module-kotlin" to the classpath
[INFO ] 2021-08-30 13:15:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-08-30 13:15:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 77 ms. Found 2 JPA repository interfaces.
[INFO ] 2021-08-30 13:15:36 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@1c61eda5' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[INFO ] 2021-08-30 13:15:36 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[INFO ] 2021-08-30 13:15:37 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
[INFO ] 2021-08-30 13:15:37 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
[INFO ] 2021-08-30 13:15:37 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.46]
[INFO ] 2021-08-30 13:15:37 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
[INFO ] 2021-08-30 13:15:37 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2599 ms
[INFO ] 2021-08-30 13:15:37 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
[INFO ] 2021-08-30 13:15:37 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
[INFO ] 2021-08-30 13:15:39 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
[INFO ] 2021-08-30 13:15:41 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
[INFO ] 2021-08-30 13:15:41 [main] INFO  liquibase.lockservice - Successfully released change log lock
[INFO ] 2021-08-30 13:15:41 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
[WARN ] 2021-08-30 13:15:41 [main] WARN  liquibase.hub - Skipping auto-registration
[INFO ] 2021-08-30 13:15:41 [main] INFO  liquibase.lockservice - Successfully released change log lock
[INFO ] 2021-08-30 13:15:41 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-08-30 13:15:41 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.31.Final
[INFO ] 2021-08-30 13:15:42 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-08-30 13:15:42 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
[INFO ] 2021-08-30 13:15:43 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-08-30 13:15:43 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-08-30 13:15:44 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-08-30 13:15:44 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.web.filter.CorsFilter@617d697, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3a4d0ca2, org.springframework.security.web.context.SecurityContextPersistenceFilter@7306836f, org.springframework.security.web.header.HeaderWriterFilter@3095c449, org.springframework.web.filter.CorsFilter@149162a4, org.springframework.security.web.authentication.logout.LogoutFilter@20a533b, ru.netology.cloud_service_app.security.jwt.JwtUsernamePasswordAuthenticationFilter@2b8a11d7, ru.netology.cloud_service_app.security.jwt.JwtTokenVerifier@1391d95f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@71dac63f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2620264e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@416bff93, org.springframework.security.web.session.SessionManagementFilter@3eb29382, org.springframework.security.web.access.ExceptionTranslationFilter@5481001f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1b5df8b7]
[INFO ] 2021-08-30 13:15:45 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 57314 (http) with context path ''
[INFO ] 2021-08-30 13:15:45 [main] INFO  r.n.c.i.CloudServiceIntegrationTest - Started CloudServiceIntegrationTest in 11.317 seconds (JVM running for 56.755)
[INFO ] 2021-08-30 13:15:45 [main] INFO  o.s.b.a.ApplicationAvailabilityBean - Application availability state LivenessState changed to CORRECT
[INFO ] 2021-08-30 13:15:45 [main] INFO  o.s.b.a.ApplicationAvailabilityBean - Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
[INFO ] 2021-08-30 13:17:23 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest]: no resource found for suffixes {-context.xml, Context.groovy}.
[INFO ] 2021-08-30 13:17:23 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest]: CloudServiceIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
[INFO ] 2021-08-30 13:17:24 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration ru.netology.cloud_service_app.CloudServiceAppApplication for test class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest
[INFO ] 2021-08-30 13:17:24 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
[INFO ] 2021-08-30 13:17:24 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3f07b12c, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4bd1f8dd, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@7096b474, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@3e14c16d, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@3c989952, org.springframework.test.context.support.DirtiesContextTestExecutionListener@784b990c, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3d3ba765, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@25bc0606, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@5d1659ea, org.springframework.test.context.event.EventPublishingTestExecutionListener@793138bd, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@1951b871, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@5c18016b, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@33aeca0b, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@43aaf813, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@57ac5227, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@4ba302e0, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@e98770d]
[INFO ] 2021-08-30 13:17:24 [testcontainers-lifecycle-0] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
[INFO ] 2021-08-30 13:17:25 [testcontainers-lifecycle-0] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
[INFO ] 2021-08-30 13:17:25 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Docker host IP address is localhost
[INFO ] 2021-08-30 13:17:25 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Connected to docker: 
  Server Version: 20.10.7
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 1987 MB
[INFO ] 2021-08-30 13:17:25 [testcontainers-lifecycle-0] INFO  o.t.utility.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
[INFO ] 2021-08-30 13:17:27 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
[INFO ] 2021-08-30 13:17:27 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Checking the system...
[INFO ] 2021-08-30 13:17:27 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - ✔︎ Docker server version should be at least 1.6.0
[INFO ] 2021-08-30 13:17:27 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - ✔︎ Docker environment should have more than 2GB free disk space
[INFO ] 2021-08-30 13:17:27 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Creating container for image: postgres:13.2
[INFO ] 2021-08-30 13:17:31 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Starting container with ID: 0135008fabc07e6399bff00d083d59838fcb4ebb4f766287044879289db6a48b
[INFO ] 2021-08-30 13:17:34 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Container postgres:13.2 is starting: 0135008fabc07e6399bff00d083d59838fcb4ebb4f766287044879289db6a48b
[INFO ] 2021-08-30 13:17:36 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Container postgres:13.2 started in PT8.780651S
[INFO ] 2021-08-30 13:17:36 [main] INFO  🐳 [cloud_service_app:1.1] - Creating container for image: cloud_service_app:1.1
[INFO ] 2021-08-30 13:17:36 [main] INFO  🐳 [cloud_service_app:1.1] - Starting container with ID: 82d8a17d59dffe71d988c9a59742c2896b2427dc1c570273f0470c976a72bd1f
[INFO ] 2021-08-30 13:17:39 [main] INFO  🐳 [cloud_service_app:1.1] - Container cloud_service_app:1.1 is starting: 82d8a17d59dffe71d988c9a59742c2896b2427dc1c570273f0470c976a72bd1f
[INFO ] 2021-08-30 13:17:55 [main] INFO  🐳 [cloud_service_app:1.1] - Container cloud_service_app:1.1 started in PT19.183691S
[INFO ] 2021-08-30 13:17:55 [main] INFO  🐳 [front_app:1.0] - Creating container for image: front_app:1.0
[INFO ] 2021-08-30 13:17:55 [main] INFO  🐳 [front_app:1.0] - Starting container with ID: 87cc85fc66de5c90b5128bf511cd6388fece1860be49ff49f4b6db7a7554d523
[INFO ] 2021-08-30 13:17:58 [main] INFO  🐳 [front_app:1.0] - Container front_app:1.0 is starting: 87cc85fc66de5c90b5128bf511cd6388fece1860be49ff49f4b6db7a7554d523
[INFO ] 2021-08-30 13:18:03 [main] INFO  🐳 [front_app:1.0] - Container front_app:1.0 started in PT8.135507S
[INFO ] 2021-08-30 13:18:04 [main] INFO  r.n.c.i.CloudServiceIntegrationTest - Starting CloudServiceIntegrationTest using Java 14.0.1 on MBP-Maksim.Dlink with PID 22196 (started by maksim in /Users/maksim/Desktop/CloudService/CloudServiceBackend)
[INFO ] 2021-08-30 13:18:04 [main] INFO  r.n.c.i.CloudServiceIntegrationTest - No active profile set, falling back to default profiles: default
[WARN ] 2021-08-30 13:18:04 [background-preinit] WARN  o.s.h.c.j.Jackson2ObjectMapperBuilder - For Jackson Kotlin classes support please add "com.fasterxml.jackson.module:jackson-module-kotlin" to the classpath
[INFO ] 2021-08-30 13:18:05 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-08-30 13:18:05 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 84 ms. Found 2 JPA repository interfaces.
[INFO ] 2021-08-30 13:18:05 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@317890ea' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[INFO ] 2021-08-30 13:18:05 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[INFO ] 2021-08-30 13:18:06 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
[INFO ] 2021-08-30 13:18:06 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
[INFO ] 2021-08-30 13:18:06 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.46]
[INFO ] 2021-08-30 13:18:06 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
[INFO ] 2021-08-30 13:18:06 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2446 ms
[INFO ] 2021-08-30 13:18:07 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
[INFO ] 2021-08-30 13:18:07 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
[INFO ] 2021-08-30 13:18:07 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
[INFO ] 2021-08-30 13:18:08 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
[INFO ] 2021-08-30 13:18:08 [main] INFO  liquibase.lockservice - Successfully released change log lock
[INFO ] 2021-08-30 13:18:08 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
[WARN ] 2021-08-30 13:18:08 [main] WARN  liquibase.hub - Skipping auto-registration
[INFO ] 2021-08-30 13:18:08 [main] INFO  liquibase.lockservice - Successfully released change log lock
[INFO ] 2021-08-30 13:18:09 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-08-30 13:18:09 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.31.Final
[INFO ] 2021-08-30 13:18:09 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-08-30 13:18:09 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
[INFO ] 2021-08-30 13:18:11 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-08-30 13:18:11 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-08-30 13:18:13 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-08-30 13:18:13 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.web.filter.CorsFilter@5e8f0c54, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2aaed928, org.springframework.security.web.context.SecurityContextPersistenceFilter@1418a1bd, org.springframework.security.web.header.HeaderWriterFilter@5db6083b, org.springframework.web.filter.CorsFilter@155cf9f6, org.springframework.security.web.authentication.logout.LogoutFilter@7b1a9ab3, ru.netology.cloud_service_app.security.jwt.JwtUsernamePasswordAuthenticationFilter@b7b26c6, ru.netology.cloud_service_app.security.jwt.JwtTokenVerifier@2db07651, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@31c17fd4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@45594dfe, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@718b9d56, org.springframework.security.web.session.SessionManagementFilter@68312b85, org.springframework.security.web.access.ExceptionTranslationFilter@189c6683, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7af4286]
[INFO ] 2021-08-30 13:18:14 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 58071 (http) with context path ''
[INFO ] 2021-08-30 13:18:14 [main] INFO  r.n.c.i.CloudServiceIntegrationTest - Started CloudServiceIntegrationTest in 11.156 seconds (JVM running for 52.176)
[INFO ] 2021-08-30 13:18:14 [main] INFO  o.s.b.a.ApplicationAvailabilityBean - Application availability state LivenessState changed to CORRECT
[INFO ] 2021-08-30 13:18:14 [main] INFO  o.s.b.a.ApplicationAvailabilityBean - Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
[INFO ] 2021-08-30 13:25:09 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest]: no resource found for suffixes {-context.xml, Context.groovy}.
[INFO ] 2021-08-30 13:25:09 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest]: CloudServiceIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
[INFO ] 2021-08-30 13:25:09 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration ru.netology.cloud_service_app.CloudServiceAppApplication for test class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest
[INFO ] 2021-08-30 13:25:09 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
[INFO ] 2021-08-30 13:25:09 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6b44435b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2ccca26f, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@66b7550d, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@3543df7d, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@7c541c15, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3542162a, org.springframework.test.context.transaction.TransactionalTestExecutionListener@698122b2, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@4212a0c8, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@1e7aa82b, org.springframework.test.context.event.EventPublishingTestExecutionListener@3b2c0e88, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@5bd82fed, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@c1bd0be, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@476b0ae6, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@1c6804cd, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@655f7ea, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@549949be, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@4b3a45f1]
[INFO ] 2021-08-30 13:25:09 [testcontainers-lifecycle-0] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
[INFO ] 2021-08-30 13:25:10 [testcontainers-lifecycle-0] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
[INFO ] 2021-08-30 13:25:10 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Docker host IP address is localhost
[INFO ] 2021-08-30 13:25:10 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Connected to docker: 
  Server Version: 20.10.7
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 1987 MB
[INFO ] 2021-08-30 13:25:10 [testcontainers-lifecycle-0] INFO  o.t.utility.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
[INFO ] 2021-08-30 13:25:13 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
[INFO ] 2021-08-30 13:25:13 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Checking the system...
[INFO ] 2021-08-30 13:25:13 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - ✔︎ Docker server version should be at least 1.6.0
[INFO ] 2021-08-30 13:25:13 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - ✔︎ Docker environment should have more than 2GB free disk space
[INFO ] 2021-08-30 13:25:13 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Creating container for image: postgres:13.2
[INFO ] 2021-08-30 13:25:17 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Starting container with ID: 31c826267177fd090a998a52a44897994282c0875eb4cf24bacc6485521d5bca
[INFO ] 2021-08-30 13:25:21 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Container postgres:13.2 is starting: 31c826267177fd090a998a52a44897994282c0875eb4cf24bacc6485521d5bca
[INFO ] 2021-08-30 13:25:23 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Container postgres:13.2 started in PT9.676196S
[INFO ] 2021-08-30 13:25:23 [main] INFO  🐳 [cloud_service_app:1.1] - Creating container for image: cloud_service_app:1.1
[INFO ] 2021-08-30 13:25:23 [main] INFO  🐳 [cloud_service_app:1.1] - Starting container with ID: 9a438628d79e2f2ce1ee0019b7dbc69502dc25d38764ec1fcef4805fa4d7824f
[INFO ] 2021-08-30 13:25:26 [main] INFO  🐳 [cloud_service_app:1.1] - Container cloud_service_app:1.1 is starting: 9a438628d79e2f2ce1ee0019b7dbc69502dc25d38764ec1fcef4805fa4d7824f
[INFO ] 2021-08-30 13:25:43 [main] INFO  🐳 [cloud_service_app:1.1] - Container cloud_service_app:1.1 started in PT20.839922S
[INFO ] 2021-08-30 13:25:43 [main] INFO  🐳 [front_app:1.0] - Creating container for image: front_app:1.0
[INFO ] 2021-08-30 13:25:44 [main] INFO  🐳 [front_app:1.0] - Starting container with ID: 883c6a0d42c5b7e89099697be2e3efc6f07f4ae6313500b9fd2277d1652759a6
[INFO ] 2021-08-30 13:25:47 [main] INFO  🐳 [front_app:1.0] - Container front_app:1.0 is starting: 883c6a0d42c5b7e89099697be2e3efc6f07f4ae6313500b9fd2277d1652759a6
[INFO ] 2021-08-30 13:25:52 [main] INFO  🐳 [front_app:1.0] - Container front_app:1.0 started in PT8.258874S
[INFO ] 2021-08-30 13:25:52 [main] INFO  r.n.c.i.CloudServiceIntegrationTest - Starting CloudServiceIntegrationTest using Java 14.0.1 on MBP-Maksim.Dlink with PID 23649 (started by maksim in /Users/maksim/Desktop/CloudService/CloudServiceBackend)
[INFO ] 2021-08-30 13:25:52 [main] INFO  r.n.c.i.CloudServiceIntegrationTest - No active profile set, falling back to default profiles: default
[WARN ] 2021-08-30 13:25:53 [background-preinit] WARN  o.s.h.c.j.Jackson2ObjectMapperBuilder - For Jackson Kotlin classes support please add "com.fasterxml.jackson.module:jackson-module-kotlin" to the classpath
[INFO ] 2021-08-30 13:25:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-08-30 13:25:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 87 ms. Found 2 JPA repository interfaces.
[INFO ] 2021-08-30 13:25:54 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@7c90b7b7' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[INFO ] 2021-08-30 13:25:54 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[INFO ] 2021-08-30 13:25:55 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
[INFO ] 2021-08-30 13:25:55 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
[INFO ] 2021-08-30 13:25:55 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.46]
[INFO ] 2021-08-30 13:25:55 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
[INFO ] 2021-08-30 13:25:55 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2653 ms
[INFO ] 2021-08-30 13:25:55 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
[INFO ] 2021-08-30 13:25:56 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
[INFO ] 2021-08-30 13:25:56 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
[INFO ] 2021-08-30 13:25:58 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
[INFO ] 2021-08-30 13:25:58 [main] INFO  liquibase.lockservice - Successfully released change log lock
[INFO ] 2021-08-30 13:25:58 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
[WARN ] 2021-08-30 13:25:58 [main] WARN  liquibase.hub - Skipping auto-registration
[INFO ] 2021-08-30 13:25:58 [main] INFO  liquibase.lockservice - Successfully released change log lock
[INFO ] 2021-08-30 13:25:58 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-08-30 13:25:58 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.31.Final
[INFO ] 2021-08-30 13:25:59 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-08-30 13:25:59 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
[INFO ] 2021-08-30 13:26:00 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-08-30 13:26:00 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-08-30 13:26:01 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-08-30 13:26:01 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.web.filter.CorsFilter@5f9f1886, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@136a5572, org.springframework.security.web.context.SecurityContextPersistenceFilter@1f4083ac, org.springframework.security.web.header.HeaderWriterFilter@fd8513b, org.springframework.web.filter.CorsFilter@11548363, org.springframework.security.web.authentication.logout.LogoutFilter@577b2c5f, ru.netology.cloud_service_app.security.jwt.JwtUsernamePasswordAuthenticationFilter@6be865c1, ru.netology.cloud_service_app.security.jwt.JwtTokenVerifier@4c140b12, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7b1a9ab3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1b5df8b7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@d140627, org.springframework.security.web.session.SessionManagementFilter@427946b9, org.springframework.security.web.access.ExceptionTranslationFilter@2ab87cb8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@403ba39f]
[INFO ] 2021-08-30 13:26:02 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 60180 (http) with context path ''
[INFO ] 2021-08-30 13:26:02 [main] INFO  r.n.c.i.CloudServiceIntegrationTest - Started CloudServiceIntegrationTest in 9.937 seconds (JVM running for 55.116)
[INFO ] 2021-08-30 13:26:02 [main] INFO  o.s.b.a.ApplicationAvailabilityBean - Application availability state LivenessState changed to CORRECT
[INFO ] 2021-08-30 13:26:02 [main] INFO  o.s.b.a.ApplicationAvailabilityBean - Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
[INFO ] 2021-08-30 13:26:02 [main] INFO  o.s.t.c.t.TransactionContext - Began transaction (1) for test context [DefaultTestContext@6dbe6891 testClass = CloudServiceIntegrationTest, testInstance = ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest@30be77cd, testMethod = backendApplicationGetAllFilesMethodShouldReturnOkAndValidJsonResponse@CloudServiceIntegrationTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@71c9c7f3 testClass = CloudServiceIntegrationTest, locations = '{}', classes = '{class ru.netology.cloud_service_app.CloudServiceAppApplication}', contextInitializerClasses = '[class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@58594a11, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@14fa86ae, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@490caf5f, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@b83a9be, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@327af41b, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@21bcffb5], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@3fd93330]; rollback [true]
[WARN ] 2021-08-30 13:26:02 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23505
[ERROR] 2021-08-30 13:26:02 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: duplicate key value violates unique constraint "files_name_content_type_user_name_hash_key"
  Подробности: Key (name, content_type, user_name, hash)=(111.jpeg, image/jpeg, max@mail.ru, 73e27fea30ba0d84a194d3cd09d16b69) already exists.
[INFO ] 2021-08-30 13:26:03 [main] INFO  o.s.t.c.t.TransactionContext - Rolled back transaction for test: [DefaultTestContext@6dbe6891 testClass = CloudServiceIntegrationTest, testInstance = ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest@30be77cd, testMethod = backendApplicationGetAllFilesMethodShouldReturnOkAndValidJsonResponse@CloudServiceIntegrationTest, testException = org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [files_name_content_type_user_name_hash_key]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement, mergedContextConfiguration = [WebMergedContextConfiguration@71c9c7f3 testClass = CloudServiceIntegrationTest, locations = '{}', classes = '{class ru.netology.cloud_service_app.CloudServiceAppApplication}', contextInitializerClasses = '[class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@58594a11, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@14fa86ae, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@490caf5f, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@b83a9be, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@327af41b, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@21bcffb5], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
[INFO ] 2021-08-30 13:26:03 [main] INFO  o.s.t.c.t.TransactionContext - Began transaction (1) for test context [DefaultTestContext@6dbe6891 testClass = CloudServiceIntegrationTest, testInstance = ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest@d4e17ec, testMethod = testBackendContainerShouldWork@CloudServiceIntegrationTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@71c9c7f3 testClass = CloudServiceIntegrationTest, locations = '{}', classes = '{class ru.netology.cloud_service_app.CloudServiceAppApplication}', contextInitializerClasses = '[class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@58594a11, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@14fa86ae, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@490caf5f, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@b83a9be, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@327af41b, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@21bcffb5], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@3fd93330]; rollback [true]
[INFO ] 2021-08-30 13:26:03 [main] INFO  o.s.t.c.t.TransactionContext - Rolled back transaction for test: [DefaultTestContext@6dbe6891 testClass = CloudServiceIntegrationTest, testInstance = ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest@d4e17ec, testMethod = testBackendContainerShouldWork@CloudServiceIntegrationTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@71c9c7f3 testClass = CloudServiceIntegrationTest, locations = '{}', classes = '{class ru.netology.cloud_service_app.CloudServiceAppApplication}', contextInitializerClasses = '[class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@58594a11, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@14fa86ae, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@490caf5f, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@b83a9be, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@327af41b, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@21bcffb5], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
[INFO ] 2021-08-30 13:26:03 [main] INFO  o.s.t.c.t.TransactionContext - Began transaction (1) for test context [DefaultTestContext@6dbe6891 testClass = CloudServiceIntegrationTest, testInstance = ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest@1e8f20bf, testMethod = testFrontendContainerShouldWork@CloudServiceIntegrationTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@71c9c7f3 testClass = CloudServiceIntegrationTest, locations = '{}', classes = '{class ru.netology.cloud_service_app.CloudServiceAppApplication}', contextInitializerClasses = '[class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@58594a11, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@14fa86ae, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@490caf5f, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@b83a9be, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@327af41b, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@21bcffb5], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@3fd93330]; rollback [true]
[INFO ] 2021-08-30 13:26:03 [main] INFO  o.s.t.c.t.TransactionContext - Rolled back transaction for test: [DefaultTestContext@6dbe6891 testClass = CloudServiceIntegrationTest, testInstance = ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest@1e8f20bf, testMethod = testFrontendContainerShouldWork@CloudServiceIntegrationTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@71c9c7f3 testClass = CloudServiceIntegrationTest, locations = '{}', classes = '{class ru.netology.cloud_service_app.CloudServiceAppApplication}', contextInitializerClasses = '[class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@58594a11, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@14fa86ae, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@490caf5f, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@b83a9be, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@327af41b, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@21bcffb5], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
[INFO ] 2021-08-30 13:26:03 [main] INFO  o.s.t.c.t.TransactionContext - Began transaction (1) for test context [DefaultTestContext@6dbe6891 testClass = CloudServiceIntegrationTest, testInstance = ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest@4cb37177, testMethod = backendApplicationEditFilenameMethodShouldReturnOk@CloudServiceIntegrationTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@71c9c7f3 testClass = CloudServiceIntegrationTest, locations = '{}', classes = '{class ru.netology.cloud_service_app.CloudServiceAppApplication}', contextInitializerClasses = '[class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@58594a11, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@14fa86ae, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@490caf5f, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@b83a9be, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@327af41b, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@21bcffb5], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@3fd93330]; rollback [true]
[WARN ] 2021-08-30 13:26:03 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23505
[ERROR] 2021-08-30 13:26:03 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: duplicate key value violates unique constraint "files_name_content_type_user_name_hash_key"
  Подробности: Key (name, content_type, user_name, hash)=(111.jpeg, image/jpeg, max@mail.ru, 73e27fea30ba0d84a194d3cd09d16b69) already exists.
[INFO ] 2021-08-30 13:26:03 [main] INFO  o.s.t.c.t.TransactionContext - Rolled back transaction for test: [DefaultTestContext@6dbe6891 testClass = CloudServiceIntegrationTest, testInstance = ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest@4cb37177, testMethod = backendApplicationEditFilenameMethodShouldReturnOk@CloudServiceIntegrationTest, testException = org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [files_name_content_type_user_name_hash_key]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement, mergedContextConfiguration = [WebMergedContextConfiguration@71c9c7f3 testClass = CloudServiceIntegrationTest, locations = '{}', classes = '{class ru.netology.cloud_service_app.CloudServiceAppApplication}', contextInitializerClasses = '[class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@58594a11, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@14fa86ae, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@490caf5f, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@b83a9be, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@327af41b, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@21bcffb5], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
[INFO ] 2021-08-30 13:26:03 [main] INFO  o.s.t.c.t.TransactionContext - Began transaction (1) for test context [DefaultTestContext@6dbe6891 testClass = CloudServiceIntegrationTest, testInstance = ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest@3701acee, testMethod = backendApplicationSaveFileMethodShouldReturnOk@CloudServiceIntegrationTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@71c9c7f3 testClass = CloudServiceIntegrationTest, locations = '{}', classes = '{class ru.netology.cloud_service_app.CloudServiceAppApplication}', contextInitializerClasses = '[class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@58594a11, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@14fa86ae, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@490caf5f, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@b83a9be, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@327af41b, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@21bcffb5], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@3fd93330]; rollback [true]
[WARN ] 2021-08-30 13:26:03 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23505
[ERROR] 2021-08-30 13:26:03 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: duplicate key value violates unique constraint "files_name_content_type_user_name_hash_key"
  Подробности: Key (name, content_type, user_name, hash)=(111.jpeg, image/jpeg, max@mail.ru, 73e27fea30ba0d84a194d3cd09d16b69) already exists.
[INFO ] 2021-08-30 13:26:03 [main] INFO  o.s.t.c.t.TransactionContext - Rolled back transaction for test: [DefaultTestContext@6dbe6891 testClass = CloudServiceIntegrationTest, testInstance = ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest@3701acee, testMethod = backendApplicationSaveFileMethodShouldReturnOk@CloudServiceIntegrationTest, testException = org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [files_name_content_type_user_name_hash_key]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement, mergedContextConfiguration = [WebMergedContextConfiguration@71c9c7f3 testClass = CloudServiceIntegrationTest, locations = '{}', classes = '{class ru.netology.cloud_service_app.CloudServiceAppApplication}', contextInitializerClasses = '[class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@58594a11, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@14fa86ae, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@490caf5f, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@b83a9be, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@327af41b, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@21bcffb5], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
[INFO ] 2021-08-30 13:26:03 [main] INFO  o.s.t.c.t.TransactionContext - Began transaction (1) for test context [DefaultTestContext@6dbe6891 testClass = CloudServiceIntegrationTest, testInstance = ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest@73c5b676, testMethod = backendApplicationDeleteFileMethodShouldReturnOk@CloudServiceIntegrationTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@71c9c7f3 testClass = CloudServiceIntegrationTest, locations = '{}', classes = '{class ru.netology.cloud_service_app.CloudServiceAppApplication}', contextInitializerClasses = '[class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@58594a11, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@14fa86ae, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@490caf5f, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@b83a9be, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@327af41b, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@21bcffb5], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@3fd93330]; rollback [true]
[WARN ] 2021-08-30 13:26:03 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23505
[ERROR] 2021-08-30 13:26:03 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: duplicate key value violates unique constraint "files_name_content_type_user_name_hash_key"
  Подробности: Key (name, content_type, user_name, hash)=(111.jpeg, image/jpeg, max@mail.ru, 73e27fea30ba0d84a194d3cd09d16b69) already exists.
[INFO ] 2021-08-30 13:26:03 [main] INFO  o.s.t.c.t.TransactionContext - Rolled back transaction for test: [DefaultTestContext@6dbe6891 testClass = CloudServiceIntegrationTest, testInstance = ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest@73c5b676, testMethod = backendApplicationDeleteFileMethodShouldReturnOk@CloudServiceIntegrationTest, testException = org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [files_name_content_type_user_name_hash_key]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement, mergedContextConfiguration = [WebMergedContextConfiguration@71c9c7f3 testClass = CloudServiceIntegrationTest, locations = '{}', classes = '{class ru.netology.cloud_service_app.CloudServiceAppApplication}', contextInitializerClasses = '[class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@58594a11, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@14fa86ae, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@490caf5f, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@b83a9be, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@327af41b, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@21bcffb5], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
[INFO ] 2021-08-30 13:26:03 [main] INFO  o.s.t.c.t.TransactionContext - Began transaction (1) for test context [DefaultTestContext@6dbe6891 testClass = CloudServiceIntegrationTest, testInstance = ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest@210b4145, testMethod = testPostgresContainerShouldWork@CloudServiceIntegrationTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@71c9c7f3 testClass = CloudServiceIntegrationTest, locations = '{}', classes = '{class ru.netology.cloud_service_app.CloudServiceAppApplication}', contextInitializerClasses = '[class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@58594a11, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@14fa86ae, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@490caf5f, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@b83a9be, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@327af41b, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@21bcffb5], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@3fd93330]; rollback [true]
[INFO ] 2021-08-30 13:26:03 [main] INFO  o.s.t.c.t.TransactionContext - Rolled back transaction for test: [DefaultTestContext@6dbe6891 testClass = CloudServiceIntegrationTest, testInstance = ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest@210b4145, testMethod = testPostgresContainerShouldWork@CloudServiceIntegrationTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@71c9c7f3 testClass = CloudServiceIntegrationTest, locations = '{}', classes = '{class ru.netology.cloud_service_app.CloudServiceAppApplication}', contextInitializerClasses = '[class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@58594a11, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@14fa86ae, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@490caf5f, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@b83a9be, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@327af41b, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@21bcffb5], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
[INFO ] 2021-08-30 13:26:03 [main] INFO  o.s.t.c.t.TransactionContext - Began transaction (1) for test context [DefaultTestContext@6dbe6891 testClass = CloudServiceIntegrationTest, testInstance = ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest@64b7719f, testMethod = backendApplicationDownloadFileMethodShouldReturnOk@CloudServiceIntegrationTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@71c9c7f3 testClass = CloudServiceIntegrationTest, locations = '{}', classes = '{class ru.netology.cloud_service_app.CloudServiceAppApplication}', contextInitializerClasses = '[class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@58594a11, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@14fa86ae, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@490caf5f, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@b83a9be, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@327af41b, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@21bcffb5], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@3fd93330]; rollback [true]
[WARN ] 2021-08-30 13:26:03 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23505
[ERROR] 2021-08-30 13:26:03 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: duplicate key value violates unique constraint "files_name_content_type_user_name_hash_key"
  Подробности: Key (name, content_type, user_name, hash)=(111.jpeg, image/jpeg, max@mail.ru, 73e27fea30ba0d84a194d3cd09d16b69) already exists.
[INFO ] 2021-08-30 13:26:03 [main] INFO  o.s.t.c.t.TransactionContext - Rolled back transaction for test: [DefaultTestContext@6dbe6891 testClass = CloudServiceIntegrationTest, testInstance = ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest@64b7719f, testMethod = backendApplicationDownloadFileMethodShouldReturnOk@CloudServiceIntegrationTest, testException = org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [files_name_content_type_user_name_hash_key]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement, mergedContextConfiguration = [WebMergedContextConfiguration@71c9c7f3 testClass = CloudServiceIntegrationTest, locations = '{}', classes = '{class ru.netology.cloud_service_app.CloudServiceAppApplication}', contextInitializerClasses = '[class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@58594a11, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@14fa86ae, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@490caf5f, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@b83a9be, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@327af41b, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@21bcffb5], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
[INFO ] 2021-08-30 13:27:31 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest]: no resource found for suffixes {-context.xml, Context.groovy}.
[INFO ] 2021-08-30 13:27:31 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest]: CloudServiceIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
[INFO ] 2021-08-30 13:27:31 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration ru.netology.cloud_service_app.CloudServiceAppApplication for test class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest
[INFO ] 2021-08-30 13:27:31 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
[INFO ] 2021-08-30 13:27:31 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5c153b9e, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2a7686a7, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@758a34ce, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@7ec3394b, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@bff34c6, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1522d8a0, org.springframework.test.context.transaction.TransactionalTestExecutionListener@312ab28e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5644dc81, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@246f8b8b, org.springframework.test.context.event.EventPublishingTestExecutionListener@278bb07e, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@4351c8c3, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@3381b4fc, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@6bea52d4, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@11981797, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@5c42d2b7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@625abb97, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@5b1f29fa]
[INFO ] 2021-08-30 13:27:32 [testcontainers-lifecycle-0] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
[INFO ] 2021-08-30 13:27:32 [testcontainers-lifecycle-0] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
[INFO ] 2021-08-30 13:27:32 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Docker host IP address is localhost
[INFO ] 2021-08-30 13:27:32 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Connected to docker: 
  Server Version: 20.10.7
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 1987 MB
[INFO ] 2021-08-30 13:27:32 [testcontainers-lifecycle-0] INFO  o.t.utility.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
[INFO ] 2021-08-30 13:27:34 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
[INFO ] 2021-08-30 13:27:34 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Checking the system...
[INFO ] 2021-08-30 13:27:34 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - ✔︎ Docker server version should be at least 1.6.0
[INFO ] 2021-08-30 13:27:35 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - ✔︎ Docker environment should have more than 2GB free disk space
[INFO ] 2021-08-30 13:27:35 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Creating container for image: postgres:13.2
[INFO ] 2021-08-30 13:27:38 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Starting container with ID: a3bdd46afe81057418a88af49959277c59c5cdd678cb804ec644d3029127208d
[INFO ] 2021-08-30 13:27:42 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Container postgres:13.2 is starting: a3bdd46afe81057418a88af49959277c59c5cdd678cb804ec644d3029127208d
[INFO ] 2021-08-30 13:27:43 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Container postgres:13.2 started in PT8.459083S
[INFO ] 2021-08-30 13:27:43 [main] INFO  🐳 [cloud_service_app:1.1] - Creating container for image: cloud_service_app:1.1
[INFO ] 2021-08-30 13:27:43 [main] INFO  🐳 [cloud_service_app:1.1] - Starting container with ID: dc9c49190df258d804582f5369c532a97548ea691de15e684e93960adbbe20f8
[INFO ] 2021-08-30 13:27:47 [main] INFO  🐳 [cloud_service_app:1.1] - Container cloud_service_app:1.1 is starting: dc9c49190df258d804582f5369c532a97548ea691de15e684e93960adbbe20f8
[INFO ] 2021-08-30 13:28:09 [main] INFO  🐳 [cloud_service_app:1.1] - Container cloud_service_app:1.1 started in PT25.855914S
[INFO ] 2021-08-30 13:28:09 [main] INFO  🐳 [front_app:1.0] - Creating container for image: front_app:1.0
[INFO ] 2021-08-30 13:28:09 [main] INFO  🐳 [front_app:1.0] - Starting container with ID: f066a6dde5c74c9ae60fc55752505eda85eceb685bf0ce65d10bb493436a4790
[INFO ] 2021-08-30 13:28:12 [main] INFO  🐳 [front_app:1.0] - Container front_app:1.0 is starting: f066a6dde5c74c9ae60fc55752505eda85eceb685bf0ce65d10bb493436a4790
[INFO ] 2021-08-30 13:28:17 [main] INFO  🐳 [front_app:1.0] - Container front_app:1.0 started in PT8.384409S
[INFO ] 2021-08-30 13:39:58 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest]: no resource found for suffixes {-context.xml, Context.groovy}.
[INFO ] 2021-08-30 13:39:58 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest]: CloudServiceIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
[INFO ] 2021-08-30 13:39:58 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration ru.netology.cloud_service_app.CloudServiceAppApplication for test class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest
[INFO ] 2021-08-30 13:39:58 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
[INFO ] 2021-08-30 13:39:58 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6b44435b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2ccca26f, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@66b7550d, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@3543df7d, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@7c541c15, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3542162a, org.springframework.test.context.transaction.TransactionalTestExecutionListener@698122b2, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@4212a0c8, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@1e7aa82b, org.springframework.test.context.event.EventPublishingTestExecutionListener@3b2c0e88, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@5bd82fed, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@c1bd0be, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@476b0ae6, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@1c6804cd, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@655f7ea, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@549949be, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@4b3a45f1]
[INFO ] 2021-08-30 13:39:59 [testcontainers-lifecycle-0] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
[INFO ] 2021-08-30 13:40:00 [testcontainers-lifecycle-0] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
[INFO ] 2021-08-30 13:40:00 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Docker host IP address is localhost
[INFO ] 2021-08-30 13:40:00 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Connected to docker: 
  Server Version: 20.10.7
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 1987 MB
[INFO ] 2021-08-30 13:40:00 [testcontainers-lifecycle-0] INFO  o.t.utility.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
[INFO ] 2021-08-30 13:40:02 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
[INFO ] 2021-08-30 13:40:02 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Checking the system...
[INFO ] 2021-08-30 13:40:02 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - ✔︎ Docker server version should be at least 1.6.0
[INFO ] 2021-08-30 13:40:02 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - ✔︎ Docker environment should have more than 2GB free disk space
[INFO ] 2021-08-30 13:40:02 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Creating container for image: postgres:13.2
[INFO ] 2021-08-30 13:40:06 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Starting container with ID: fe277ce00d9a73813fa73308b3fe3f447e11444bb4da5bd1ce2584dbd7209ea9
[INFO ] 2021-08-30 13:40:09 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Container postgres:13.2 is starting: fe277ce00d9a73813fa73308b3fe3f447e11444bb4da5bd1ce2584dbd7209ea9
[INFO ] 2021-08-30 13:40:10 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Container postgres:13.2 started in PT8.436431S
[INFO ] 2021-08-30 13:40:10 [main] INFO  🐳 [cloud_service_app:1.1] - Creating container for image: cloud_service_app:1.1
[INFO ] 2021-08-30 13:40:10 [main] INFO  🐳 [cloud_service_app:1.1] - Starting container with ID: 1d2f817c9b2bb8a34cdd3330dd221a39e717f904f26671ec8d6b956956172d0f
[INFO ] 2021-08-30 13:40:14 [main] INFO  🐳 [cloud_service_app:1.1] - Container cloud_service_app:1.1 is starting: 1d2f817c9b2bb8a34cdd3330dd221a39e717f904f26671ec8d6b956956172d0f
[INFO ] 2021-08-30 13:40:29 [main] INFO  🐳 [cloud_service_app:1.1] - Container cloud_service_app:1.1 started in PT19.068273S
[INFO ] 2021-08-30 13:40:30 [main] INFO  r.n.c.i.CloudServiceIntegrationTest - Starting CloudServiceIntegrationTest using Java 14.0.1 on MBP-Maksim.Dlink with PID 26357 (started by maksim in /Users/maksim/Desktop/CloudService/CloudServiceBackend)
[INFO ] 2021-08-30 13:40:30 [main] INFO  r.n.c.i.CloudServiceIntegrationTest - No active profile set, falling back to default profiles: default
[WARN ] 2021-08-30 13:40:30 [background-preinit] WARN  o.s.h.c.j.Jackson2ObjectMapperBuilder - For Jackson Kotlin classes support please add "com.fasterxml.jackson.module:jackson-module-kotlin" to the classpath
[INFO ] 2021-08-30 13:40:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-08-30 13:40:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 61 ms. Found 2 JPA repository interfaces.
[INFO ] 2021-08-30 13:40:31 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@5a08b084' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[INFO ] 2021-08-30 13:40:31 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[INFO ] 2021-08-30 13:40:32 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
[INFO ] 2021-08-30 13:40:32 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
[INFO ] 2021-08-30 13:40:32 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.46]
[INFO ] 2021-08-30 13:40:32 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
[INFO ] 2021-08-30 13:40:32 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1814 ms
[INFO ] 2021-08-30 13:40:32 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
[INFO ] 2021-08-30 13:40:32 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
[INFO ] 2021-08-30 13:40:33 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
[INFO ] 2021-08-30 13:40:33 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
[INFO ] 2021-08-30 13:40:33 [main] INFO  liquibase.lockservice - Successfully released change log lock
[INFO ] 2021-08-30 13:40:33 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
[WARN ] 2021-08-30 13:40:33 [main] WARN  liquibase.hub - Skipping auto-registration
[INFO ] 2021-08-30 13:40:33 [main] INFO  liquibase.lockservice - Successfully released change log lock
[INFO ] 2021-08-30 13:40:33 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-08-30 13:40:33 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.31.Final
[INFO ] 2021-08-30 13:40:34 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-08-30 13:40:34 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
[INFO ] 2021-08-30 13:40:34 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-08-30 13:40:34 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-08-30 13:40:35 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-08-30 13:40:35 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.web.filter.CorsFilter@44f8d884, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@65d3e2ba, org.springframework.security.web.context.SecurityContextPersistenceFilter@2ecb87b2, org.springframework.security.web.header.HeaderWriterFilter@4c32aa7e, org.springframework.web.filter.CorsFilter@5f9f1886, org.springframework.security.web.authentication.logout.LogoutFilter@79e591bb, ru.netology.cloud_service_app.security.jwt.JwtUsernamePasswordAuthenticationFilter@136a5572, ru.netology.cloud_service_app.security.jwt.JwtTokenVerifier@11548363, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3cb4f1a6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@35bcf3a6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6be865c1, org.springframework.security.web.session.SessionManagementFilter@18372705, org.springframework.security.web.access.ExceptionTranslationFilter@45594dfe, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3299e315]
[INFO ] 2021-08-30 13:40:36 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 64033 (http) with context path ''
[INFO ] 2021-08-30 13:40:36 [main] INFO  r.n.c.i.CloudServiceIntegrationTest - Started CloudServiceIntegrationTest in 6.129 seconds (JVM running for 38.794)
[INFO ] 2021-08-30 13:40:36 [main] INFO  o.s.b.a.ApplicationAvailabilityBean - Application availability state LivenessState changed to CORRECT
[INFO ] 2021-08-30 13:40:36 [main] INFO  o.s.b.a.ApplicationAvailabilityBean - Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
[INFO ] 2021-08-30 13:40:36 [main] INFO  o.s.t.c.t.TransactionContext - Began transaction (1) for test context [DefaultTestContext@3e668743 testClass = CloudServiceIntegrationTest, testInstance = ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest@35b8b69f, testMethod = backendApplicationGetAllFilesMethodShouldReturnOkAndValidJsonResponse@CloudServiceIntegrationTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6fca831e testClass = CloudServiceIntegrationTest, locations = '{}', classes = '{class ru.netology.cloud_service_app.CloudServiceAppApplication}', contextInitializerClasses = '[class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@58594a11, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@14fa86ae, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@490caf5f, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@b83a9be, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@327af41b, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@21bcffb5], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@65134e6c]; rollback [true]
[INFO ] 2021-08-30 13:40:37 [main] INFO  o.s.t.c.t.TransactionContext - Rolled back transaction for test: [DefaultTestContext@3e668743 testClass = CloudServiceIntegrationTest, testInstance = ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest@35b8b69f, testMethod = backendApplicationGetAllFilesMethodShouldReturnOkAndValidJsonResponse@CloudServiceIntegrationTest, testException = org.opentest4j.MultipleFailuresError: Multiple Failures (1 failure)
	org.opentest4j.AssertionFailedError: expected: <[{"size":100,"filename":"111.jpeg"}]> but was: <[]>, mergedContextConfiguration = [WebMergedContextConfiguration@6fca831e testClass = CloudServiceIntegrationTest, locations = '{}', classes = '{class ru.netology.cloud_service_app.CloudServiceAppApplication}', contextInitializerClasses = '[class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@58594a11, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@14fa86ae, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@490caf5f, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@b83a9be, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@327af41b, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@21bcffb5], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
[INFO ] 2021-08-30 13:40:37 [main] INFO  o.s.t.c.t.TransactionContext - Began transaction (1) for test context [DefaultTestContext@3e668743 testClass = CloudServiceIntegrationTest, testInstance = ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest@2b35dde3, testMethod = testBackendContainerShouldWork@CloudServiceIntegrationTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6fca831e testClass = CloudServiceIntegrationTest, locations = '{}', classes = '{class ru.netology.cloud_service_app.CloudServiceAppApplication}', contextInitializerClasses = '[class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@58594a11, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@14fa86ae, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@490caf5f, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@b83a9be, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@327af41b, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@21bcffb5], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@65134e6c]; rollback [true]
[INFO ] 2021-08-30 13:40:37 [main] INFO  o.s.t.c.t.TransactionContext - Rolled back transaction for test: [DefaultTestContext@3e668743 testClass = CloudServiceIntegrationTest, testInstance = ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest@2b35dde3, testMethod = testBackendContainerShouldWork@CloudServiceIntegrationTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6fca831e testClass = CloudServiceIntegrationTest, locations = '{}', classes = '{class ru.netology.cloud_service_app.CloudServiceAppApplication}', contextInitializerClasses = '[class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@58594a11, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@14fa86ae, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@490caf5f, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@b83a9be, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@327af41b, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@21bcffb5], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
[INFO ] 2021-08-30 13:40:37 [main] INFO  o.s.t.c.t.TransactionContext - Began transaction (1) for test context [DefaultTestContext@3e668743 testClass = CloudServiceIntegrationTest, testInstance = ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest@5e435f0d, testMethod = backendApplicationEditFilenameMethodShouldReturnOk@CloudServiceIntegrationTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6fca831e testClass = CloudServiceIntegrationTest, locations = '{}', classes = '{class ru.netology.cloud_service_app.CloudServiceAppApplication}', contextInitializerClasses = '[class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@58594a11, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@14fa86ae, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@490caf5f, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@b83a9be, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@327af41b, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@21bcffb5], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@65134e6c]; rollback [true]
[INFO ] 2021-08-30 13:40:37 [main] INFO  o.s.t.c.t.TransactionContext - Rolled back transaction for test: [DefaultTestContext@3e668743 testClass = CloudServiceIntegrationTest, testInstance = ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest@5e435f0d, testMethod = backendApplicationEditFilenameMethodShouldReturnOk@CloudServiceIntegrationTest, testException = org.opentest4j.MultipleFailuresError: Multiple Failures (2 failures)
	org.opentest4j.AssertionFailedError: expected: <200 OK> but was: <500 INTERNAL_SERVER_ERROR>
	org.opentest4j.AssertionFailedError: expected: <Success upload> but was: <{"message":"Ошибка изменения файла 111.jpeg","statusCodeId":500}>, mergedContextConfiguration = [WebMergedContextConfiguration@6fca831e testClass = CloudServiceIntegrationTest, locations = '{}', classes = '{class ru.netology.cloud_service_app.CloudServiceAppApplication}', contextInitializerClasses = '[class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@58594a11, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@14fa86ae, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@490caf5f, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@b83a9be, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@327af41b, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@21bcffb5], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
[INFO ] 2021-08-30 13:40:37 [main] INFO  o.s.t.c.t.TransactionContext - Began transaction (1) for test context [DefaultTestContext@3e668743 testClass = CloudServiceIntegrationTest, testInstance = ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest@216a3aba, testMethod = backendApplicationSaveFileMethodShouldReturnOk@CloudServiceIntegrationTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6fca831e testClass = CloudServiceIntegrationTest, locations = '{}', classes = '{class ru.netology.cloud_service_app.CloudServiceAppApplication}', contextInitializerClasses = '[class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@58594a11, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@14fa86ae, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@490caf5f, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@b83a9be, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@327af41b, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@21bcffb5], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@65134e6c]; rollback [true]
[INFO ] 2021-08-30 13:40:38 [main] INFO  o.s.t.c.t.TransactionContext - Rolled back transaction for test: [DefaultTestContext@3e668743 testClass = CloudServiceIntegrationTest, testInstance = ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest@216a3aba, testMethod = backendApplicationSaveFileMethodShouldReturnOk@CloudServiceIntegrationTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6fca831e testClass = CloudServiceIntegrationTest, locations = '{}', classes = '{class ru.netology.cloud_service_app.CloudServiceAppApplication}', contextInitializerClasses = '[class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@58594a11, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@14fa86ae, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@490caf5f, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@b83a9be, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@327af41b, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@21bcffb5], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
[INFO ] 2021-08-30 13:40:38 [main] INFO  o.s.t.c.t.TransactionContext - Began transaction (1) for test context [DefaultTestContext@3e668743 testClass = CloudServiceIntegrationTest, testInstance = ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest@2acb6c9a, testMethod = backendApplicationDeleteFileMethodShouldReturnOk@CloudServiceIntegrationTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6fca831e testClass = CloudServiceIntegrationTest, locations = '{}', classes = '{class ru.netology.cloud_service_app.CloudServiceAppApplication}', contextInitializerClasses = '[class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@58594a11, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@14fa86ae, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@490caf5f, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@b83a9be, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@327af41b, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@21bcffb5], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@65134e6c]; rollback [true]
[INFO ] 2021-08-30 13:40:38 [main] INFO  o.s.t.c.t.TransactionContext - Rolled back transaction for test: [DefaultTestContext@3e668743 testClass = CloudServiceIntegrationTest, testInstance = ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest@2acb6c9a, testMethod = backendApplicationDeleteFileMethodShouldReturnOk@CloudServiceIntegrationTest, testException = org.opentest4j.MultipleFailuresError: Multiple Failures (2 failures)
	org.opentest4j.AssertionFailedError: expected: <200 OK> but was: <500 INTERNAL_SERVER_ERROR>
	org.opentest4j.AssertionFailedError: expected: <Success deleted> but was: <{"message":"Ошибка удаления файла 111.jpeg","statusCodeId":500}>, mergedContextConfiguration = [WebMergedContextConfiguration@6fca831e testClass = CloudServiceIntegrationTest, locations = '{}', classes = '{class ru.netology.cloud_service_app.CloudServiceAppApplication}', contextInitializerClasses = '[class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@58594a11, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@14fa86ae, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@490caf5f, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@b83a9be, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@327af41b, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@21bcffb5], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
[INFO ] 2021-08-30 13:40:38 [main] INFO  o.s.t.c.t.TransactionContext - Began transaction (1) for test context [DefaultTestContext@3e668743 testClass = CloudServiceIntegrationTest, testInstance = ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest@2c2f4769, testMethod = testPostgresContainerShouldWork@CloudServiceIntegrationTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6fca831e testClass = CloudServiceIntegrationTest, locations = '{}', classes = '{class ru.netology.cloud_service_app.CloudServiceAppApplication}', contextInitializerClasses = '[class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@58594a11, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@14fa86ae, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@490caf5f, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@b83a9be, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@327af41b, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@21bcffb5], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@65134e6c]; rollback [true]
[INFO ] 2021-08-30 13:40:38 [main] INFO  o.s.t.c.t.TransactionContext - Rolled back transaction for test: [DefaultTestContext@3e668743 testClass = CloudServiceIntegrationTest, testInstance = ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest@2c2f4769, testMethod = testPostgresContainerShouldWork@CloudServiceIntegrationTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6fca831e testClass = CloudServiceIntegrationTest, locations = '{}', classes = '{class ru.netology.cloud_service_app.CloudServiceAppApplication}', contextInitializerClasses = '[class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@58594a11, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@14fa86ae, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@490caf5f, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@b83a9be, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@327af41b, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@21bcffb5], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
[INFO ] 2021-08-30 13:40:38 [main] INFO  o.s.t.c.t.TransactionContext - Began transaction (1) for test context [DefaultTestContext@3e668743 testClass = CloudServiceIntegrationTest, testInstance = ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest@62e7e3df, testMethod = backendApplicationDownloadFileMethodShouldReturnOk@CloudServiceIntegrationTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6fca831e testClass = CloudServiceIntegrationTest, locations = '{}', classes = '{class ru.netology.cloud_service_app.CloudServiceAppApplication}', contextInitializerClasses = '[class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@58594a11, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@14fa86ae, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@490caf5f, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@b83a9be, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@327af41b, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@21bcffb5], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@65134e6c]; rollback [true]
[INFO ] 2021-08-30 13:40:38 [main] INFO  o.s.t.c.t.TransactionContext - Rolled back transaction for test: [DefaultTestContext@3e668743 testClass = CloudServiceIntegrationTest, testInstance = ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest@62e7e3df, testMethod = backendApplicationDownloadFileMethodShouldReturnOk@CloudServiceIntegrationTest, testException = org.opentest4j.AssertionFailedError: expected: <200 OK> but was: <404 NOT_FOUND>, mergedContextConfiguration = [WebMergedContextConfiguration@6fca831e testClass = CloudServiceIntegrationTest, locations = '{}', classes = '{class ru.netology.cloud_service_app.CloudServiceAppApplication}', contextInitializerClasses = '[class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@58594a11, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@14fa86ae, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@490caf5f, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@b83a9be, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@327af41b, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@21bcffb5], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
[INFO ] 2021-08-30 13:41:06 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest]: no resource found for suffixes {-context.xml, Context.groovy}.
[INFO ] 2021-08-30 13:41:06 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest]: CloudServiceIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
[INFO ] 2021-08-30 13:41:06 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration ru.netology.cloud_service_app.CloudServiceAppApplication for test class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest
[INFO ] 2021-08-30 13:41:06 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
[INFO ] 2021-08-30 13:41:06 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3f07b12c, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4bd1f8dd, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@7096b474, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@3e14c16d, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@3c989952, org.springframework.test.context.support.DirtiesContextTestExecutionListener@784b990c, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3d3ba765, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@25bc0606, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@5d1659ea, org.springframework.test.context.event.EventPublishingTestExecutionListener@793138bd, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@1951b871, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@5c18016b, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@33aeca0b, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@43aaf813, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@57ac5227, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@4ba302e0, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@e98770d]
[INFO ] 2021-08-30 13:41:07 [testcontainers-lifecycle-0] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
[INFO ] 2021-08-30 13:41:08 [testcontainers-lifecycle-0] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
[INFO ] 2021-08-30 13:41:08 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Docker host IP address is localhost
[INFO ] 2021-08-30 13:41:08 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Connected to docker: 
  Server Version: 20.10.7
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 1987 MB
[INFO ] 2021-08-30 13:41:08 [testcontainers-lifecycle-0] INFO  o.t.utility.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
[INFO ] 2021-08-30 13:41:10 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
[INFO ] 2021-08-30 13:41:10 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Checking the system...
[INFO ] 2021-08-30 13:41:10 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - ✔︎ Docker server version should be at least 1.6.0
[INFO ] 2021-08-30 13:41:10 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - ✔︎ Docker environment should have more than 2GB free disk space
[INFO ] 2021-08-30 13:41:10 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Creating container for image: postgres:13.2
[INFO ] 2021-08-30 13:41:14 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Starting container with ID: 76ef258d0154039cde15c985a3686dc0bf818aa8f5eb5b1cec3eb0716b36eb7a
[INFO ] 2021-08-30 13:41:17 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Container postgres:13.2 is starting: 76ef258d0154039cde15c985a3686dc0bf818aa8f5eb5b1cec3eb0716b36eb7a
[INFO ] 2021-08-30 13:41:19 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Container postgres:13.2 started in PT8.661854S
[INFO ] 2021-08-30 13:41:19 [main] INFO  🐳 [cloud_service_app:1.1] - Creating container for image: cloud_service_app:1.1
[INFO ] 2021-08-30 13:41:19 [main] INFO  🐳 [cloud_service_app:1.1] - Starting container with ID: 086eaa431ecb8dae91be4199e42cd7615461499deebc9052fc1ae141e0b28e13
[INFO ] 2021-08-30 13:41:22 [main] INFO  🐳 [cloud_service_app:1.1] - Container cloud_service_app:1.1 is starting: 086eaa431ecb8dae91be4199e42cd7615461499deebc9052fc1ae141e0b28e13
[INFO ] 2021-08-30 13:41:44 [main] INFO  🐳 [cloud_service_app:1.1] - Container cloud_service_app:1.1 started in PT24.852509S
[INFO ] 2021-08-30 13:41:44 [main] INFO  r.n.c.i.CloudServiceIntegrationTest - Starting CloudServiceIntegrationTest using Java 14.0.1 on MBP-Maksim.Dlink with PID 26560 (started by maksim in /Users/maksim/Desktop/CloudService/CloudServiceBackend)
[INFO ] 2021-08-30 13:41:44 [main] INFO  r.n.c.i.CloudServiceIntegrationTest - No active profile set, falling back to default profiles: default
[WARN ] 2021-08-30 13:41:44 [background-preinit] WARN  o.s.h.c.j.Jackson2ObjectMapperBuilder - For Jackson Kotlin classes support please add "com.fasterxml.jackson.module:jackson-module-kotlin" to the classpath
[INFO ] 2021-08-30 13:41:45 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-08-30 13:41:45 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 78 ms. Found 2 JPA repository interfaces.
[INFO ] 2021-08-30 13:41:46 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@456f7d9e' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[INFO ] 2021-08-30 13:41:46 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[INFO ] 2021-08-30 13:41:46 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
[INFO ] 2021-08-30 13:41:46 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
[INFO ] 2021-08-30 13:41:46 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.46]
[INFO ] 2021-08-30 13:41:46 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
[INFO ] 2021-08-30 13:41:46 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2259 ms
[INFO ] 2021-08-30 13:41:47 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
[INFO ] 2021-08-30 13:41:47 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
[INFO ] 2021-08-30 13:41:48 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
[INFO ] 2021-08-30 13:41:49 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
[INFO ] 2021-08-30 13:41:49 [main] INFO  liquibase.lockservice - Successfully released change log lock
[INFO ] 2021-08-30 13:41:49 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
[WARN ] 2021-08-30 13:41:49 [main] WARN  liquibase.hub - Skipping auto-registration
[INFO ] 2021-08-30 13:41:49 [main] INFO  liquibase.lockservice - Successfully released change log lock
[INFO ] 2021-08-30 13:41:49 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-08-30 13:41:49 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.31.Final
[INFO ] 2021-08-30 13:41:49 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-08-30 13:41:49 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
[INFO ] 2021-08-30 13:41:50 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-08-30 13:41:50 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-08-30 13:41:51 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-08-30 13:41:51 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.web.filter.CorsFilter@3204146d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3299e315, org.springframework.security.web.context.SecurityContextPersistenceFilter@4c32aa7e, org.springframework.security.web.header.HeaderWriterFilter@cbd9494, org.springframework.web.filter.CorsFilter@7320bccc, org.springframework.security.web.authentication.logout.LogoutFilter@2b8a11d7, ru.netology.cloud_service_app.security.jwt.JwtUsernamePasswordAuthenticationFilter@403ba39f, ru.netology.cloud_service_app.security.jwt.JwtTokenVerifier@520e6089, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@18372705, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1704437b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2ff2a096, org.springframework.security.web.session.SessionManagementFilter@2ab87cb8, org.springframework.security.web.access.ExceptionTranslationFilter@49e54217, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7f59f4e4]
[INFO ] 2021-08-30 13:41:52 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 64429 (http) with context path ''
[INFO ] 2021-08-30 13:41:52 [main] INFO  r.n.c.i.CloudServiceIntegrationTest - Started CloudServiceIntegrationTest in 8.574 seconds (JVM running for 47.262)
[INFO ] 2021-08-30 13:41:52 [main] INFO  o.s.b.a.ApplicationAvailabilityBean - Application availability state LivenessState changed to CORRECT
[INFO ] 2021-08-30 13:41:52 [main] INFO  o.s.b.a.ApplicationAvailabilityBean - Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
[INFO ] 2021-08-30 13:42:42 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest]: no resource found for suffixes {-context.xml, Context.groovy}.
[INFO ] 2021-08-30 13:42:42 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest]: CloudServiceIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
[INFO ] 2021-08-30 13:42:42 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration ru.netology.cloud_service_app.CloudServiceAppApplication for test class ru.netology.cloud_service_app.integration_tests.CloudServiceIntegrationTest
[INFO ] 2021-08-30 13:42:42 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
[INFO ] 2021-08-30 13:42:42 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5b1f29fa, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@aeab9a1, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@40f70521, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@774698ab, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@55342f40, org.springframework.test.context.support.DirtiesContextTestExecutionListener@a4ca3f6, org.springframework.test.context.transaction.TransactionalTestExecutionListener@72ea6193, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@31aa3ca5, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@45905bff, org.springframework.test.context.event.EventPublishingTestExecutionListener@2a2c13a8, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@b6b1987, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@6b44435b, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@2ccca26f, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@66b7550d, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@3543df7d, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@7c541c15, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@3542162a]
[INFO ] 2021-08-30 13:42:42 [testcontainers-lifecycle-0] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
[INFO ] 2021-08-30 13:42:43 [testcontainers-lifecycle-0] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
[INFO ] 2021-08-30 13:42:43 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Docker host IP address is localhost
[INFO ] 2021-08-30 13:42:43 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Connected to docker: 
  Server Version: 20.10.7
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 1987 MB
[INFO ] 2021-08-30 13:42:43 [testcontainers-lifecycle-0] INFO  o.t.utility.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
[INFO ] 2021-08-30 13:42:45 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
[INFO ] 2021-08-30 13:42:45 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - Checking the system...
[INFO ] 2021-08-30 13:42:45 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - ✔︎ Docker server version should be at least 1.6.0
[INFO ] 2021-08-30 13:42:45 [testcontainers-lifecycle-0] INFO  o.testcontainers.DockerClientFactory - ✔︎ Docker environment should have more than 2GB free disk space
[INFO ] 2021-08-30 13:42:45 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Creating container for image: postgres:13.2
[INFO ] 2021-08-30 13:42:49 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Starting container with ID: 03a7989b80a5d8aa7ba4ecd7a299ee5a21659a80e41ff2cd649d8cb00785901b
[INFO ] 2021-08-30 13:42:53 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Container postgres:13.2 is starting: 03a7989b80a5d8aa7ba4ecd7a299ee5a21659a80e41ff2cd649d8cb00785901b
[INFO ] 2021-08-30 13:42:55 [testcontainers-lifecycle-0] INFO  🐳 [postgres:13.2] - Container postgres:13.2 started in PT9.579463S
[INFO ] 2021-08-30 13:42:55 [main] INFO  🐳 [cloud_service_app:1.1] - Creating container for image: cloud_service_app:1.1
[INFO ] 2021-08-30 13:42:55 [main] INFO  🐳 [cloud_service_app:1.1] - Starting container with ID: 36e8d28e989e88326317d7fd34f907b05bf5130cd45354d87573fbc9d9ea244d
[INFO ] 2021-08-30 13:42:58 [main] INFO  🐳 [cloud_service_app:1.1] - Container cloud_service_app:1.1 is starting: 36e8d28e989e88326317d7fd34f907b05bf5130cd45354d87573fbc9d9ea244d
[INFO ] 2021-08-30 13:43:18 [main] INFO  🐳 [cloud_service_app:1.1] - Container cloud_service_app:1.1 started in PT23.523838S
[INFO ] 2021-08-30 13:43:18 [main] INFO  🐳 [front_app:1.0] - Creating container for image: front_app:1.0
[INFO ] 2021-08-30 13:43:19 [main] INFO  🐳 [front_app:1.0] - Starting container with ID: fc65020fa7bed571b98e7557ec3396278a3b8e486b79ce1ff698479f53844ef9
[INFO ] 2021-08-30 13:43:22 [main] INFO  🐳 [front_app:1.0] - Container front_app:1.0 is starting: fc65020fa7bed571b98e7557ec3396278a3b8e486b79ce1ff698479f53844ef9
[INFO ] 2021-08-30 13:43:27 [main] INFO  🐳 [front_app:1.0] - Container front_app:1.0 started in PT8.528079S
[INFO ] 2021-08-30 13:43:28 [main] INFO  r.n.c.i.CloudServiceIntegrationTest - Starting CloudServiceIntegrationTest using Java 14.0.1 on MBP-Maksim.Dlink with PID 26814 (started by maksim in /Users/maksim/Desktop/CloudService/CloudServiceBackend)
[INFO ] 2021-08-30 13:43:28 [main] INFO  r.n.c.i.CloudServiceIntegrationTest - No active profile set, falling back to default profiles: default
[WARN ] 2021-08-30 13:43:28 [background-preinit] WARN  o.s.h.c.j.Jackson2ObjectMapperBuilder - For Jackson Kotlin classes support please add "com.fasterxml.jackson.module:jackson-module-kotlin" to the classpath
[INFO ] 2021-08-30 13:43:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-08-30 13:43:29 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 75 ms. Found 2 JPA repository interfaces.
[INFO ] 2021-08-30 13:43:29 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@feb098f' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[INFO ] 2021-08-30 13:43:29 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[INFO ] 2021-08-30 13:43:30 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
[INFO ] 2021-08-30 13:43:30 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
[INFO ] 2021-08-30 13:43:30 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.46]
[INFO ] 2021-08-30 13:43:30 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
[INFO ] 2021-08-30 13:43:30 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2303 ms
[INFO ] 2021-08-30 13:43:30 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
[INFO ] 2021-08-30 13:43:30 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
[INFO ] 2021-08-30 13:43:31 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
[INFO ] 2021-08-30 13:43:32 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
[INFO ] 2021-08-30 13:43:32 [main] INFO  liquibase.lockservice - Successfully released change log lock
[INFO ] 2021-08-30 13:43:32 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
[WARN ] 2021-08-30 13:43:32 [main] WARN  liquibase.hub - Skipping auto-registration
[INFO ] 2021-08-30 13:43:32 [main] INFO  liquibase.lockservice - Successfully released change log lock
[INFO ] 2021-08-30 13:43:32 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-08-30 13:43:33 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.31.Final
[INFO ] 2021-08-30 13:43:33 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-08-30 13:43:33 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
[INFO ] 2021-08-30 13:43:35 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-08-30 13:43:35 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-08-30 13:43:36 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-08-30 13:43:37 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.web.filter.CorsFilter@cfe881a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@75f579d2, org.springframework.security.web.context.SecurityContextPersistenceFilter@3fc064cb, org.springframework.security.web.header.HeaderWriterFilter@605c2b9f, org.springframework.web.filter.CorsFilter@61bfd7da, org.springframework.security.web.authentication.logout.LogoutFilter@3123ac1a, ru.netology.cloud_service_app.security.jwt.JwtUsernamePasswordAuthenticationFilter@6179af64, ru.netology.cloud_service_app.security.jwt.JwtTokenVerifier@193f5509, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@617d697, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@416bff93, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@475a8415, org.springframework.security.web.session.SessionManagementFilter@1adc38a0, org.springframework.security.web.access.ExceptionTranslationFilter@2ecb87b2, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@d140627]
[INFO ] 2021-08-30 13:43:38 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 64908 (http) with context path ''
[INFO ] 2021-08-30 13:43:38 [main] INFO  r.n.c.i.CloudServiceIntegrationTest - Started CloudServiceIntegrationTest in 10.843 seconds (JVM running for 57.066)
[INFO ] 2021-08-30 13:43:38 [main] INFO  o.s.b.a.ApplicationAvailabilityBean - Application availability state LivenessState changed to CORRECT
[INFO ] 2021-08-30 13:43:38 [main] INFO  o.s.b.a.ApplicationAvailabilityBean - Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
