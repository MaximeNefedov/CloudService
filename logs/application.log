[INFO ] 2021-08-31 12:09:48 [main] INFO  r.n.c.CloudServiceAppApplication - Starting CloudServiceAppApplication using Java 14.0.1 on MBP-Maksim.Dlink with PID 4785 (/Users/maksim/Desktop/CloudService/target/classes started by maksim in /Users/maksim/Desktop/CloudService)
[INFO ] 2021-08-31 12:09:48 [main] INFO  r.n.c.CloudServiceAppApplication - No active profile set, falling back to default profiles: default
[WARN ] 2021-08-31 12:09:48 [background-preinit] WARN  o.s.h.c.j.Jackson2ObjectMapperBuilder - For Jackson Kotlin classes support please add "com.fasterxml.jackson.module:jackson-module-kotlin" to the classpath
[INFO ] 2021-08-31 12:09:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-08-31 12:09:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 69 ms. Found 2 JPA repository interfaces.
[INFO ] 2021-08-31 12:09:49 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@e9ef5b6' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[INFO ] 2021-08-31 12:09:49 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[INFO ] 2021-08-31 12:09:50 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8888 (http)
[INFO ] 2021-08-31 12:09:50 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
[INFO ] 2021-08-31 12:09:50 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.46]
[INFO ] 2021-08-31 12:09:50 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
[INFO ] 2021-08-31 12:09:50 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1767 ms
[INFO ] 2021-08-31 12:09:50 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
[INFO ] 2021-08-31 12:09:50 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
[INFO ] 2021-08-31 12:09:50 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
[INFO ] 2021-08-31 12:09:51 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
[INFO ] 2021-08-31 12:09:51 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
[INFO ] 2021-08-31 12:09:51 [main] INFO  liquibase.lockservice - Successfully released change log lock
[INFO ] 2021-08-31 12:09:51 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
[WARN ] 2021-08-31 12:09:51 [main] WARN  liquibase.hub - Skipping auto-registration
[INFO ] 2021-08-31 12:09:51 [main] INFO  liquibase.changelog - SQL in file 001-create-users-table.sql executed
[INFO ] 2021-08-31 12:09:51 [main] INFO  liquibase.changelog - ChangeSet db/changelog/migrations/001/001-create-users-table.xml::001::Maxim ran successfully in 26ms
[INFO ] 2021-08-31 12:09:51 [main] INFO  liquibase.changelog - SQL in file 002-create-roles-table.sql executed
[INFO ] 2021-08-31 12:09:51 [main] INFO  liquibase.changelog - ChangeSet db/changelog/migrations/002/002-create-roles-table.xml::002::Maxim ran successfully in 11ms
[INFO ] 2021-08-31 12:09:51 [main] INFO  liquibase.changelog - SQL in file 003-create-authorities-table.sql executed
[INFO ] 2021-08-31 12:09:51 [main] INFO  liquibase.changelog - ChangeSet db/changelog/migrations/003/003-create-authorities-table.xml::003::Maxim ran successfully in 10ms
[INFO ] 2021-08-31 12:09:51 [main] INFO  liquibase.changelog - SQL in file 004-create-users-roles-table.sql executed
[INFO ] 2021-08-31 12:09:51 [main] INFO  liquibase.changelog - ChangeSet db/changelog/migrations/004/004-create-users-roles-table.xml::004::Maxim ran successfully in 10ms
[INFO ] 2021-08-31 12:09:51 [main] INFO  liquibase.changelog - SQL in file 005-create-roles-authorities-table.sql executed
[INFO ] 2021-08-31 12:09:51 [main] INFO  liquibase.changelog - ChangeSet db/changelog/migrations/005/005-create-roles-authorities-table.xml::005::Maxim ran successfully in 14ms
[INFO ] 2021-08-31 12:09:52 [main] INFO  liquibase.changelog - SQL in file 006-fill-tables-for-test.sql executed
[INFO ] 2021-08-31 12:09:52 [main] INFO  liquibase.changelog - ChangeSet db/changelog/migrations/006/006-fill-tables-for-test.xml::006::Maxim ran successfully in 495ms
[INFO ] 2021-08-31 12:09:52 [main] INFO  liquibase.changelog - SQL in file 007-add-roles-and-authorities.sql executed
[INFO ] 2021-08-31 12:09:52 [main] INFO  liquibase.changelog - ChangeSet db/changelog/migrations/007/007-add-roles-and-authorities.xml::007::Maxim ran successfully in 26ms
[INFO ] 2021-08-31 12:09:52 [main] INFO  liquibase.changelog - SQL in file 008-add-files-table.sql executed
[INFO ] 2021-08-31 12:09:52 [main] INFO  liquibase.changelog - ChangeSet db/changelog/migrations/008/008-add-files-table.xml::008::Maxim ran successfully in 14ms
[INFO ] 2021-08-31 12:09:52 [main] INFO  liquibase.lockservice - Successfully released change log lock
[INFO ] 2021-08-31 12:09:52 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-08-31 12:09:52 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.31.Final
[INFO ] 2021-08-31 12:09:52 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-08-31 12:09:52 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
[INFO ] 2021-08-31 12:09:53 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-08-31 12:09:53 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-08-31 12:09:53 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-08-31 12:09:53 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.web.filter.CorsFilter@f9ac719, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@53a3fc8b, org.springframework.security.web.context.SecurityContextPersistenceFilter@5d8a1456, org.springframework.security.web.header.HeaderWriterFilter@4932d580, org.springframework.web.filter.CorsFilter@337e573b, org.springframework.security.web.authentication.logout.LogoutFilter@2bfa5678, ru.netology.cloud_service_app.security.jwt.JwtUsernamePasswordAuthenticationFilter@4d24ab25, ru.netology.cloud_service_app.security.jwt.JwtTokenVerifier@145f1f97, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7e1953f7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7a6e0f3c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@58d4fe33, org.springframework.security.web.session.SessionManagementFilter@60256d1b, org.springframework.security.web.access.ExceptionTranslationFilter@3a89226e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@72115c48]
[INFO ] 2021-08-31 12:09:53 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8888 (http) with context path ''
[INFO ] 2021-08-31 12:09:53 [main] INFO  r.n.c.CloudServiceAppApplication - Started CloudServiceAppApplication in 6.046 seconds (JVM running for 7.412)
[INFO ] 2021-08-31 12:09:53 [main] INFO  o.s.b.a.ApplicationAvailabilityBean - Application availability state LivenessState changed to CORRECT
[INFO ] 2021-08-31 12:09:53 [main] INFO  o.s.b.a.ApplicationAvailabilityBean - Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
[INFO ] 2021-08-31 12:10:17 [http-nio-8888-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
[INFO ] 2021-08-31 12:10:17 [http-nio-8888-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
[INFO ] 2021-08-31 12:10:17 [http-nio-8888-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 7 ms
[INFO ] 2021-08-31 12:10:18 [http-nio-8888-exec-4] INFO  r.n.c.controllers.FileController - Принят запрос от пользоваетеля max@mail.ru на просмотр всех файлов
[INFO ] 2021-08-31 12:10:18 [http-nio-8888-exec-4] INFO  r.n.c.controllers.FileController - Пользователь max@mail.ru получил список файлов: []
[INFO ] 2021-08-31 12:10:26 [http-nio-8888-exec-6] INFO  r.n.c.controllers.FileController - Принят запрос от пользоваетеля max@mail.ru на сохранение файла 1.jpeg
[INFO ] 2021-08-31 12:10:26 [http-nio-8888-exec-6] INFO  r.n.c.services.FileServiceImpl - Осуществляется проверка на наличие дупликата или возможности восстановить файл
[INFO ] 2021-08-31 12:10:26 [http-nio-8888-exec-6] INFO  r.n.c.services.FileServiceImpl - В БД не обнаружено файлов, пригодных для восстановления
[INFO ] 2021-08-31 12:10:26 [http-nio-8888-exec-6] INFO  r.n.c.controllers.FileController - Пользователь max@mail.ru успешно сохранил файл
[INFO ] 2021-08-31 12:10:28 [http-nio-8888-exec-8] INFO  r.n.c.controllers.FileController - Принят запрос от пользоваетеля max@mail.ru на просмотр всех файлов
[INFO ] 2021-08-31 12:10:28 [http-nio-8888-exec-8] INFO  r.n.c.controllers.FileController - Пользователь max@mail.ru получил список файлов: [FileData(fileName=1.jpeg, size=282426)]
[INFO ] 2021-08-31 12:10:44 [http-nio-8888-exec-10] INFO  r.n.c.controllers.FileController - Принят запрос от пользоваетеля max@mail.ru на удаление файла 1.jpeg
[INFO ] 2021-08-31 12:10:44 [http-nio-8888-exec-10] INFO  r.n.c.controllers.FileController - Пользоваетель max@mail.ru успешно удалил файл 1.jpeg
[INFO ] 2021-08-31 12:10:46 [http-nio-8888-exec-2] INFO  r.n.c.controllers.FileController - Принят запрос от пользоваетеля max@mail.ru на просмотр всех файлов
[INFO ] 2021-08-31 12:10:46 [http-nio-8888-exec-2] INFO  r.n.c.controllers.FileController - Пользователь max@mail.ru получил список файлов: []
[INFO ] 2021-08-31 12:10:55 [http-nio-8888-exec-4] INFO  r.n.c.controllers.FileController - Принят запрос от пользоваетеля max@mail.ru на сохранение файла Снимок экрана 2021-07-22 в 17.37.29.png
[INFO ] 2021-08-31 12:10:55 [http-nio-8888-exec-4] INFO  r.n.c.services.FileServiceImpl - Осуществляется проверка на наличие дупликата или возможности восстановить файл
[INFO ] 2021-08-31 12:10:55 [http-nio-8888-exec-4] INFO  r.n.c.services.FileServiceImpl - В БД не обнаружено файлов, пригодных для восстановления
[INFO ] 2021-08-31 12:10:55 [http-nio-8888-exec-4] INFO  r.n.c.controllers.FileController - Пользователь max@mail.ru успешно сохранил файл
[INFO ] 2021-08-31 12:10:57 [http-nio-8888-exec-6] INFO  r.n.c.controllers.FileController - Принят запрос от пользоваетеля max@mail.ru на просмотр всех файлов
[INFO ] 2021-08-31 12:10:57 [http-nio-8888-exec-6] INFO  r.n.c.controllers.FileController - Пользователь max@mail.ru получил список файлов: [FileData(fileName=Снимок экрана 2021-07-22 в 17.37.29.png, size=137334)]
[INFO ] 2021-08-31 12:11:03 [http-nio-8888-exec-8] INFO  r.n.c.controllers.FileController - Принят запрос от пользователя max@mail.ru на изменение названия файла Снимок экрана 2021-07-22 в 17.37.29.png, на новое: 438.png
[INFO ] 2021-08-31 12:11:03 [http-nio-8888-exec-8] INFO  r.n.c.controllers.FileController - Пользоваетель max@mail.ru успешно изменил файл Снимок экрана 2021-07-22 в 17.37.29.png, новое название файла: 438.png
[INFO ] 2021-08-31 12:11:16 [http-nio-8888-exec-10] INFO  r.n.c.controllers.FileController - Принят запрос от пользоваетеля max@mail.ru на сохранение файла 1.jpeg
[INFO ] 2021-08-31 12:11:16 [http-nio-8888-exec-10] INFO  r.n.c.services.FileServiceImpl - Осуществляется проверка на наличие дупликата или возможности восстановить файл
[INFO ] 2021-08-31 12:11:16 [http-nio-8888-exec-10] INFO  r.n.c.services.FileServiceImpl - Файл пригоден для восстановления
[INFO ] 2021-08-31 12:11:16 [http-nio-8888-exec-10] INFO  r.n.c.services.FileServiceImpl - Файл восстановлен, его статус обновился
[INFO ] 2021-08-31 12:11:16 [http-nio-8888-exec-10] INFO  r.n.c.controllers.FileController - Пользователь max@mail.ru успешно сохранил файл
[INFO ] 2021-08-31 12:11:19 [http-nio-8888-exec-2] INFO  r.n.c.controllers.FileController - Принят запрос от пользоваетеля max@mail.ru на просмотр всех файлов
[INFO ] 2021-08-31 12:11:19 [http-nio-8888-exec-2] INFO  r.n.c.controllers.FileController - Пользователь max@mail.ru получил список файлов: [FileData(fileName=438.png, size=137334), FileData(fileName=1.jpeg, size=282426)]
